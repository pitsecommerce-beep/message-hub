import{A as x,r as m,j as e,B as p,U as h,f as g}from"./index-CEkNgELi.js";import{f as j}from"./use-config-BTq_Od9e.js";import{B as f}from"./badge-mSajl2YX.js";import{C as u}from"./copy-BXbRT9-d.js";import"./useQuery-D47Ue_YD.js";import"./useMutation-COeJoQaC.js";const N={admin:"Administrador",gerente:"Gerente",manager:"Gerente",agente:"Agente",agent:"Agente"},v={admin:"default",gerente:"warning",manager:"warning",agente:"info",agent:"info"};function E(){const{userData:t,organization:i}=x(),c=(t==null?void 0:t.orgId)??(t==null?void 0:t.organizationId)??(i==null?void 0:i.id),{data:a=[],isLoading:n}=j(c),[y,w]=m.useState(!1),r=(i==null?void 0:i.inviteCode)??"—";function o(){navigator.clipboard.writeText(r),g.success("Código copiado")}return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-5 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"Invitar a tu equipo"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Comparte este código con nuevos miembros para que se unan como agentes"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"rounded-lg border border-white/15 bg-white/8 px-4 py-2 font-mono text-sm font-semibold text-white tracking-widest",children:r}),e.jsx(p,{variant:"outline",size:"icon",onClick:o,children:e.jsx(u,{size:14})})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("p",{className:"text-sm text-gray-400",children:n?"…":`${a.length} miembros`})}),e.jsx("div",{className:"rounded-xl border border-white/10 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-white/5",children:e.jsx("tr",{children:["Miembro","Correo","Rol"].map(s=>e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:s},s))})}),e.jsxs("tbody",{className:"divide-y divide-white/5",children:[n&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"py-10 text-center text-gray-600 animate-pulse",children:"Cargando..."})}),!n&&a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"py-10 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(h,{size:32,className:"text-gray-700"}),e.jsx("p",{className:"text-gray-600",children:"Sin miembros del equipo"})]})})}),a.map(s=>{var d,l;return e.jsxs("tr",{className:"hover:bg-white/3 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-brand-600/20 flex items-center justify-center text-brand-400 text-sm font-semibold shrink-0",children:((l=(d=s.name)==null?void 0:d.charAt(0))==null?void 0:l.toUpperCase())??"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:s.name}),s.uid===(t==null?void 0:t.uid)&&e.jsx("p",{className:"text-xs text-gray-600",children:"Tú"})]})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:s.email}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(f,{variant:v[s.role]??"secondary",children:N[s.role]??s.role})})]},s.uid)})]})]})})]})}export{E as default};

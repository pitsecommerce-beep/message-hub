const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-BEY9xVYF.js","assets/types-BT89ZYJ-.js","assets/input-DcbaJggM.js","assets/label-3qLALYJI.js","assets/index-DF1d7nOt.js","assets/tabs-DFJh9Gpf.js","assets/index-BDvAr04x.js","assets/index-CMB1mmzH.js","assets/index-lvnVN3aE.js","assets/OnboardingPage-BKIM5bn-.js","assets/building-2-NKLHoJag.js","assets/DashboardPage-kJrePwru.js","assets/useQuery-D47Ue_YD.js","assets/card-C5Xft823.js","assets/badge-mSajl2YX.js","assets/refresh-cw-Dp3bY8B6.js","assets/ConversationsPage-n6Yg4Dfx.js","assets/useMutation-COeJoQaC.js","assets/index-C3UpIdo2.js","assets/textarea-C2pLspGe.js","assets/dialog-BJxJDHiE.js","assets/index-BlA8k1Vs.js","assets/select-BTLA4ZYH.js","assets/trash-2-tC72G8D7.js","assets/ContactsPage-BKJPG2PI.js","assets/search-CCqM6hse.js","assets/OrdersPage-_QnYdQ6I.js","assets/KnowledgeBasePage-BX-pWmUL.js","assets/use-knowledge-base-lXwxMSJL.js","assets/upload-SgqJjYKu.js","assets/AgentsPage-TWIqcK8r.js","assets/use-config-BTq_Od9e.js","assets/IntegrationsPage-Dru39K9N.js","assets/copy-BXbRT9-d.js","assets/TeamPage-XlZzcv0c.js","assets/SettingsPage-DkSma570.js"])))=>i.map(i=>d[i]);
var oE=n=>{throw TypeError(n)};var ag=(n,e,t)=>e.has(n)||oE("Cannot "+t);var re=(n,e,t)=>(ag(n,e,"read from private field"),t?t.call(n):e.get(n)),dt=(n,e,t)=>e.has(n)?oE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),qe=(n,e,t,i)=>(ag(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Xn=(n,e,t)=>(ag(n,e,"access private method"),t);var Vf=(n,e,t,i)=>({set _(s){qe(n,e,s,t)},get _(){return re(n,e,i)}});function vI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();var s6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sg={exports:{}},sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function _I(){if(lE)return sc;lE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return sc.Fragment=e,sc.jsx=t,sc.jsxs=t,sc}var uE;function bI(){return uE||(uE=1,sg.exports=_I()),sg.exports}var he=bI(),og={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function EI(){if(cE)return Ke;cE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function $(L,G,te){this.props=L,this.context=G,this.refs=D,this.updater=te||k}$.prototype.isReactComponent={},$.prototype.setState=function(L,G){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,G,"setState")},$.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function W(){}W.prototype=$.prototype;function J(L,G,te){this.props=L,this.context=G,this.refs=D,this.updater=te||k}var ce=J.prototype=new W;ce.constructor=J,M(ce,$.prototype),ce.isPureReactComponent=!0;var se=Array.isArray;function pe(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(L,G,te){var me=te.ref;return{$$typeof:n,type:L,key:G,ref:me!==void 0?me:null,props:te}}function I(L,G){return C(L.type,G,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function P(L){var G={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(te){return G[te]})}var O=/\/+/g;function Pe(L,G){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):G.toString(36)}function Fe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(pe,pe):(L.status="pending",L.then(function(G){L.status==="pending"&&(L.status="fulfilled",L.value=G)},function(G){L.status==="pending"&&(L.status="rejected",L.reason=G)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function H(L,G,te,me,we){var Me=typeof L;(Me==="undefined"||Me==="boolean")&&(L=null);var Ie=!1;if(L===null)Ie=!0;else switch(Me){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(L.$$typeof){case n:case e:Ie=!0;break;case v:return Ie=L._init,H(Ie(L._payload),G,te,me,we)}}if(Ie)return we=we(L),Ie=me===""?"."+Pe(L,0):me,se(we)?(te="",Ie!=null&&(te=Ie.replace(O,"$&/")+"/"),H(we,G,te,"",function(kn){return kn})):we!=null&&(U(we)&&(we=I(we,te+(we.key==null||L&&L.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+Ie)),G.push(we)),1;Ie=0;var kt=me===""?".":me+":";if(se(L))for(var rt=0;rt<L.length;rt++)me=L[rt],Me=kt+Pe(me,rt),Ie+=H(me,G,te,Me,we);else if(rt=S(L),typeof rt=="function")for(L=rt.call(L),rt=0;!(me=L.next()).done;)me=me.value,Me=kt+Pe(me,rt++),Ie+=H(me,G,te,Me,we);else if(Me==="object"){if(typeof L.then=="function")return H(Fe(L),G,te,me,we);throw G=String(L),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function oe(L,G,te){if(L==null)return L;var me=[],we=0;return H(L,me,"","",function(Me){return G.call(te,Me,we++)}),me}function Te(L){if(L._status===-1){var G=L._result;G=G(),G.then(function(te){(L._status===0||L._status===-1)&&(L._status=1,L._result=te)},function(te){(L._status===0||L._status===-1)&&(L._status=2,L._result=te)}),L._status===-1&&(L._status=0,L._result=G)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ce={map:oe,forEach:function(L,G,te){oe(L,function(){G.apply(this,arguments)},te)},count:function(L){var G=0;return oe(L,function(){G++}),G},toArray:function(L){return oe(L,function(G){return G})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ke.Activity=b,Ke.Children=Ce,Ke.Component=$,Ke.Fragment=t,Ke.Profiler=s,Ke.PureComponent=J,Ke.StrictMode=i,Ke.Suspense=p,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(L){return x.H.useMemoCache(L)}},Ke.cache=function(L){return function(){return L.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(L,G,te){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var me=M({},L.props),we=L.key;if(G!=null)for(Me in G.key!==void 0&&(we=""+G.key),G)!w.call(G,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&G.ref===void 0||(me[Me]=G[Me]);var Me=arguments.length-2;if(Me===1)me.children=te;else if(1<Me){for(var Ie=Array(Me),kt=0;kt<Me;kt++)Ie[kt]=arguments[kt+2];me.children=Ie}return C(L.type,we,me)},Ke.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ke.createElement=function(L,G,te){var me,we={},Me=null;if(G!=null)for(me in G.key!==void 0&&(Me=""+G.key),G)w.call(G,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(we[me]=G[me]);var Ie=arguments.length-2;if(Ie===1)we.children=te;else if(1<Ie){for(var kt=Array(Ie),rt=0;rt<Ie;rt++)kt[rt]=arguments[rt+2];we.children=kt}if(L&&L.defaultProps)for(me in Ie=L.defaultProps,Ie)we[me]===void 0&&(we[me]=Ie[me]);return C(L,Me,we)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(L){return{$$typeof:d,render:L}},Ke.isValidElement=U,Ke.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:Te}},Ke.memo=function(L,G){return{$$typeof:g,type:L,compare:G===void 0?null:G}},Ke.startTransition=function(L){var G=x.T,te={};x.T=te;try{var me=L(),we=x.S;we!==null&&we(te,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(pe,de)}catch(Me){de(Me)}finally{G!==null&&te.types!==null&&(G.types=te.types),x.T=G}},Ke.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ke.use=function(L){return x.H.use(L)},Ke.useActionState=function(L,G,te){return x.H.useActionState(L,G,te)},Ke.useCallback=function(L,G){return x.H.useCallback(L,G)},Ke.useContext=function(L){return x.H.useContext(L)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(L,G){return x.H.useDeferredValue(L,G)},Ke.useEffect=function(L,G){return x.H.useEffect(L,G)},Ke.useEffectEvent=function(L){return x.H.useEffectEvent(L)},Ke.useId=function(){return x.H.useId()},Ke.useImperativeHandle=function(L,G,te){return x.H.useImperativeHandle(L,G,te)},Ke.useInsertionEffect=function(L,G){return x.H.useInsertionEffect(L,G)},Ke.useLayoutEffect=function(L,G){return x.H.useLayoutEffect(L,G)},Ke.useMemo=function(L,G){return x.H.useMemo(L,G)},Ke.useOptimistic=function(L,G){return x.H.useOptimistic(L,G)},Ke.useReducer=function(L,G,te){return x.H.useReducer(L,G,te)},Ke.useRef=function(L){return x.H.useRef(L)},Ke.useState=function(L){return x.H.useState(L)},Ke.useSyncExternalStore=function(L,G,te){return x.H.useSyncExternalStore(L,G,te)},Ke.useTransition=function(){return x.H.useTransition()},Ke.version="19.2.4",Ke}var hE;function _y(){return hE||(hE=1,og.exports=EI()),og.exports}var B=_y();const ve=i1(B),TI=vI({__proto__:null,default:ve},[B]);var lg={exports:{}},oc={},ug={exports:{}},cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function wI(){return fE||(fE=1,(function(n){function e(H,oe){var Te=H.length;H.push(oe);e:for(;0<Te;){var de=Te-1>>>1,Ce=H[de];if(0<s(Ce,oe))H[de]=oe,H[Te]=Ce,Te=de;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var oe=H[0],Te=H.pop();if(Te!==oe){H[0]=Te;e:for(var de=0,Ce=H.length,L=Ce>>>1;de<L;){var G=2*(de+1)-1,te=H[G],me=G+1,we=H[me];if(0>s(te,Te))me<Ce&&0>s(we,te)?(H[de]=we,H[me]=Te,de=me):(H[de]=te,H[G]=Te,de=G);else if(me<Ce&&0>s(we,Te))H[de]=we,H[me]=Te,de=me;else break e}}return oe}function s(H,oe){var Te=H.sortIndex-oe.sortIndex;return Te!==0?Te:H.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,b=null,T=3,S=!1,k=!1,M=!1,D=!1,$=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ce(H){for(var oe=t(g);oe!==null;){if(oe.callback===null)i(g);else if(oe.startTime<=H)i(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function se(H){if(M=!1,ce(H),!k)if(t(p)!==null)k=!0,pe||(pe=!0,P());else{var oe=t(g);oe!==null&&Fe(se,oe.startTime-H)}}var pe=!1,x=-1,w=5,C=-1;function I(){return D?!0:!(n.unstable_now()-C<w)}function U(){if(D=!1,pe){var H=n.unstable_now();C=H;var oe=!0;try{e:{k=!1,M&&(M=!1,W(x),x=-1),S=!0;var Te=T;try{t:{for(ce(H),b=t(p);b!==null&&!(b.expirationTime>H&&I());){var de=b.callback;if(typeof de=="function"){b.callback=null,T=b.priorityLevel;var Ce=de(b.expirationTime<=H);if(H=n.unstable_now(),typeof Ce=="function"){b.callback=Ce,ce(H),oe=!0;break t}b===t(p)&&i(p),ce(H)}else i(p);b=t(p)}if(b!==null)oe=!0;else{var L=t(g);L!==null&&Fe(se,L.startTime-H),oe=!1}}break e}finally{b=null,T=Te,S=!1}oe=void 0}}finally{oe?P():pe=!1}}}var P;if(typeof J=="function")P=function(){J(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Pe=O.port2;O.port1.onmessage=U,P=function(){Pe.postMessage(null)}}else P=function(){$(U,0)};function Fe(H,oe){x=$(function(){H(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(H){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var Te=T;T=oe;try{return H()}finally{T=Te}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(H,oe){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Te=T;T=H;try{return oe()}finally{T=Te}},n.unstable_scheduleCallback=function(H,oe,Te){var de=n.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?de+Te:de):Te=de,H){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=Te+Ce,H={id:v++,callback:oe,priorityLevel:H,startTime:Te,expirationTime:Ce,sortIndex:-1},Te>de?(H.sortIndex=Te,e(g,H),t(p)===null&&H===t(g)&&(M?(W(x),x=-1):M=!0,Fe(se,Te-de))):(H.sortIndex=Ce,e(p,H),k||S||(k=!0,pe||(pe=!0,P()))),H},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(H){var oe=T;return function(){var Te=T;T=oe;try{return H.apply(this,arguments)}finally{T=Te}}}})(cg)),cg}var dE;function SI(){return dE||(dE=1,ug.exports=wI()),ug.exports}var hg={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function AI(){if(mE)return Wn;mE=1;var n=_y();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},Wn.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},Wn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Wn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Wn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:S}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Wn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Wn.requestFormReset=function(p){i.d.r(p)},Wn.unstable_batchedUpdates=function(p,g){return p(g)},Wn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wn.version="19.2.4",Wn}var pE;function a1(){if(pE)return hg.exports;pE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hg.exports=AI(),hg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function RI(){if(gE)return oc;gE=1;var n=SI(),e=_y(),t=a1();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function g(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),r;if(m===u)return p(f),a;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var _=!1,A=f.child;A;){if(A===o){_=!0,o=f,u=m;break}if(A===u){_=!0,u=f,o=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===o){_=!0,o=m,u=f;break}if(A===u){_=!0,u=m,o=f;break}A=A.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function v(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=v(r),a!==null)return a;r=r.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function Pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case $:return"Profiler";case D:return"StrictMode";case se:return"Suspense";case pe:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case J:return r.displayName||"Context";case W:return(r._context.displayName||"Context")+".Consumer";case ce:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return a=r.displayName||null,a!==null?a:Pe(r.type)||"Memo";case w:a=r._payload,r=r._init;try{return Pe(r(a))}catch{}}return null}var Fe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},de=[],Ce=-1;function L(r){return{current:r}}function G(r){0>Ce||(r.current=de[Ce],de[Ce]=null,Ce--)}function te(r,a){Ce++,de[Ce]=r.current,r.current=a}var me=L(null),we=L(null),Me=L(null),Ie=L(null);function kt(r,a){switch(te(Me,a),te(we,r),te(me,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Db(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Db(a),r=Ob(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}G(me),te(me,r)}function rt(){G(me),G(we),G(Me)}function kn(r){r.memoizedState!==null&&te(Ie,r);var a=me.current,o=Ob(a,r.type);a!==o&&(te(we,r),te(me,o))}function Vn(r){we.current===r&&(G(me),G(we)),Ie.current===r&&(G(Ie),nc._currentValue=Te)}var xr,Vt;function gn(r){if(xr===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);xr=a&&a[1]||"",Vt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+r+Vt}var $r=!1;function fi(r,a){if(!r||$r)return"";$r=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Z){var X=Z}Reflect.construct(r,[],le)}else{try{le.call()}catch(Z){X=Z}r.call(le.prototype)}}else{try{throw Error()}catch(Z){X=Z}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var V=_.split(`
`),K=A.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===K.length)for(u=V.length-1,f=K.length-1;1<=u&&0<=f&&V[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==K[f]){var ne=`
`+V[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=f);break}}}finally{$r=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?gn(o):""}function Dr(r,a){switch(r.tag){case 26:case 27:case 5:return gn(r.type);case 16:return gn("Lazy");case 13:return r.child!==a&&a!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return fi(r.type,!1);case 11:return fi(r.type.render,!1);case 1:return fi(r.type,!0);case 31:return gn("Activity");default:return""}}function Ci(r){try{var a="",o=null;do a+=Dr(r,o),o=r,r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ii=Object.prototype.hasOwnProperty,Or=n.unstable_scheduleCallback,pr=n.unstable_cancelCallback,ja=n.unstable_shouldYield,ir=n.unstable_requestPaint,hn=n.unstable_now,gr=n.unstable_getCurrentPriorityLevel,nt=n.unstable_ImmediatePriority,Ct=n.unstable_UserBlockingPriority,ar=n.unstable_NormalPriority,Qn=n.unstable_LowPriority,yn=n.unstable_IdlePriority,Ba=n.log,Yr=n.unstable_setDisableYieldValue,Kn=null,jt=null;function Bt(r){if(typeof Ba=="function"&&Yr(r),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Kn,r)}catch{}}var Ft=Math.clz32?Math.clz32:ta,Fa=Math.log,xi=Math.LN2;function ta(r){return r>>>=0,r===0?32:31-(Fa(r)/xi|0)|0}var Nr=256,Ln=262144,sr=4194304;function Wt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $n(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=Wt(u):(_&=A,_!==0?f=Wt(_):o||(o=A&~r,o!==0&&(f=Wt(o))))):(A=u&~m,A!==0?f=Wt(A):_!==0?f=Wt(_):o||(o=u&~r,o!==0&&(f=Wt(o)))),f===0?0:a!==0&&a!==f&&(a&m)===0&&(m=f&-f,o=a&-a,m>=o||m===32&&(o&4194048)!==0)?a:f}function Ve(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function it(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var r=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),r}function Lt(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function qt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function wt(r,a,o,u,f,m){var _=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,V=r.expirationTimes,K=r.hiddenUpdates;for(o=_&~o;0<o;){var ne=31-Ft(o),le=1<<ne;A[ne]=0,V[ne]=-1;var X=K[ne];if(X!==null)for(K[ne]=null,ne=0;ne<X.length;ne++){var Z=X[ne];Z!==null&&(Z.lane&=-536870913)}o&=~le}u!==0&&or(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(_&~a))}function or(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-Ft(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function nn(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-Ft(o),f=1<<u;f&a|r[u]&a&&(r[u]|=a),o&=~f}}function N(r,a){var o=a&-a;return o=(o&42)!==0?1:j(o),(o&(r.suspendedLanes|a))!==0?0:o}function j(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Y(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function fe(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:eE(r.type))}function ge(r,a){var o=oe.p;try{return oe.p=r,a()}finally{oe.p=o}}var Re=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Re,_e="__reactProps$"+Re,be="__reactContainer$"+Re,De="__reactEvents$"+Re,ke="__reactListeners$"+Re,Oe="__reactHandles$"+Re,Ge="__reactResources$"+Re,Qe="__reactMarker$"+Re;function _t(r){delete r[Ee],delete r[_e],delete r[De],delete r[ke],delete r[Oe]}function It(r){var a=r[Ee];if(a)return a;for(var o=r.parentNode;o;){if(a=o[be]||o[Ee]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=Ub(r);r!==null;){if(o=r[Ee])return o;r=Ub(r)}return a}r=o,o=r.parentNode}return null}function Ht(r){if(r=r[Ee]||r[be]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function ot(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Jt(r){var a=r[Ge];return a||(a=r[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(r){r[Qe]=!0}var Xr=new Set,Un={};function Ut(r,a){yr(r,a),yr(r+"Capture",a)}function yr(r,a){for(Un[r]=a,r=0;r<a.length;r++)Xr.add(a[r])}var na=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},Di={};function ra(r){return Ii.call(Di,r)?!0:Ii.call(Mr,r)?!1:na.test(r)?Di[r]=!0:(Mr[r]=!0,!1)}function Ye(r,a,o){if(ra(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Gt(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function Rn(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}function en(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Nt(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qa(r,a,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ia(r){if(!r._valueTracker){var a=Nt(r)?"checked":"value";r._valueTracker=qa(r,a,""+r[a])}}function io(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Nt(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function Jo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var aa=/[\n"\\]/g;function rn(r){return r.replace(aa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ha(r,a,o,u,f,m,_,A){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),a!=null?_==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+en(a)):r.value!==""+en(a)&&(r.value=""+en(a)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),a!=null?Zo(r,_,en(a)):o!=null?Zo(r,_,en(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+en(A):r.removeAttribute("name")}function ao(r,a,o,u,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),a!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||a!=null)){ia(r);return}o=o!=null?""+en(o):"",a=a!=null?""+en(a):o,A||a===r.value||(r.value=a),r.defaultValue=a}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_),ia(r)}function Zo(r,a,o){a==="number"&&Jo(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function gt(r,a,o,u){if(r=r.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=a.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+en(o),a=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}a!==null||r[f].disabled||(a=r[f])}a!==null&&(a.selected=!0)}}function so(r,a,o){if(a!=null&&(a=""+en(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+en(o):""}function Ga(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(Fe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=en(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),ia(r)}function Wr(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var lm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gu(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||lm.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function ph(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in a)u=a[f],a.hasOwnProperty(f)&&o[f]!==u&&gu(r,f,u)}else for(var m in a)a.hasOwnProperty(m)&&gu(r,m,a[m])}function yu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(r){return cm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function xn(){}var el=null;function tl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var sa=null,Pr=null;function gh(r){var a=Ht(r);if(a&&(r=a.stateNode)){var o=r[_e]||null;e:switch(r=a.stateNode,a.type){case"input":if(Ha(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+rn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var f=u[_e]||null;if(!f)throw Error(i(90));Ha(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&io(u)}break e;case"textarea":so(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&gt(r,!!o.multiple,a,!1)}}}var vu=!1;function yh(r,a,o){if(vu)return r(a,o);vu=!0;try{var u=r(a);return u}finally{if(vu=!1,(sa!==null||Pr!==null)&&(mf(),sa&&(a=sa,r=Pr,Pr=sa=null,gh(a),r)))for(a=0;a<r.length;a++)gh(r[a])}}function vr(r,a){var o=r.stateNode;if(o===null)return null;var u=o[_e]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=!1;if(di)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){_u=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{_u=!1}var kr=null,nl=null,Mi=null;function Qa(){if(Mi)return Mi;var r,a=nl,o=a.length,u,f="value"in kr?kr.value:kr.textContent,m=f.length;for(r=0;r<o&&a[r]===f[r];r++);var _=o-r;for(u=1;u<=_&&a[o-u]===f[m-u];u++);return Mi=f.slice(r,1<u?1-u:void 0)}function oo(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ka(){return!0}function Qt(){return!1}function Yn(r){function a(o,u,f,m,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ka:Qt,this.isPropagationStopped=Qt,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),a}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Yn(oa),$a=b({},oa,{view:0,detail:0}),vh=Yn($a),Ya,rl,lr,uo=b({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==lr&&(lr&&r.type==="mousemove"?(Ya=r.screenX-lr.screenX,rl=r.screenY-lr.screenY):rl=Ya=0,lr=r),Ya)},movementY:function(r){return"movementY"in r?r.movementY:rl}}),_h=Yn(uo),co=b({},uo,{dataTransfer:0}),bh=Yn(co),bu=b({},$a,{relatedTarget:0}),Xa=Yn(bu),Eh=b({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),il=Yn(Eh),hm=b({},oa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Th=Yn(hm),ho=b({},oa,{data:0}),Eu=Yn(ho),wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sh(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=wu[r])?!!a[r]:!1}function Wa(){return Sh}var Ah=b({},$a,{key:function(r){if(r.key){var a=wh[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=oo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Tu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(r){return r.type==="keypress"?oo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Rh=Yn(Ah),la=b({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=Yn(la),Ch=b({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Ih=Yn(Ch),xh=b({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),al=Yn(xh),ur=b({},uo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Dh=Yn(ur),Oh=b({},oa,{newState:0,oldState:0}),Ja=Yn(Oh),h=[9,13,27,32],y=di&&"CompositionEvent"in window,E=null;di&&"documentMode"in document&&(E=document.documentMode);var R=di&&"TextEvent"in window&&!E,q=di&&(!y||E&&8<E&&11>=E),ee=" ",ye=!1;function Et(r,a){switch(r){case"keyup":return h.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vn(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ze=!1;function Dn(r,a){switch(r){case"compositionend":return vn(a);case"keypress":return a.which!==32?null:(ye=!0,ee);case"textInput":return r=a.data,r===ee&&ye?null:r;default:return null}}function On(r,a){if(Ze)return r==="compositionend"||!y&&Et(r,a)?(r=Qa(),Mi=nl=kr=null,Ze=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return q&&a.locale!=="ko"?null:a.data;default:return null}}var Za={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _r(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Za[r.type]:a==="textarea"}function fo(r,a,o,u){sa?Pr?Pr.push(u):Pr=[u]:sa=u,a=Ef(a,"onChange"),0<a.length&&(o=new lo("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var ua=null,Au=null;function GR(r){Sb(r,0)}function Nh(r){var a=ot(r);if(io(a))return r}function qv(r,a){if(r==="change")return a}var Hv=!1;if(di){var fm;if(di){var dm="oninput"in document;if(!dm){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),dm=typeof Gv.oninput=="function"}fm=dm}else fm=!1;Hv=fm&&(!document.documentMode||9<document.documentMode)}function Qv(){ua&&(ua.detachEvent("onpropertychange",Kv),Au=ua=null)}function Kv(r){if(r.propertyName==="value"&&Nh(Au)){var a=[];fo(a,Au,r,tl(r)),yh(GR,a)}}function QR(r,a,o){r==="focusin"?(Qv(),ua=a,Au=o,ua.attachEvent("onpropertychange",Kv)):r==="focusout"&&Qv()}function KR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Nh(Au)}function $R(r,a){if(r==="click")return Nh(a)}function YR(r,a){if(r==="input"||r==="change")return Nh(a)}function XR(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Vr=typeof Object.is=="function"?Object.is:XR;function Ru(r,a){if(Vr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ii.call(a,f)||!Vr(r[f],a[f]))return!1}return!0}function $v(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yv(r,a){var o=$v(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$v(o)}}function Xv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Xv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Wv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Jo(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Jo(r.document)}return a}function mm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var WR=di&&"documentMode"in document&&11>=document.documentMode,sl=null,pm=null,Cu=null,gm=!1;function Jv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gm||sl==null||sl!==Jo(u)||(u=sl,"selectionStart"in u&&mm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cu&&Ru(Cu,u)||(Cu=u,u=Ef(pm,"onSelect"),0<u.length&&(a=new lo("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=sl)))}function mo(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var ol={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionrun:mo("Transition","TransitionRun"),transitionstart:mo("Transition","TransitionStart"),transitioncancel:mo("Transition","TransitionCancel"),transitionend:mo("Transition","TransitionEnd")},ym={},Zv={};di&&(Zv=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function po(r){if(ym[r])return ym[r];if(!ol[r])return r;var a=ol[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in Zv)return ym[r]=a[o];return r}var e_=po("animationend"),t_=po("animationiteration"),n_=po("animationstart"),JR=po("transitionrun"),ZR=po("transitionstart"),eC=po("transitioncancel"),r_=po("transitionend"),i_=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function mi(r,a){i_.set(r,a),Ut(a,[r])}var Mh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Jr=[],ll=0,_m=0;function Ph(){for(var r=ll,a=_m=ll=0;a<r;){var o=Jr[a];Jr[a++]=null;var u=Jr[a];Jr[a++]=null;var f=Jr[a];Jr[a++]=null;var m=Jr[a];if(Jr[a++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&a_(o,f,m)}}function kh(r,a,o,u){Jr[ll++]=r,Jr[ll++]=a,Jr[ll++]=o,Jr[ll++]=u,_m|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function bm(r,a,o,u){return kh(r,a,o,u),Vh(r)}function go(r,a){return kh(r,null,null,a),Vh(r)}function a_(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&a!==null&&(f=31-Ft(o),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[a]:u.push(a),a.lane=o|536870912),m):null}function Vh(r){if(50<Yu)throw Yu=0,xp=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var ul={};function tC(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(r,a,o,u){return new tC(r,a,o,u)}function Em(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ca(r,a){var o=r.alternate;return o===null?(o=Lr(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function s_(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Lh(r,a,o,u,f,m){var _=0;if(u=r,typeof r=="function")Em(r)&&(_=1);else if(typeof r=="string")_=sI(r,o,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Lr(31,o,a,f),r.elementType=C,r.lanes=m,r;case M:return yo(o.children,f,m,a);case D:_=8,f|=24;break;case $:return r=Lr(12,o,a,f|2),r.elementType=$,r.lanes=m,r;case se:return r=Lr(13,o,a,f),r.elementType=se,r.lanes=m,r;case pe:return r=Lr(19,o,a,f),r.elementType=pe,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case J:_=10;break e;case W:_=9;break e;case ce:_=11;break e;case x:_=14;break e;case w:_=16,u=null;break e}_=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Lr(_,o,a,f),a.elementType=r,a.type=u,a.lanes=m,a}function yo(r,a,o,u){return r=Lr(7,r,u,a),r.lanes=o,r}function Tm(r,a,o){return r=Lr(6,r,null,a),r.lanes=o,r}function o_(r){var a=Lr(18,null,null,0);return a.stateNode=r,a}function wm(r,a,o){return a=Lr(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var l_=new WeakMap;function Zr(r,a){if(typeof r=="object"&&r!==null){var o=l_.get(r);return o!==void 0?o:(a={value:r,source:a,stack:Ci(a)},l_.set(r,a),a)}return{value:r,source:a,stack:Ci(a)}}var cl=[],hl=0,Uh=null,Iu=0,ei=[],ti=0,es=null,Pi=1,ki="";function ha(r,a){cl[hl++]=Iu,cl[hl++]=Uh,Uh=r,Iu=a}function u_(r,a,o){ei[ti++]=Pi,ei[ti++]=ki,ei[ti++]=es,es=r;var u=Pi;r=ki;var f=32-Ft(u)-1;u&=~(1<<f),o+=1;var m=32-Ft(a)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Pi=1<<32-Ft(a)+f|o<<f|u,ki=m+r}else Pi=1<<m|o<<f|u,ki=r}function Sm(r){r.return!==null&&(ha(r,1),u_(r,1,0))}function Am(r){for(;r===Uh;)Uh=cl[--hl],cl[hl]=null,Iu=cl[--hl],cl[hl]=null;for(;r===es;)es=ei[--ti],ei[ti]=null,ki=ei[--ti],ei[ti]=null,Pi=ei[--ti],ei[ti]=null}function c_(r,a){ei[ti++]=Pi,ei[ti++]=ki,ei[ti++]=es,Pi=a.id,ki=a.overflow,es=r}var zn=null,Kt=null,ft=!1,ts=null,ni=!1,Rm=Error(i(519));function ns(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xu(Zr(a,r)),Rm}function h_(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[Ee]=r,a[_e]=u,o){case"dialog":st("cancel",a),st("close",a);break;case"iframe":case"object":case"embed":st("load",a);break;case"video":case"audio":for(o=0;o<Wu.length;o++)st(Wu[o],a);break;case"source":st("error",a);break;case"img":case"image":case"link":st("error",a),st("load",a);break;case"details":st("toggle",a);break;case"input":st("invalid",a),ao(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":st("invalid",a);break;case"textarea":st("invalid",a),Ga(a,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||Ib(a.textContent,o)?(u.popover!=null&&(st("beforetoggle",a),st("toggle",a)),u.onScroll!=null&&st("scroll",a),u.onScrollEnd!=null&&st("scrollend",a),u.onClick!=null&&(a.onclick=xn),a=!0):a=!1,a||ns(r,!0)}function f_(r){for(zn=r.return;zn;)switch(zn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:zn=zn.return}}function fl(r){if(r!==zn)return!1;if(!ft)return f_(r),ft=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Hp(r.type,r.memoizedProps)),o=!o),o&&Kt&&ns(r),f_(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Kt=Lb(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Kt=Lb(r)}else a===27?(a=Kt,gs(r.type)?(r=Yp,Yp=null,Kt=r):Kt=a):Kt=zn?ii(r.stateNode.nextSibling):null;return!0}function vo(){Kt=zn=null,ft=!1}function Cm(){var r=ts;return r!==null&&(wr===null?wr=r:wr.push.apply(wr,r),ts=null),r}function xu(r){ts===null?ts=[r]:ts.push(r)}var Im=L(null),_o=null,fa=null;function rs(r,a,o){te(Im,a._currentValue),a._currentValue=o}function da(r){r._currentValue=Im.current,G(Im)}function xm(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function Dm(r,a,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var V=0;V<a.length;V++)if(A.context===a[V]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),xm(m.return,o,r),u||(_=null);break e}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),xm(_,o,r),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===r){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function dl(r,a,o,u){r=null;for(var f=a,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var A=f.type;Vr(f.pendingProps.value,_.value)||(r!==null?r.push(A):r=[A])}}else if(f===Ie.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(nc):r=[nc])}f=f.return}r!==null&&Dm(a,r,o,u),a.flags|=262144}function zh(r){for(r=r.firstContext;r!==null;){if(!Vr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function bo(r){_o=r,fa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function jn(r){return d_(_o,r)}function jh(r,a){return _o===null&&bo(r),d_(r,a)}function d_(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},fa===null){if(r===null)throw Error(i(308));fa=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else fa=fa.next=a;return o}var nC=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},rC=n.unstable_scheduleCallback,iC=n.unstable_NormalPriority,_n={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Om(){return{controller:new nC,data:new Map,refCount:0}}function Du(r){r.refCount--,r.refCount===0&&rC(iC,function(){r.controller.abort()})}var Ou=null,Nm=0,ml=0,pl=null;function aC(r,a){if(Ou===null){var o=Ou=[];Nm=0,ml=kp(),pl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nm++,a.then(m_,m_),a}function m_(){if(--Nm===0&&Ou!==null){pl!==null&&(pl.status="fulfilled");var r=Ou;Ou=null,ml=0,pl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function sC(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var p_=H.S;H.S=function(r,a){J0=hn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&aC(r,a),p_!==null&&p_(r,a)};var Eo=L(null);function Mm(){var r=Eo.current;return r!==null?r:Mt.pooledCache}function Bh(r,a){a===null?te(Eo,Eo.current):te(Eo,a.pool)}function g_(){var r=Mm();return r===null?null:{parent:_n._currentValue,pool:r}}var gl=Error(i(460)),Pm=Error(i(474)),Fh=Error(i(542)),qh={then:function(){}};function y_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function v_(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(xn,xn),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,b_(r),r;default:if(typeof a.status=="string")a.then(xn,xn);else{if(r=Mt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=u}},function(u){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,b_(r),r}throw wo=a,gl}}function To(r){try{var a=r._init;return a(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(wo=o,gl):o}}var wo=null;function __(){if(wo===null)throw Error(i(459));var r=wo;return wo=null,r}function b_(r){if(r===gl||r===Fh)throw Error(i(483))}var yl=null,Nu=0;function Hh(r){var a=Nu;return Nu+=1,yl===null&&(yl=[]),v_(yl,r,a)}function Mu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Gh(r,a){throw a.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function E_(r){function a(F,z){if(r){var Q=F.deletions;Q===null?(F.deletions=[z],F.flags|=16):Q.push(z)}}function o(F,z){if(!r)return null;for(;z!==null;)a(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function f(F,z){return F=ca(F,z),F.index=0,F.sibling=null,F}function m(F,z,Q){return F.index=Q,r?(Q=F.alternate,Q!==null?(Q=Q.index,Q<z?(F.flags|=67108866,z):Q):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function _(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function A(F,z,Q,ie){return z===null||z.tag!==6?(z=Tm(Q,F.mode,ie),z.return=F,z):(z=f(z,Q),z.return=F,z)}function V(F,z,Q,ie){var Le=Q.type;return Le===M?ne(F,z,Q.props.children,ie,Q.key):z!==null&&(z.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===w&&To(Le)===z.type)?(z=f(z,Q.props),Mu(z,Q),z.return=F,z):(z=Lh(Q.type,Q.key,Q.props,null,F.mode,ie),Mu(z,Q),z.return=F,z)}function K(F,z,Q,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=wm(Q,F.mode,ie),z.return=F,z):(z=f(z,Q.children||[]),z.return=F,z)}function ne(F,z,Q,ie,Le){return z===null||z.tag!==7?(z=yo(Q,F.mode,ie,Le),z.return=F,z):(z=f(z,Q),z.return=F,z)}function le(F,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Tm(""+z,F.mode,Q),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return Q=Lh(z.type,z.key,z.props,null,F.mode,Q),Mu(Q,z),Q.return=F,Q;case k:return z=wm(z,F.mode,Q),z.return=F,z;case w:return z=To(z),le(F,z,Q)}if(Fe(z)||P(z))return z=yo(z,F.mode,Q,null),z.return=F,z;if(typeof z.then=="function")return le(F,Hh(z),Q);if(z.$$typeof===J)return le(F,jh(F,z),Q);Gh(F,z)}return null}function X(F,z,Q,ie){var Le=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Le!==null?null:A(F,z,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===Le?V(F,z,Q,ie):null;case k:return Q.key===Le?K(F,z,Q,ie):null;case w:return Q=To(Q),X(F,z,Q,ie)}if(Fe(Q)||P(Q))return Le!==null?null:ne(F,z,Q,ie,null);if(typeof Q.then=="function")return X(F,z,Hh(Q),ie);if(Q.$$typeof===J)return X(F,z,jh(F,Q),ie);Gh(F,Q)}return null}function Z(F,z,Q,ie,Le){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return F=F.get(Q)||null,A(z,F,""+ie,Le);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return F=F.get(ie.key===null?Q:ie.key)||null,V(z,F,ie,Le);case k:return F=F.get(ie.key===null?Q:ie.key)||null,K(z,F,ie,Le);case w:return ie=To(ie),Z(F,z,Q,ie,Le)}if(Fe(ie)||P(ie))return F=F.get(Q)||null,ne(z,F,ie,Le,null);if(typeof ie.then=="function")return Z(F,z,Q,Hh(ie),Le);if(ie.$$typeof===J)return Z(F,z,Q,jh(z,ie),Le);Gh(z,ie)}return null}function xe(F,z,Q,ie){for(var Le=null,yt=null,Ne=z,We=z=0,ut=null;Ne!==null&&We<Q.length;We++){Ne.index>We?(ut=Ne,Ne=null):ut=Ne.sibling;var vt=X(F,Ne,Q[We],ie);if(vt===null){Ne===null&&(Ne=ut);break}r&&Ne&&vt.alternate===null&&a(F,Ne),z=m(vt,z,We),yt===null?Le=vt:yt.sibling=vt,yt=vt,Ne=ut}if(We===Q.length)return o(F,Ne),ft&&ha(F,We),Le;if(Ne===null){for(;We<Q.length;We++)Ne=le(F,Q[We],ie),Ne!==null&&(z=m(Ne,z,We),yt===null?Le=Ne:yt.sibling=Ne,yt=Ne);return ft&&ha(F,We),Le}for(Ne=u(Ne);We<Q.length;We++)ut=Z(Ne,F,We,Q[We],ie),ut!==null&&(r&&ut.alternate!==null&&Ne.delete(ut.key===null?We:ut.key),z=m(ut,z,We),yt===null?Le=ut:yt.sibling=ut,yt=ut);return r&&Ne.forEach(function(Es){return a(F,Es)}),ft&&ha(F,We),Le}function ze(F,z,Q,ie){if(Q==null)throw Error(i(151));for(var Le=null,yt=null,Ne=z,We=z=0,ut=null,vt=Q.next();Ne!==null&&!vt.done;We++,vt=Q.next()){Ne.index>We?(ut=Ne,Ne=null):ut=Ne.sibling;var Es=X(F,Ne,vt.value,ie);if(Es===null){Ne===null&&(Ne=ut);break}r&&Ne&&Es.alternate===null&&a(F,Ne),z=m(Es,z,We),yt===null?Le=Es:yt.sibling=Es,yt=Es,Ne=ut}if(vt.done)return o(F,Ne),ft&&ha(F,We),Le;if(Ne===null){for(;!vt.done;We++,vt=Q.next())vt=le(F,vt.value,ie),vt!==null&&(z=m(vt,z,We),yt===null?Le=vt:yt.sibling=vt,yt=vt);return ft&&ha(F,We),Le}for(Ne=u(Ne);!vt.done;We++,vt=Q.next())vt=Z(Ne,F,We,vt.value,ie),vt!==null&&(r&&vt.alternate!==null&&Ne.delete(vt.key===null?We:vt.key),z=m(vt,z,We),yt===null?Le=vt:yt.sibling=vt,yt=vt);return r&&Ne.forEach(function(yI){return a(F,yI)}),ft&&ha(F,We),Le}function Ot(F,z,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:e:{for(var Le=Q.key;z!==null;){if(z.key===Le){if(Le=Q.type,Le===M){if(z.tag===7){o(F,z.sibling),ie=f(z,Q.props.children),ie.return=F,F=ie;break e}}else if(z.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===w&&To(Le)===z.type){o(F,z.sibling),ie=f(z,Q.props),Mu(ie,Q),ie.return=F,F=ie;break e}o(F,z);break}else a(F,z);z=z.sibling}Q.type===M?(ie=yo(Q.props.children,F.mode,ie,Q.key),ie.return=F,F=ie):(ie=Lh(Q.type,Q.key,Q.props,null,F.mode,ie),Mu(ie,Q),ie.return=F,F=ie)}return _(F);case k:e:{for(Le=Q.key;z!==null;){if(z.key===Le)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){o(F,z.sibling),ie=f(z,Q.children||[]),ie.return=F,F=ie;break e}else{o(F,z);break}else a(F,z);z=z.sibling}ie=wm(Q,F.mode,ie),ie.return=F,F=ie}return _(F);case w:return Q=To(Q),Ot(F,z,Q,ie)}if(Fe(Q))return xe(F,z,Q,ie);if(P(Q)){if(Le=P(Q),typeof Le!="function")throw Error(i(150));return Q=Le.call(Q),ze(F,z,Q,ie)}if(typeof Q.then=="function")return Ot(F,z,Hh(Q),ie);if(Q.$$typeof===J)return Ot(F,z,jh(F,Q),ie);Gh(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(o(F,z.sibling),ie=f(z,Q),ie.return=F,F=ie):(o(F,z),ie=Tm(Q,F.mode,ie),ie.return=F,F=ie),_(F)):o(F,z)}return function(F,z,Q,ie){try{Nu=0;var Le=Ot(F,z,Q,ie);return yl=null,Le}catch(Ne){if(Ne===gl||Ne===Fh)throw Ne;var yt=Lr(29,Ne,null,F.mode);return yt.lanes=ie,yt.return=F,yt}finally{}}}var So=E_(!0),T_=E_(!1),is=!1;function km(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function as(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ss(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(bt&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,a=Vh(r),a_(r,null,o),a}return kh(r,u,a,o),Vh(r)}function Pu(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,nn(r,o)}}function Lm(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=a:m=m.next=a}else f=m=a;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Um=!1;function ku(){if(Um){var r=pl;if(r!==null)throw r}}function Vu(r,a,o,u){Um=!1;var f=r.updateQueue;is=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var V=A,K=V.next;V.next=null,_===null?m=K:_.next=K,_=V;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==_&&(A===null?ne.firstBaseUpdate=K:A.next=K,ne.lastBaseUpdate=V))}if(m!==null){var le=f.baseState;_=0,ne=K=V=null,A=m;do{var X=A.lane&-536870913,Z=X!==A.lane;if(Z?(lt&X)===X:(u&X)===X){X!==0&&X===ml&&(Um=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var xe=r,ze=A;X=a;var Ot=o;switch(ze.tag){case 1:if(xe=ze.payload,typeof xe=="function"){le=xe.call(Ot,le,X);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ze.payload,X=typeof xe=="function"?xe.call(Ot,le,X):xe,X==null)break e;le=b({},le,X);break e;case 2:is=!0}}X=A.callback,X!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(K=ne=Z,V=le):ne=ne.next=Z,_|=X;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ne===null&&(V=le),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=ne,m===null&&(f.shared.lanes=0),hs|=_,r.lanes=_,r.memoizedState=le}}function w_(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function S_(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)w_(o[r],a)}var vl=L(null),Qh=L(0);function A_(r,a){r=Ta,te(Qh,r),te(vl,a),Ta=r|a.baseLanes}function zm(){te(Qh,Ta),te(vl,vl.current)}function jm(){Ta=Qh.current,G(vl),G(Qh)}var Ur=L(null),ri=null;function os(r){var a=r.alternate;te(fn,fn.current&1),te(Ur,r),ri===null&&(a===null||vl.current!==null||a.memoizedState!==null)&&(ri=r)}function Bm(r){te(fn,fn.current),te(Ur,r),ri===null&&(ri=r)}function R_(r){r.tag===22?(te(fn,fn.current),te(Ur,r),ri===null&&(ri=r)):ls()}function ls(){te(fn,fn.current),te(Ur,Ur.current)}function zr(r){G(Ur),ri===r&&(ri=null),G(fn)}var fn=L(0);function Kh(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Kp(o)||$p(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ma=0,Xe=null,xt=null,bn=null,$h=!1,_l=!1,Ao=!1,Yh=0,Lu=0,bl=null,oC=0;function an(){throw Error(i(321))}function Fm(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Vr(r[o],a[o]))return!1;return!0}function qm(r,a,o,u,f,m){return ma=m,Xe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=r===null||r.memoizedState===null?u0:ip,Ao=!1,m=o(u,f),Ao=!1,_l&&(m=I_(a,o,u,f)),C_(r),m}function C_(r){H.H=ju;var a=xt!==null&&xt.next!==null;if(ma=0,bn=xt=Xe=null,$h=!1,Lu=0,bl=null,a)throw Error(i(300));r===null||En||(r=r.dependencies,r!==null&&zh(r)&&(En=!0))}function I_(r,a,o,u){Xe=r;var f=0;do{if(_l&&(bl=null),Lu=0,_l=!1,25<=f)throw Error(i(301));if(f+=1,bn=xt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=c0,m=a(o,u)}while(_l);return m}function lC(){var r=H.H,a=r.useState()[0];return a=typeof a.then=="function"?Uu(a):a,r=r.useState()[0],(xt!==null?xt.memoizedState:null)!==r&&(Xe.flags|=1024),a}function Hm(){var r=Yh!==0;return Yh=0,r}function Gm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Qm(r){if($h){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}$h=!1}ma=0,bn=xt=Xe=null,_l=!1,Lu=Yh=0,bl=null}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Xe.memoizedState=bn=r:bn=bn.next=r,bn}function dn(){if(xt===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var a=bn===null?Xe.memoizedState:bn.next;if(a!==null)bn=a,xt=r;else{if(r===null)throw Xe.alternate===null?Error(i(467)):Error(i(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},bn===null?Xe.memoizedState=bn=r:bn=bn.next=r}return bn}function Xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uu(r){var a=Lu;return Lu+=1,bl===null&&(bl=[]),r=v_(bl,r,a),a=Xe,(bn===null?a.memoizedState:bn.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?u0:ip),r}function Wh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Uu(r);if(r.$$typeof===J)return jn(r)}throw Error(i(438,String(r)))}function Km(r){var a=null,o=Xe.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Xh(),Xe.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=I;return a.index++,o}function pa(r,a){return typeof a=="function"?a(r):a}function Jh(r){var a=dn();return $m(a,xt,r)}function $m(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}a.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{a=f.next;var A=_=null,V=null,K=a,ne=!1;do{var le=K.lane&-536870913;if(le!==K.lane?(lt&le)===le:(ma&le)===le){var X=K.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),le===ml&&(ne=!0);else if((ma&X)===X){K=K.next,X===ml&&(ne=!0);continue}else le={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(A=V=le,_=m):V=V.next=le,Xe.lanes|=X,hs|=X;le=K.action,Ao&&o(m,le),m=K.hasEagerState?K.eagerState:o(m,le)}else X={lane:le,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(A=V=X,_=m):V=V.next=X,Xe.lanes|=le,hs|=le;K=K.next}while(K!==null&&K!==a);if(V===null?_=m:V.next=A,!Vr(m,r.memoizedState)&&(En=!0,ne&&(o=pl,o!==null)))throw o;r.memoizedState=m,r.baseState=_,r.baseQueue=V,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Ym(r){var a=dn(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=a.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=r(m,_.action),_=_.next;while(_!==f);Vr(m,a.memoizedState)||(En=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),o.lastRenderedState=m}return[m,u]}function x_(r,a,o){var u=Xe,f=dn(),m=ft;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=a();var _=!Vr((xt||f).memoizedState,o);if(_&&(f.memoizedState=o,En=!0),f=f.queue,Jm(N_.bind(null,u,f,r),[r]),f.getSnapshot!==a||_||bn!==null&&bn.memoizedState.tag&1){if(u.flags|=2048,El(9,{destroy:void 0},O_.bind(null,u,f,o,a),null),Mt===null)throw Error(i(349));m||(ma&127)!==0||D_(u,a,o)}return o}function D_(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Xe.updateQueue,a===null?(a=Xh(),Xe.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function O_(r,a,o,u){a.value=o,a.getSnapshot=u,M_(a)&&P_(r)}function N_(r,a,o){return o(function(){M_(a)&&P_(r)})}function M_(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Vr(r,o)}catch{return!0}}function P_(r){var a=go(r,2);a!==null&&Sr(a,r,2)}function Xm(r){var a=cr();if(typeof r=="function"){var o=r;if(r=o(),Ao){Bt(!0);try{o()}finally{Bt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:r},a}function k_(r,a,o,u){return r.baseState=o,$m(r,xt,typeof u=="function"?u:pa)}function uC(r,a,o,u,f){if(tf(r))throw Error(i(485));if(r=a.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};H.T!==null?o(!0):m.isTransition=!1,u(m),o=a.pending,o===null?(m.next=a.pending=m,V_(a,m)):(m.next=o.next,a.pending=o.next=m)}}function V_(r,a){var o=a.action,u=a.payload,f=r.state;if(a.isTransition){var m=H.T,_={};H.T=_;try{var A=o(f,u),V=H.S;V!==null&&V(_,A),L_(r,a,A)}catch(K){Wm(r,a,K)}finally{m!==null&&_.types!==null&&(m.types=_.types),H.T=m}}else try{m=o(f,u),L_(r,a,m)}catch(K){Wm(r,a,K)}}function L_(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){U_(r,a,u)},function(u){return Wm(r,a,u)}):U_(r,a,o)}function U_(r,a,o){a.status="fulfilled",a.value=o,z_(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,V_(r,o)))}function Wm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,z_(a),a=a.next;while(a!==u)}r.action=null}function z_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function j_(r,a){return a}function B_(r,a){if(ft){var o=Mt.formState;if(o!==null){e:{var u=Xe;if(ft){if(Kt){t:{for(var f=Kt,m=ni;f.nodeType!==8;){if(!m){f=null;break t}if(f=ii(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Kt=ii(f.nextSibling),u=f.data==="F!";break e}}ns(u)}u=!1}u&&(a=o[0])}}return o=cr(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j_,lastRenderedState:a},o.queue=u,o=s0.bind(null,Xe,u),u.dispatch=o,u=Xm(!1),m=rp.bind(null,Xe,!1,u.queue),u=cr(),f={state:a,dispatch:null,action:r,pending:null},u.queue=f,o=uC.bind(null,Xe,f,m,o),f.dispatch=o,u.memoizedState=r,[a,o,!1]}function F_(r){var a=dn();return q_(a,xt,r)}function q_(r,a,o){if(a=$m(r,a,j_)[0],r=Jh(pa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Uu(a)}catch(_){throw _===gl?Fh:_}else u=a;a=dn();var f=a.queue,m=f.dispatch;return o!==a.memoizedState&&(Xe.flags|=2048,El(9,{destroy:void 0},cC.bind(null,f,o),null)),[u,m,r]}function cC(r,a){r.action=a}function H_(r){var a=dn(),o=xt;if(o!==null)return q_(a,o,r);dn(),a=a.memoizedState,o=dn();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function El(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Xe.updateQueue,a===null&&(a=Xh(),Xe.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function G_(){return dn().memoizedState}function Zh(r,a,o,u){var f=cr();Xe.flags|=r,f.memoizedState=El(1|a,{destroy:void 0},o,u===void 0?null:u)}function ef(r,a,o,u){var f=dn();u=u===void 0?null:u;var m=f.memoizedState.inst;xt!==null&&u!==null&&Fm(u,xt.memoizedState.deps)?f.memoizedState=El(a,m,o,u):(Xe.flags|=r,f.memoizedState=El(1|a,m,o,u))}function Q_(r,a){Zh(8390656,8,r,a)}function Jm(r,a){ef(2048,8,r,a)}function hC(r){Xe.flags|=4;var a=Xe.updateQueue;if(a===null)a=Xh(),Xe.updateQueue=a,a.events=[r];else{var o=a.events;o===null?a.events=[r]:o.push(r)}}function K_(r){var a=dn().memoizedState;return hC({ref:a,nextImpl:r}),function(){if((bt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function $_(r,a){return ef(4,2,r,a)}function Y_(r,a){return ef(4,4,r,a)}function X_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function W_(r,a,o){o=o!=null?o.concat([r]):null,ef(4,4,X_.bind(null,a,r),o)}function Zm(){}function J_(r,a){var o=dn();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Fm(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function Z_(r,a){var o=dn();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Fm(a,u[1]))return u[0];if(u=r(),Ao){Bt(!0);try{r()}finally{Bt(!1)}}return o.memoizedState=[u,a],u}function ep(r,a,o){return o===void 0||(ma&1073741824)!==0&&(lt&261930)===0?r.memoizedState=a:(r.memoizedState=o,r=eb(),Xe.lanes|=r,hs|=r,o)}function e0(r,a,o,u){return Vr(o,a)?o:vl.current!==null?(r=ep(r,o,u),Vr(r,a)||(En=!0),r):(ma&42)===0||(ma&1073741824)!==0&&(lt&261930)===0?(En=!0,r.memoizedState=o):(r=eb(),Xe.lanes|=r,hs|=r,a)}function t0(r,a,o,u,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var _=H.T,A={};H.T=A,rp(r,!1,a,o);try{var V=f(),K=H.S;if(K!==null&&K(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=sC(V,u);zu(r,a,ne,Fr(r))}else zu(r,a,u,Fr(r))}catch(le){zu(r,a,{then:function(){},status:"rejected",reason:le},Fr())}finally{oe.p=m,_!==null&&A.types!==null&&(_.types=A.types),H.T=_}}function fC(){}function tp(r,a,o,u){if(r.tag!==5)throw Error(i(476));var f=n0(r).queue;t0(r,f,a,Te,o===null?fC:function(){return r0(r),o(u)})}function n0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:Te},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function r0(r){var a=n0(r);a.next===null&&(a=r.alternate.memoizedState),zu(r,a.next.queue,{},Fr())}function np(){return jn(nc)}function i0(){return dn().memoizedState}function a0(){return dn().memoizedState}function dC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=Fr();r=as(o);var u=ss(a,r,o);u!==null&&(Sr(u,a,o),Pu(u,a,o)),a={cache:Om()},r.payload=a;return}a=a.return}}function mC(r,a,o){var u=Fr();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tf(r)?o0(a,o):(o=bm(r,a,o,u),o!==null&&(Sr(o,r,u),l0(o,a,u)))}function s0(r,a,o){var u=Fr();zu(r,a,o,u)}function zu(r,a,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(tf(r))o0(a,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var _=a.lastRenderedState,A=m(_,o);if(f.hasEagerState=!0,f.eagerState=A,Vr(A,_))return kh(r,a,f,0),Mt===null&&Ph(),!1}catch{}finally{}if(o=bm(r,a,f,u),o!==null)return Sr(o,r,u),l0(o,a,u),!0}return!1}function rp(r,a,o,u){if(u={lane:2,revertLane:kp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},tf(r)){if(a)throw Error(i(479))}else a=bm(r,o,u,2),a!==null&&Sr(a,r,2)}function tf(r){var a=r.alternate;return r===Xe||a!==null&&a===Xe}function o0(r,a){_l=$h=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function l0(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,nn(r,o)}}var ju={readContext:jn,use:Wh,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};ju.useEffectEvent=an;var u0={readContext:jn,use:Wh,useCallback:function(r,a){return cr().memoizedState=[r,a===void 0?null:a],r},useContext:jn,useEffect:Q_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Zh(4194308,4,X_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Zh(4194308,4,r,a)},useInsertionEffect:function(r,a){Zh(4,2,r,a)},useMemo:function(r,a){var o=cr();a=a===void 0?null:a;var u=r();if(Ao){Bt(!0);try{r()}finally{Bt(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=cr();if(o!==void 0){var f=o(a);if(Ao){Bt(!0);try{o(a)}finally{Bt(!1)}}}else f=a;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=mC.bind(null,Xe,r),[u.memoizedState,r]},useRef:function(r){var a=cr();return r={current:r},a.memoizedState=r},useState:function(r){r=Xm(r);var a=r.queue,o=s0.bind(null,Xe,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Zm,useDeferredValue:function(r,a){var o=cr();return ep(o,r,a)},useTransition:function(){var r=Xm(!1);return r=t0.bind(null,Xe,r.queue,!0,!1),cr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Xe,f=cr();if(ft){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Mt===null)throw Error(i(349));(lt&127)!==0||D_(u,a,o)}f.memoizedState=o;var m={value:o,getSnapshot:a};return f.queue=m,Q_(N_.bind(null,u,m,r),[r]),u.flags|=2048,El(9,{destroy:void 0},O_.bind(null,u,m,o,a),null),o},useId:function(){var r=cr(),a=Mt.identifierPrefix;if(ft){var o=ki,u=Pi;o=(u&~(1<<32-Ft(u)-1)).toString(32)+o,a="_"+a+"R_"+o,o=Yh++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=oC++,a="_"+a+"r_"+o.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:np,useFormState:B_,useActionState:B_,useOptimistic:function(r){var a=cr();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=rp.bind(null,Xe,!0,o),o.dispatch=a,[r,a]},useMemoCache:Km,useCacheRefresh:function(){return cr().memoizedState=dC.bind(null,Xe)},useEffectEvent:function(r){var a=cr(),o={impl:r};return a.memoizedState=o,function(){if((bt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},ip={readContext:jn,use:Wh,useCallback:J_,useContext:jn,useEffect:Jm,useImperativeHandle:W_,useInsertionEffect:$_,useLayoutEffect:Y_,useMemo:Z_,useReducer:Jh,useRef:G_,useState:function(){return Jh(pa)},useDebugValue:Zm,useDeferredValue:function(r,a){var o=dn();return e0(o,xt.memoizedState,r,a)},useTransition:function(){var r=Jh(pa)[0],a=dn().memoizedState;return[typeof r=="boolean"?r:Uu(r),a]},useSyncExternalStore:x_,useId:i0,useHostTransitionStatus:np,useFormState:F_,useActionState:F_,useOptimistic:function(r,a){var o=dn();return k_(o,xt,r,a)},useMemoCache:Km,useCacheRefresh:a0};ip.useEffectEvent=K_;var c0={readContext:jn,use:Wh,useCallback:J_,useContext:jn,useEffect:Jm,useImperativeHandle:W_,useInsertionEffect:$_,useLayoutEffect:Y_,useMemo:Z_,useReducer:Ym,useRef:G_,useState:function(){return Ym(pa)},useDebugValue:Zm,useDeferredValue:function(r,a){var o=dn();return xt===null?ep(o,r,a):e0(o,xt.memoizedState,r,a)},useTransition:function(){var r=Ym(pa)[0],a=dn().memoizedState;return[typeof r=="boolean"?r:Uu(r),a]},useSyncExternalStore:x_,useId:i0,useHostTransitionStatus:np,useFormState:H_,useActionState:H_,useOptimistic:function(r,a){var o=dn();return xt!==null?k_(o,xt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Km,useCacheRefresh:a0};c0.useEffectEvent=K_;function ap(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:b({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var sp={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=Fr(),f=as(u);f.payload=a,o!=null&&(f.callback=o),a=ss(r,f,u),a!==null&&(Sr(a,r,u),Pu(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=Fr(),f=as(u);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=ss(r,f,u),a!==null&&(Sr(a,r,u),Pu(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Fr(),u=as(o);u.tag=2,a!=null&&(u.callback=a),a=ss(r,u,o),a!==null&&(Sr(a,r,o),Pu(a,r,o))}};function h0(r,a,o,u,f,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,_):a.prototype&&a.prototype.isPureReactComponent?!Ru(o,u)||!Ru(f,m):!0}function f0(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&sp.enqueueReplaceState(a,a.state,null)}function Ro(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=b({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}function d0(r){Mh(r)}function m0(r){console.error(r)}function p0(r){Mh(r)}function nf(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function g0(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function op(r,a,o){return o=as(o),o.tag=3,o.payload={element:null},o.callback=function(){nf(r,a)},o}function y0(r){return r=as(r),r.tag=3,r}function v0(r,a,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){g0(a,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){g0(a,o,u),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function pC(r,a,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&dl(a,o,f,!0),o=Ur.current,o!==null){switch(o.tag){case 31:case 13:return ri===null?pf():o.alternate===null&&sn===0&&(sn=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===qh?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Np(r,u,f)),!1;case 22:return o.flags|=65536,u===qh?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Np(r,u,f)),!1}throw Error(i(435,o.tag))}return Np(r,u,f),pf(),!1}if(ft)return a=Ur.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,u!==Rm&&(r=Error(i(422),{cause:u}),xu(Zr(r,o)))):(u!==Rm&&(a=Error(i(423),{cause:u}),xu(Zr(a,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Zr(u,o),f=op(r.stateNode,u,f),Lm(r,f),sn!==4&&(sn=2)),!1;var m=Error(i(520),{cause:u});if(m=Zr(m,o),$u===null?$u=[m]:$u.push(m),sn!==4&&(sn=2),a===null)return!0;u=Zr(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=op(o.stateNode,u,r),Lm(o,r),!1;case 1:if(a=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fs===null||!fs.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=y0(f),v0(f,r,o,u),Lm(o,f),!1}o=o.return}while(o!==null);return!1}var lp=Error(i(461)),En=!1;function Bn(r,a,o,u){a.child=r===null?T_(a,null,o,u):So(a,r.child,o,u)}function _0(r,a,o,u,f){o=o.render;var m=a.ref;if("ref"in u){var _={};for(var A in u)A!=="ref"&&(_[A]=u[A])}else _=u;return bo(a),u=qm(r,a,o,_,m,f),A=Hm(),r!==null&&!En?(Gm(r,a,f),ga(r,a,f)):(ft&&A&&Sm(a),a.flags|=1,Bn(r,a,u,f),a.child)}function b0(r,a,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!Em(m)&&m.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=m,E0(r,a,m,u,f)):(r=Lh(o.type,null,u,a,a.mode,f),r.ref=a.ref,r.return=a,a.child=r)}if(m=r.child,!gp(r,f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ru,o(_,u)&&r.ref===a.ref)return ga(r,a,f)}return a.flags|=1,r=ca(m,u),r.ref=a.ref,r.return=a,a.child=r}function E0(r,a,o,u,f){if(r!==null){var m=r.memoizedProps;if(Ru(m,u)&&r.ref===a.ref)if(En=!1,a.pendingProps=u=m,gp(r,f))(r.flags&131072)!==0&&(En=!0);else return a.lanes=r.lanes,ga(r,a,f)}return up(r,a,o,u,f)}function T0(r,a,o,u){var f=u.children,m=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(u=a.child=r.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,a.child=null;return w0(r,a,m,o,u)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Bh(a,m!==null?m.cachePool:null),m!==null?A_(a,m):zm(),R_(a);else return u=a.lanes=536870912,w0(r,a,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Bh(a,m.cachePool),A_(a,m),ls(),a.memoizedState=null):(r!==null&&Bh(a,null),zm(),ls());return Bn(r,a,f,o),a.child}function Bu(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function w0(r,a,o,u,f){var m=Mm();return m=m===null?null:{parent:_n._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},r!==null&&Bh(a,null),zm(),R_(a),r!==null&&dl(r,a,u,!0),a.childLanes=f,null}function rf(r,a){return a=sf({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function S0(r,a,o){return So(a,r.child,null,o),r=rf(a,a.pendingProps),r.flags|=2,zr(a),a.memoizedState=null,r}function gC(r,a,o){var u=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(ft){if(u.mode==="hidden")return r=rf(a,u),a.lanes=536870912,Bu(null,r);if(Bm(a),(r=Kt)?(r=Vb(r,ni),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:es!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},o=o_(r),o.return=a,a.child=o,zn=a,Kt=null)):r=null,r===null)throw ns(a);return a.lanes=536870912,null}return rf(a,u)}var m=r.memoizedState;if(m!==null){var _=m.dehydrated;if(Bm(a),f)if(a.flags&256)a.flags&=-257,a=S0(r,a,o);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(En||dl(r,a,o,!1),f=(o&r.childLanes)!==0,En||f){if(u=Mt,u!==null&&(_=N(u,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,go(r,_),Sr(u,r,_),lp;pf(),a=S0(r,a,o)}else r=m.treeContext,Kt=ii(_.nextSibling),zn=a,ft=!0,ts=null,ni=!1,r!==null&&c_(a,r),a=rf(a,u),a.flags|=4096;return a}return r=ca(r.child,{mode:u.mode,children:u.children}),r.ref=a.ref,a.child=r,r.return=a,r}function af(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function up(r,a,o,u,f){return bo(a),o=qm(r,a,o,u,void 0,f),u=Hm(),r!==null&&!En?(Gm(r,a,f),ga(r,a,f)):(ft&&u&&Sm(a),a.flags|=1,Bn(r,a,o,f),a.child)}function A0(r,a,o,u,f,m){return bo(a),a.updateQueue=null,o=I_(a,u,o,f),C_(r),u=Hm(),r!==null&&!En?(Gm(r,a,m),ga(r,a,m)):(ft&&u&&Sm(a),a.flags|=1,Bn(r,a,o,m),a.child)}function R0(r,a,o,u,f){if(bo(a),a.stateNode===null){var m=ul,_=o.contextType;typeof _=="object"&&_!==null&&(m=jn(_)),m=new o(u,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sp,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=u,m.state=a.memoizedState,m.refs={},km(a),_=o.contextType,m.context=typeof _=="object"&&_!==null?jn(_):ul,m.state=a.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(ap(a,o,_,u),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&sp.enqueueReplaceState(m,m.state,null),Vu(a,u,m,f),ku(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){m=a.stateNode;var A=a.memoizedProps,V=Ro(o,A);m.props=V;var K=m.context,ne=o.contextType;_=ul,typeof ne=="object"&&ne!==null&&(_=jn(ne));var le=o.getDerivedStateFromProps;ne=typeof le=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||K!==_)&&f0(a,m,u,_),is=!1;var X=a.memoizedState;m.state=X,Vu(a,u,m,f),ku(),K=a.memoizedState,A||X!==K||is?(typeof le=="function"&&(ap(a,o,le,u),K=a.memoizedState),(V=is||h0(a,o,V,u,X,K,_))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=K),m.props=u,m.state=K,m.context=_,u=V):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{m=a.stateNode,Vm(r,a),_=a.memoizedProps,ne=Ro(o,_),m.props=ne,le=a.pendingProps,X=m.context,K=o.contextType,V=ul,typeof K=="object"&&K!==null&&(V=jn(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==le||X!==V)&&f0(a,m,u,V),is=!1,X=a.memoizedState,m.state=X,Vu(a,u,m,f),ku();var Z=a.memoizedState;_!==le||X!==Z||is||r!==null&&r.dependencies!==null&&zh(r.dependencies)?(typeof A=="function"&&(ap(a,o,A,u),Z=a.memoizedState),(ne=is||h0(a,o,ne,u,X,Z,V)||r!==null&&r.dependencies!==null&&zh(r.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Z,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Z,V)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&X===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&X===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Z),m.props=u,m.state=Z,m.context=V,u=ne):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&X===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&X===r.memoizedState||(a.flags|=1024),u=!1)}return m=u,af(r,a),u=(a.flags&128)!==0,m||u?(m=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,r!==null&&u?(a.child=So(a,r.child,null,f),a.child=So(a,null,o,f)):Bn(r,a,o,f),a.memoizedState=m.state,r=a.child):r=ga(r,a,f),r}function C0(r,a,o,u){return vo(),a.flags|=256,Bn(r,a,o,u),a.child}var cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(r){return{baseLanes:r,cachePool:g_()}}function fp(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Br),r}function I0(r,a,o){var u=a.pendingProps,f=!1,m=(a.flags&128)!==0,_;if((_=m)||(_=r!==null&&r.memoizedState===null?!1:(fn.current&2)!==0),_&&(f=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,r===null){if(ft){if(f?os(a):ls(),(r=Kt)?(r=Vb(r,ni),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:es!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},o=o_(r),o.return=a,a.child=o,zn=a,Kt=null)):r=null,r===null)throw ns(a);return $p(r)?a.lanes=32:a.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(ls(),f=a.mode,A=sf({mode:"hidden",children:A},f),u=yo(u,f,o,null),A.return=a,u.return=a,A.sibling=u,a.child=A,u=a.child,u.memoizedState=hp(o),u.childLanes=fp(r,_,o),a.memoizedState=cp,Bu(null,u)):(os(a),dp(a,A))}var V=r.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(m)a.flags&256?(os(a),a.flags&=-257,a=mp(r,a,o)):a.memoizedState!==null?(ls(),a.child=r.child,a.flags|=128,a=null):(ls(),A=u.fallback,f=a.mode,u=sf({mode:"visible",children:u.children},f),A=yo(A,f,o,null),A.flags|=2,u.return=a,A.return=a,u.sibling=A,a.child=u,So(a,r.child,null,o),u=a.child,u.memoizedState=hp(o),u.childLanes=fp(r,_,o),a.memoizedState=cp,a=Bu(null,u));else if(os(a),$p(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var K=_.dgst;_=K,u=Error(i(419)),u.stack="",u.digest=_,xu({value:u,source:null,stack:null}),a=mp(r,a,o)}else if(En||dl(r,a,o,!1),_=(o&r.childLanes)!==0,En||_){if(_=Mt,_!==null&&(u=N(_,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,go(r,u),Sr(_,r,u),lp;Kp(A)||pf(),a=mp(r,a,o)}else Kp(A)?(a.flags|=192,a.child=r.child,a=null):(r=V.treeContext,Kt=ii(A.nextSibling),zn=a,ft=!0,ts=null,ni=!1,r!==null&&c_(a,r),a=dp(a,u.children),a.flags|=4096);return a}return f?(ls(),A=u.fallback,f=a.mode,V=r.child,K=V.sibling,u=ca(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?A=ca(K,A):(A=yo(A,f,o,null),A.flags|=2),A.return=a,u.return=a,u.sibling=A,a.child=u,Bu(null,u),u=a.child,A=r.child.memoizedState,A===null?A=hp(o):(f=A.cachePool,f!==null?(V=_n._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=g_(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=fp(r,_,o),a.memoizedState=cp,Bu(r.child,u)):(os(a),o=r.child,r=o.sibling,o=ca(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(_=a.deletions,_===null?(a.deletions=[r],a.flags|=16):_.push(r)),a.child=o,a.memoizedState=null,o)}function dp(r,a){return a=sf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function sf(r,a){return r=Lr(22,r,null,a),r.lanes=0,r}function mp(r,a,o){return So(a,r.child,null,o),r=dp(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function x0(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),xm(r.return,a,o)}function pp(r,a,o,u,f,m){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=m)}function D0(r,a,o){var u=a.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var _=fn.current,A=(_&2)!==0;if(A?(_=_&1|2,a.flags|=128):_&=1,te(fn,_),Bn(r,a,u,o),u=ft?Iu:0,!A&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&x0(r,o,a);else if(r.tag===19)x0(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(f){case"forwards":for(o=a.child,f=null;o!==null;)r=o.alternate,r!==null&&Kh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),pp(a,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(r=f.alternate,r!==null&&Kh(r)===null){a.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}pp(a,!0,o,null,m,u);break;case"together":pp(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ga(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),hs|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(dl(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=ca(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=ca(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function gp(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&zh(r)))}function yC(r,a,o){switch(a.tag){case 3:kt(a,a.stateNode.containerInfo),rs(a,_n,r.memoizedState.cache),vo();break;case 27:case 5:kn(a);break;case 4:kt(a,a.stateNode.containerInfo);break;case 10:rs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Bm(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(os(a),a.flags|=128,null):(o&a.child.childLanes)!==0?I0(r,a,o):(os(a),r=ga(r,a,o),r!==null?r.sibling:null);os(a);break;case 19:var f=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(dl(r,a,o,!1),u=(o&a.childLanes)!==0),f){if(u)return D0(r,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),te(fn,fn.current),u)break;return null;case 22:return a.lanes=0,T0(r,a,o,a.pendingProps);case 24:rs(a,_n,r.memoizedState.cache)}return ga(r,a,o)}function O0(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)En=!0;else{if(!gp(r,o)&&(a.flags&128)===0)return En=!1,yC(r,a,o);En=(r.flags&131072)!==0}else En=!1,ft&&(a.flags&1048576)!==0&&u_(a,Iu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(r=To(a.elementType),a.type=r,typeof r=="function")Em(r)?(u=Ro(r,u),a.tag=1,a=R0(null,a,r,u,o)):(a.tag=0,a=up(null,a,r,u,o));else{if(r!=null){var f=r.$$typeof;if(f===ce){a.tag=11,a=_0(null,a,r,u,o);break e}else if(f===x){a.tag=14,a=b0(null,a,r,u,o);break e}}throw a=Pe(r)||r,Error(i(306,a,""))}}return a;case 0:return up(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,f=Ro(u,a.pendingProps),R0(r,a,u,f,o);case 3:e:{if(kt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var m=a.memoizedState;f=m.element,Vm(r,a),Vu(a,u,null,o);var _=a.memoizedState;if(u=_.cache,rs(a,_n,u),u!==m.cache&&Dm(a,[_n],o,!0),ku(),u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=C0(r,a,u,o);break e}else if(u!==f){f=Zr(Error(i(424)),a),xu(f),a=C0(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Kt=ii(r.firstChild),zn=a,ft=!0,ts=null,ni=!0,o=T_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(vo(),u===f){a=ga(r,a,o);break e}Bn(r,a,u,o)}a=a.child}return a;case 26:return af(r,a),r===null?(o=Fb(a.type,null,a.pendingProps,null))?a.memoizedState=o:ft||(o=a.type,r=a.pendingProps,u=Tf(Me.current).createElement(o),u[Ee]=a,u[_e]=r,Fn(u,o,r),St(u),a.stateNode=u):a.memoizedState=Fb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return kn(a),r===null&&ft&&(u=a.stateNode=zb(a.type,a.pendingProps,Me.current),zn=a,ni=!0,f=Kt,gs(a.type)?(Yp=f,Kt=ii(u.firstChild)):Kt=f),Bn(r,a,a.pendingProps.children,o),af(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&ft&&((f=u=Kt)&&(u=KC(u,a.type,a.pendingProps,ni),u!==null?(a.stateNode=u,zn=a,Kt=ii(u.firstChild),ni=!1,f=!0):f=!1),f||ns(a)),kn(a),f=a.type,m=a.pendingProps,_=r!==null?r.memoizedProps:null,u=m.children,Hp(f,m)?u=null:_!==null&&Hp(f,_)&&(a.flags|=32),a.memoizedState!==null&&(f=qm(r,a,lC,null,null,o),nc._currentValue=f),af(r,a),Bn(r,a,u,o),a.child;case 6:return r===null&&ft&&((r=o=Kt)&&(o=$C(o,a.pendingProps,ni),o!==null?(a.stateNode=o,zn=a,Kt=null,r=!0):r=!1),r||ns(a)),null;case 13:return I0(r,a,o);case 4:return kt(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=So(a,null,u,o):Bn(r,a,u,o),a.child;case 11:return _0(r,a,a.type,a.pendingProps,o);case 7:return Bn(r,a,a.pendingProps,o),a.child;case 8:return Bn(r,a,a.pendingProps.children,o),a.child;case 12:return Bn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,rs(a,a.type,u.value),Bn(r,a,u.children,o),a.child;case 9:return f=a.type._context,u=a.pendingProps.children,bo(a),f=jn(f),u=u(f),a.flags|=1,Bn(r,a,u,o),a.child;case 14:return b0(r,a,a.type,a.pendingProps,o);case 15:return E0(r,a,a.type,a.pendingProps,o);case 19:return D0(r,a,o);case 31:return gC(r,a,o);case 22:return T0(r,a,o,a.pendingProps);case 24:return bo(a),u=jn(_n),r===null?(f=Mm(),f===null&&(f=Mt,m=Om(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),a.memoizedState={parent:u,cache:f},km(a),rs(a,_n,f)):((r.lanes&o)!==0&&(Vm(r,a),Vu(a,null,null,o),ku()),f=r.memoizedState,m=a.memoizedState,f.parent!==u?(f={parent:u,cache:u},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),rs(a,_n,u)):(u=m.cache,rs(a,_n,u),u!==f.cache&&Dm(a,[_n],o,!0))),Bn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ya(r){r.flags|=4}function yp(r,a,o,u,f){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(f&335544128)===f)if(r.stateNode.complete)r.flags|=8192;else if(ib())r.flags|=8192;else throw wo=qh,Pm}else r.flags&=-16777217}function N0(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Kb(a))if(ib())r.flags|=8192;else throw wo=qh,Pm}function of(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?pt():536870912,r.lanes|=a,Al|=a)}function Fu(r,a){if(!ft)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function $t(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function vC(r,a,o){var u=a.pendingProps;switch(Am(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(a),null;case 1:return $t(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),da(_n),rt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(fl(a)?ya(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cm())),$t(a),null;case 26:var f=a.type,m=a.memoizedState;return r===null?(ya(a),m!==null?($t(a),N0(a,m)):($t(a),yp(a,f,null,u,o))):m?m!==r.memoizedState?(ya(a),$t(a),N0(a,m)):($t(a),a.flags&=-16777217):(r=r.memoizedProps,r!==u&&ya(a),$t(a),yp(a,f,r,u,o)),null;case 27:if(Vn(a),o=Me.current,f=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ya(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return $t(a),null}r=me.current,fl(a)?h_(a):(r=zb(f,u,o),a.stateNode=r,ya(a))}return $t(a),null;case 5:if(Vn(a),f=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ya(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return $t(a),null}if(m=me.current,fl(a))h_(a);else{var _=Tf(Me.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}m[Ee]=a,m[_e]=u;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=m;e:switch(Fn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ya(a)}}return $t(a),yp(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,o),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&ya(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=Me.current,fl(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,f=zn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Ee]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Ib(r.nodeValue,o)),r||ns(a,!0)}else r=Tf(r).createTextNode(u),r[Ee]=a,a.stateNode=r}return $t(a),null;case 31:if(o=a.memoizedState,r===null||r.memoizedState!==null){if(u=fl(a),o!==null){if(r===null){if(!u)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ee]=a}else vo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$t(a),r=!1}else o=Cm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return a.flags&256?(zr(a),a):(zr(a),null);if((a.flags&128)!==0)throw Error(i(558))}return $t(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=fl(a),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ee]=a}else vo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$t(a),f=!1}else f=Cm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(zr(a),a):(zr(a),null)}return zr(a),(a.flags&128)!==0?(a.lanes=o,a):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=a.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==r&&o&&(a.child.flags|=8192),of(a,a.updateQueue),$t(a),null);case 4:return rt(),r===null&&zp(a.stateNode.containerInfo),$t(a),null;case 10:return da(a.type),$t(a),null;case 19:if(G(fn),u=a.memoizedState,u===null)return $t(a),null;if(f=(a.flags&128)!==0,m=u.rendering,m===null)if(f)Fu(u,!1);else{if(sn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(m=Kh(r),m!==null){for(a.flags|=128,Fu(u,!1),r=m.updateQueue,a.updateQueue=r,of(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)s_(o,r),o=o.sibling;return te(fn,fn.current&1|2),ft&&ha(a,u.treeForkCount),a.child}r=r.sibling}u.tail!==null&&hn()>ff&&(a.flags|=128,f=!0,Fu(u,!1),a.lanes=4194304)}else{if(!f)if(r=Kh(m),r!==null){if(a.flags|=128,f=!0,r=r.updateQueue,a.updateQueue=r,of(a,r),Fu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!ft)return $t(a),null}else 2*hn()-u.renderingStartTime>ff&&o!==536870912&&(a.flags|=128,f=!0,Fu(u,!1),a.lanes=4194304);u.isBackwards?(m.sibling=a.child,a.child=m):(r=u.last,r!==null?r.sibling=m:a.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=hn(),r.sibling=null,o=fn.current,te(fn,f?o&1|2:o&1),ft&&ha(a,u.treeForkCount),r):($t(a),null);case 22:case 23:return zr(a),jm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&($t(a),a.subtreeFlags&6&&(a.flags|=8192)):$t(a),o=a.updateQueue,o!==null&&of(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&G(Eo),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),da(_n),$t(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function _C(r,a){switch(Am(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return da(_n),rt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Vn(a),null;case 31:if(a.memoizedState!==null){if(zr(a),a.alternate===null)throw Error(i(340));vo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(zr(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));vo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return G(fn),null;case 4:return rt(),null;case 10:return da(a.type),null;case 22:case 23:return zr(a),jm(),r!==null&&G(Eo),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return da(_n),null;case 25:return null;default:return null}}function M0(r,a){switch(Am(a),a.tag){case 3:da(_n),rt();break;case 26:case 27:case 5:Vn(a);break;case 4:rt();break;case 31:a.memoizedState!==null&&zr(a);break;case 13:zr(a);break;case 19:G(fn);break;case 10:da(a.type);break;case 22:case 23:zr(a),jm(),r!==null&&G(Eo);break;case 24:da(_n)}}function qu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,_=o.inst;u=m(),_.destroy=u}o=o.next}while(o!==f)}}catch(A){Rt(a,a.return,A)}}function us(r,a,o){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var _=u.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=a;var V=o,K=A;try{K()}catch(ne){Rt(f,V,ne)}}}u=u.next}while(u!==m)}}catch(ne){Rt(a,a.return,ne)}}function P0(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{S_(a,o)}catch(u){Rt(r,r.return,u)}}}function k0(r,a,o){o.props=Ro(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Rt(r,a,u)}}function Hu(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){Rt(r,a,f)}}function Vi(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Rt(r,a,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Rt(r,a,f)}else o.current=null}function V0(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Rt(r,r.return,f)}}function vp(r,a,o){try{var u=r.stateNode;BC(u,r.type,o,a),u[_e]=a}catch(f){Rt(r,r.return,f)}}function L0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gs(r.type)||r.tag===4}function _p(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||L0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function bp(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=xn));else if(u!==4&&(u===27&&gs(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(bp(r,a,o),r=r.sibling;r!==null;)bp(r,a,o),r=r.sibling}function lf(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&gs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(lf(r,a,o),r=r.sibling;r!==null;)lf(r,a,o),r=r.sibling}function U0(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Fn(a,u,o),a[Ee]=r,a[_e]=o}catch(m){Rt(r,r.return,m)}}var va=!1,Tn=!1,Ep=!1,z0=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function bC(r,a){if(r=r.containerInfo,Fp=xf,r=Wv(r),mm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,A=-1,V=-1,K=0,ne=0,le=r,X=null;t:for(;;){for(var Z;le!==o||f!==0&&le.nodeType!==3||(A=_+f),le!==m||u!==0&&le.nodeType!==3||(V=_+u),le.nodeType===3&&(_+=le.nodeValue.length),(Z=le.firstChild)!==null;)X=le,le=Z;for(;;){if(le===r)break t;if(X===o&&++K===f&&(A=_),X===m&&++ne===u&&(V=_),(Z=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=Z}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(qp={focusedElem:r,selectionRange:o},xf=!1,Nn=a;Nn!==null;)if(a=Nn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Nn=r;else for(;Nn!==null;){switch(a=Nn,m=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)f=r[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=a,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var xe=Ro(o.type,f);r=u.getSnapshotBeforeUpdate(xe,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(ze){Rt(o,o.return,ze)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Qp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Qp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Nn=r;break}Nn=a.return}}function j0(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ba(r,o),u&4&&qu(5,o);break;case 1:if(ba(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(_){Rt(o,o.return,_)}else{var f=Ro(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(f,a,r.__reactInternalSnapshotBeforeUpdate)}catch(_){Rt(o,o.return,_)}}u&64&&P0(o),u&512&&Hu(o,o.return);break;case 3:if(ba(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{S_(r,a)}catch(_){Rt(o,o.return,_)}}break;case 27:a===null&&u&4&&U0(o);case 26:case 5:ba(r,o),a===null&&u&4&&V0(o),u&512&&Hu(o,o.return);break;case 12:ba(r,o);break;case 31:ba(r,o),u&4&&q0(r,o);break;case 13:ba(r,o),u&4&&H0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=xC.bind(null,o),YC(r,o))));break;case 22:if(u=o.memoizedState!==null||va,!u){a=a!==null&&a.memoizedState!==null||Tn,f=va;var m=Tn;va=u,(Tn=a)&&!m?Ea(r,o,(o.subtreeFlags&8772)!==0):ba(r,o),va=f,Tn=m}break;case 30:break;default:ba(r,o)}}function B0(r){var a=r.alternate;a!==null&&(r.alternate=null,B0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&_t(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Zt=null,br=!1;function _a(r,a,o){for(o=o.child;o!==null;)F0(r,a,o),o=o.sibling}function F0(r,a,o){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Kn,o)}catch{}switch(o.tag){case 26:Tn||Vi(o,a),_a(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tn||Vi(o,a);var u=Zt,f=br;gs(o.type)&&(Zt=o.stateNode,br=!1),_a(r,a,o),Zu(o.stateNode),Zt=u,br=f;break;case 5:Tn||Vi(o,a);case 6:if(u=Zt,f=br,Zt=null,_a(r,a,o),Zt=u,br=f,Zt!==null)if(br)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(o.stateNode)}catch(m){Rt(o,a,m)}else try{Zt.removeChild(o.stateNode)}catch(m){Rt(o,a,m)}break;case 18:Zt!==null&&(br?(r=Zt,Pb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ml(r)):Pb(Zt,o.stateNode));break;case 4:u=Zt,f=br,Zt=o.stateNode.containerInfo,br=!0,_a(r,a,o),Zt=u,br=f;break;case 0:case 11:case 14:case 15:us(2,o,a),Tn||us(4,o,a),_a(r,a,o);break;case 1:Tn||(Vi(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&k0(o,a,u)),_a(r,a,o);break;case 21:_a(r,a,o);break;case 22:Tn=(u=Tn)||o.memoizedState!==null,_a(r,a,o),Tn=u;break;default:_a(r,a,o)}}function q0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ml(r)}catch(o){Rt(a,a.return,o)}}}function H0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ml(r)}catch(o){Rt(a,a.return,o)}}function EC(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new z0),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new z0),a;default:throw Error(i(435,r.tag))}}function uf(r,a){var o=EC(r);a.forEach(function(u){if(!o.has(u)){o.add(u);var f=DC.bind(null,r,u);u.then(f,f)}})}function Er(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,_=a,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(gs(A.type)){Zt=A.stateNode,br=!1;break e}break;case 5:Zt=A.stateNode,br=!1;break e;case 3:case 4:Zt=A.stateNode.containerInfo,br=!0;break e}A=A.return}if(Zt===null)throw Error(i(160));F0(m,_,f),Zt=null,br=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)G0(a,r),a=a.sibling}var pi=null;function G0(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Er(a,r),Tr(r),u&4&&(us(3,r,r.return),qu(3,r),us(5,r,r.return));break;case 1:Er(a,r),Tr(r),u&512&&(Tn||o===null||Vi(o,o.return)),u&64&&va&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=pi;if(Er(a,r),Tr(r),u&512&&(Tn||o===null||Vi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Qe]||m[Ee]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Fn(m,u,o),m[Ee]=r,St(m),u=m;break e;case"link":var _=Gb("link","href",f).get(u+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break t}}m=f.createElement(u),Fn(m,u,o),f.head.appendChild(m);break;case"meta":if(_=Gb("meta","content",f).get(u+(o.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break t}}m=f.createElement(u),Fn(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[Ee]=r,St(m),u=m}r.stateNode=u}else Qb(f,r.type,r.stateNode);else r.stateNode=Hb(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Qb(f,r.type,r.stateNode):Hb(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&vp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Er(a,r),Tr(r),u&512&&(Tn||o===null||Vi(o,o.return)),o!==null&&u&4&&vp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Er(a,r),Tr(r),u&512&&(Tn||o===null||Vi(o,o.return)),r.flags&32){f=r.stateNode;try{Wr(f,"")}catch(xe){Rt(r,r.return,xe)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,vp(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Ep=!0);break;case 6:if(Er(a,r),Tr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(xe){Rt(r,r.return,xe)}}break;case 3:if(Af=null,f=pi,pi=wf(a.containerInfo),Er(a,r),pi=f,Tr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ml(a.containerInfo)}catch(xe){Rt(r,r.return,xe)}Ep&&(Ep=!1,Q0(r));break;case 4:u=pi,pi=wf(r.stateNode.containerInfo),Er(a,r),Tr(r),pi=u;break;case 12:Er(a,r),Tr(r);break;case 31:Er(a,r),Tr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,uf(r,u)));break;case 13:Er(a,r),Tr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hf=hn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,uf(r,u)));break;case 22:f=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=va,ne=Tn;if(va=K||f,Tn=ne||V,Er(a,r),Tn=ne,va=K,Tr(r),u&8192)e:for(a=r.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||V||va||Tn||Co(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){V=o=a;try{if(m=V.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=V.stateNode;var le=V.memoizedProps.style,X=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(xe){Rt(V,V.return,xe)}}}else if(a.tag===6){if(o===null){V=a;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(xe){Rt(V,V.return,xe)}}}else if(a.tag===18){if(o===null){V=a;try{var Z=V.stateNode;f?kb(Z,!0):kb(V.stateNode,!1)}catch(xe){Rt(V,V.return,xe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,uf(r,o))));break;case 19:Er(a,r),Tr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,uf(r,u)));break;case 30:break;case 21:break;default:Er(a,r),Tr(r)}}function Tr(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(L0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=_p(r);lf(r,m,f);break;case 5:var _=o.stateNode;o.flags&32&&(Wr(_,""),o.flags&=-33);var A=_p(r);lf(r,A,_);break;case 3:case 4:var V=o.stateNode.containerInfo,K=_p(r);bp(r,K,V);break;default:throw Error(i(161))}}catch(ne){Rt(r,r.return,ne)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Q0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Q0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ba(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)j0(r,a.alternate,a),a=a.sibling}function Co(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:us(4,a,a.return),Co(a);break;case 1:Vi(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&k0(a,a.return,o),Co(a);break;case 27:Zu(a.stateNode);case 26:case 5:Vi(a,a.return),Co(a);break;case 22:a.memoizedState===null&&Co(a);break;case 30:Co(a);break;default:Co(a)}r=r.sibling}}function Ea(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,f=r,m=a,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ea(f,m,o),qu(4,m);break;case 1:if(Ea(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Rt(u,u.return,K)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)w_(V[f],A)}catch(K){Rt(u,u.return,K)}}o&&_&64&&P0(m),Hu(m,m.return);break;case 27:U0(m);case 26:case 5:Ea(f,m,o),o&&u===null&&_&4&&V0(m),Hu(m,m.return);break;case 12:Ea(f,m,o);break;case 31:Ea(f,m,o),o&&_&4&&q0(f,m);break;case 13:Ea(f,m,o),o&&_&4&&H0(f,m);break;case 22:m.memoizedState===null&&Ea(f,m,o),Hu(m,m.return);break;case 30:break;default:Ea(f,m,o)}a=a.sibling}}function Tp(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Du(o))}function wp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Du(r))}function gi(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)K0(r,a,o,u),a=a.sibling}function K0(r,a,o,u){var f=a.flags;switch(a.tag){case 0:case 11:case 15:gi(r,a,o,u),f&2048&&qu(9,a);break;case 1:gi(r,a,o,u);break;case 3:gi(r,a,o,u),f&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Du(r)));break;case 12:if(f&2048){gi(r,a,o,u),r=a.stateNode;try{var m=a.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){Rt(a,a.return,V)}}else gi(r,a,o,u);break;case 31:gi(r,a,o,u);break;case 13:gi(r,a,o,u);break;case 23:break;case 22:m=a.stateNode,_=a.alternate,a.memoizedState!==null?m._visibility&2?gi(r,a,o,u):Gu(r,a):m._visibility&2?gi(r,a,o,u):(m._visibility|=2,Tl(r,a,o,u,(a.subtreeFlags&10256)!==0||!1)),f&2048&&Tp(_,a);break;case 24:gi(r,a,o,u),f&2048&&wp(a.alternate,a);break;default:gi(r,a,o,u)}}function Tl(r,a,o,u,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var m=r,_=a,A=o,V=u,K=_.flags;switch(_.tag){case 0:case 11:case 15:Tl(m,_,A,V,f),qu(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Tl(m,_,A,V,f):Gu(m,_):(ne._visibility|=2,Tl(m,_,A,V,f)),f&&K&2048&&Tp(_.alternate,_);break;case 24:Tl(m,_,A,V,f),f&&K&2048&&wp(_.alternate,_);break;default:Tl(m,_,A,V,f)}a=a.sibling}}function Gu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,f=u.flags;switch(u.tag){case 22:Gu(o,u),f&2048&&Tp(u.alternate,u);break;case 24:Gu(o,u),f&2048&&wp(u.alternate,u);break;default:Gu(o,u)}a=a.sibling}}var Qu=8192;function wl(r,a,o){if(r.subtreeFlags&Qu)for(r=r.child;r!==null;)$0(r,a,o),r=r.sibling}function $0(r,a,o){switch(r.tag){case 26:wl(r,a,o),r.flags&Qu&&r.memoizedState!==null&&oI(o,pi,r.memoizedState,r.memoizedProps);break;case 5:wl(r,a,o);break;case 3:case 4:var u=pi;pi=wf(r.stateNode.containerInfo),wl(r,a,o),pi=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Qu,Qu=16777216,wl(r,a,o),Qu=u):wl(r,a,o));break;default:wl(r,a,o)}}function Y0(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ku(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Nn=u,W0(u,r)}Y0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)X0(r),r=r.sibling}function X0(r){switch(r.tag){case 0:case 11:case 15:Ku(r),r.flags&2048&&us(9,r,r.return);break;case 3:Ku(r);break;case 12:Ku(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,cf(r)):Ku(r);break;default:Ku(r)}}function cf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Nn=u,W0(u,r)}Y0(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:us(8,a,a.return),cf(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,cf(a));break;default:cf(a)}r=r.sibling}}function W0(r,a){for(;Nn!==null;){var o=Nn;switch(o.tag){case 0:case 11:case 15:us(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Du(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Nn=u;else e:for(o=r;Nn!==null;){u=Nn;var f=u.sibling,m=u.return;if(B0(u),u===o){Nn=null;break e}if(f!==null){f.return=m,Nn=f;break e}Nn=m}}}var TC={getCacheForType:function(r){var a=jn(_n),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o},cacheSignal:function(){return jn(_n).controller.signal}},wC=typeof WeakMap=="function"?WeakMap:Map,bt=0,Mt=null,at=null,lt=0,At=0,jr=null,cs=!1,Sl=!1,Sp=!1,Ta=0,sn=0,hs=0,Io=0,Ap=0,Br=0,Al=0,$u=null,wr=null,Rp=!1,hf=0,J0=0,ff=1/0,df=null,fs=null,Cn=0,ds=null,Rl=null,wa=0,Cp=0,Ip=null,Z0=null,Yu=0,xp=null;function Fr(){return(bt&2)!==0&&lt!==0?lt&-lt:H.T!==null?kp():fe()}function eb(){if(Br===0)if((lt&536870912)===0||ft){var r=Ln;Ln<<=1,(Ln&3932160)===0&&(Ln=262144),Br=r}else Br=536870912;return r=Ur.current,r!==null&&(r.flags|=32),Br}function Sr(r,a,o){(r===Mt&&(At===2||At===9)||r.cancelPendingCommit!==null)&&(Cl(r,0),ms(r,lt,Br,!1)),qt(r,o),((bt&2)===0||r!==Mt)&&(r===Mt&&((bt&2)===0&&(Io|=o),sn===4&&ms(r,lt,Br,!1)),Li(r))}function tb(r,a,o){if((bt&6)!==0)throw Error(i(327));var u=!o&&(a&127)===0&&(a&r.expiredLanes)===0||Ve(r,a),f=u?RC(r,a):Op(r,a,!0),m=u;do{if(f===0){Sl&&!u&&ms(r,a,0,!1);break}else{if(o=r.current.alternate,m&&!SC(o)){f=Op(r,a,!1),m=!1;continue}if(f===2){if(m=a,r.errorRecoveryDisabledLanes&m)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var A=r;f=$u;var V=A.current.memoizedState.isDehydrated;if(V&&(Cl(A,_).flags|=256),_=Op(A,_,!1),_!==2){if(Sp&&!V){A.errorRecoveryDisabledLanes|=m,Io|=m,f=4;break e}m=wr,wr=f,m!==null&&(wr===null?wr=m:wr.push.apply(wr,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Cl(r,0),ms(r,a,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ms(u,a,Br,!cs);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=hf+300-hn(),10<f)){if(ms(u,a,Br,!cs),$n(u,0,!0)!==0)break e;wa=a,u.timeoutHandle=Nb(nb.bind(null,u,o,wr,df,Rp,a,Br,Io,Al,cs,m,"Throttled",-0,0),f);break e}nb(u,o,wr,df,Rp,a,Br,Io,Al,cs,m,null,-0,0)}}break}while(!0);Li(r)}function nb(r,a,o,u,f,m,_,A,V,K,ne,le,X,Z){if(r.timeoutHandle=-1,le=a.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},$0(a,m,le);var xe=(m&62914560)===m?hf-hn():(m&4194048)===m?J0-hn():0;if(xe=lI(le,xe),xe!==null){wa=m,r.cancelPendingCommit=xe(cb.bind(null,r,a,m,o,u,f,_,A,V,ne,le,null,X,Z)),ms(r,m,_,!K);return}}cb(r,a,m,o,u,f,_,A,V)}function SC(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Vr(m(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ms(r,a,o,u){a&=~Ap,a&=~Io,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var f=a;0<f;){var m=31-Ft(f),_=1<<m;u[m]=-1,f&=~_}o!==0&&or(r,o,a)}function mf(){return(bt&6)===0?(Xu(0),!1):!0}function Dp(){if(at!==null){if(At===0)var r=at.return;else r=at,fa=_o=null,Qm(r),yl=null,Nu=0,r=at;for(;r!==null;)M0(r.alternate,r),r=r.return;at=null}}function Cl(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,HC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),wa=0,Dp(),Mt=r,at=o=ca(r.current,null),lt=a,At=0,jr=null,cs=!1,Sl=Ve(r,a),Sp=!1,Al=Br=Ap=Io=hs=sn=0,wr=$u=null,Rp=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var f=31-Ft(u),m=1<<f;a|=r[f],u&=~m}return Ta=a,Ph(),o}function rb(r,a){Xe=null,H.H=ju,a===gl||a===Fh?(a=__(),At=3):a===Pm?(a=__(),At=4):At=a===lp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,jr=a,at===null&&(sn=1,nf(r,Zr(a,r.current)))}function ib(){var r=Ur.current;return r===null?!0:(lt&4194048)===lt?ri===null:(lt&62914560)===lt||(lt&536870912)!==0?r===ri:!1}function ab(){var r=H.H;return H.H=ju,r===null?ju:r}function sb(){var r=H.A;return H.A=TC,r}function pf(){sn=4,cs||(lt&4194048)!==lt&&Ur.current!==null||(Sl=!0),(hs&134217727)===0&&(Io&134217727)===0||Mt===null||ms(Mt,lt,Br,!1)}function Op(r,a,o){var u=bt;bt|=2;var f=ab(),m=sb();(Mt!==r||lt!==a)&&(df=null,Cl(r,a)),a=!1;var _=sn;e:do try{if(At!==0&&at!==null){var A=at,V=jr;switch(At){case 8:Dp(),_=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(a=!0);var K=At;if(At=0,jr=null,Il(r,A,V,K),o&&Sl){_=0;break e}break;default:K=At,At=0,jr=null,Il(r,A,V,K)}}AC(),_=sn;break}catch(ne){rb(r,ne)}while(!0);return a&&r.shellSuspendCounter++,fa=_o=null,bt=u,H.H=f,H.A=m,at===null&&(Mt=null,lt=0,Ph()),_}function AC(){for(;at!==null;)ob(at)}function RC(r,a){var o=bt;bt|=2;var u=ab(),f=sb();Mt!==r||lt!==a?(df=null,ff=hn()+500,Cl(r,a)):Sl=Ve(r,a);e:do try{if(At!==0&&at!==null){a=at;var m=jr;t:switch(At){case 1:At=0,jr=null,Il(r,a,m,1);break;case 2:case 9:if(y_(m)){At=0,jr=null,lb(a);break}a=function(){At!==2&&At!==9||Mt!==r||(At=7),Li(r)},m.then(a,a);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:y_(m)?(At=0,jr=null,lb(a)):(At=0,jr=null,Il(r,a,m,7));break;case 5:var _=null;switch(at.tag){case 26:_=at.memoizedState;case 5:case 27:var A=at;if(_?Kb(_):A.stateNode.complete){At=0,jr=null;var V=A.sibling;if(V!==null)at=V;else{var K=A.return;K!==null?(at=K,gf(K)):at=null}break t}}At=0,jr=null,Il(r,a,m,5);break;case 6:At=0,jr=null,Il(r,a,m,6);break;case 8:Dp(),sn=6;break e;default:throw Error(i(462))}}CC();break}catch(ne){rb(r,ne)}while(!0);return fa=_o=null,H.H=u,H.A=f,bt=o,at!==null?0:(Mt=null,lt=0,Ph(),sn)}function CC(){for(;at!==null&&!ja();)ob(at)}function ob(r){var a=O0(r.alternate,r,Ta);r.memoizedProps=r.pendingProps,a===null?gf(r):at=a}function lb(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=A0(o,a,a.pendingProps,a.type,void 0,lt);break;case 11:a=A0(o,a,a.pendingProps,a.type.render,a.ref,lt);break;case 5:Qm(a);default:M0(o,a),a=at=s_(a,Ta),a=O0(o,a,Ta)}r.memoizedProps=r.pendingProps,a===null?gf(r):at=a}function Il(r,a,o,u){fa=_o=null,Qm(a),yl=null,Nu=0;var f=a.return;try{if(pC(r,f,a,o,lt)){sn=1,nf(r,Zr(o,r.current)),at=null;return}}catch(m){if(f!==null)throw at=f,m;sn=1,nf(r,Zr(o,r.current)),at=null;return}a.flags&32768?(ft||u===1?r=!0:Sl||(lt&536870912)!==0?r=!1:(cs=r=!0,(u===2||u===9||u===3||u===6)&&(u=Ur.current,u!==null&&u.tag===13&&(u.flags|=16384))),ub(a,r)):gf(a)}function gf(r){var a=r;do{if((a.flags&32768)!==0){ub(a,cs);return}r=a.return;var o=vC(a.alternate,a,Ta);if(o!==null){at=o;return}if(a=a.sibling,a!==null){at=a;return}at=a=r}while(a!==null);sn===0&&(sn=5)}function ub(r,a){do{var o=_C(r.alternate,r);if(o!==null){o.flags&=32767,at=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){at=r;return}at=r=o}while(r!==null);sn=6,at=null}function cb(r,a,o,u,f,m,_,A,V){r.cancelPendingCommit=null;do yf();while(Cn!==0);if((bt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=_m,wt(r,o,m,_,A,V),r===Mt&&(at=Mt=null,lt=0),Rl=a,ds=r,wa=o,Cp=m,Ip=f,Z0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,OC(ar,function(){return pb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,f=oe.p,oe.p=2,_=bt,bt|=4;try{bC(r,a,o)}finally{bt=_,oe.p=f,H.T=u}}Cn=1,hb(),fb(),db()}}function hb(){if(Cn===1){Cn=0;var r=ds,a=Rl,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=oe.p;oe.p=2;var f=bt;bt|=4;try{G0(a,r);var m=qp,_=Wv(r.containerInfo),A=m.focusedElem,V=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&Xv(A.ownerDocument.documentElement,A)){if(V!==null&&mm(A)){var K=V.start,ne=V.end;if(ne===void 0&&(ne=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(ne,A.value.length);else{var le=A.ownerDocument||document,X=le&&le.defaultView||window;if(X.getSelection){var Z=X.getSelection(),xe=A.textContent.length,ze=Math.min(V.start,xe),Ot=V.end===void 0?ze:Math.min(V.end,xe);!Z.extend&&ze>Ot&&(_=Ot,Ot=ze,ze=_);var F=Yv(A,ze),z=Yv(A,Ot);if(F&&z&&(Z.rangeCount!==1||Z.anchorNode!==F.node||Z.anchorOffset!==F.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var Q=le.createRange();Q.setStart(F.node,F.offset),Z.removeAllRanges(),ze>Ot?(Z.addRange(Q),Z.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),Z.addRange(Q))}}}}for(le=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&le.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var ie=le[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}xf=!!Fp,qp=Fp=null}finally{bt=f,oe.p=u,H.T=o}}r.current=a,Cn=2}}function fb(){if(Cn===2){Cn=0;var r=ds,a=Rl,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=oe.p;oe.p=2;var f=bt;bt|=4;try{j0(r,a.alternate,a)}finally{bt=f,oe.p=u,H.T=o}}Cn=3}}function db(){if(Cn===4||Cn===3){Cn=0,ir();var r=ds,a=Rl,o=wa,u=Z0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Cn=5:(Cn=0,Rl=ds=null,mb(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(fs=null),Y(o),a=a.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Kn,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=H.T,f=oe.p,oe.p=2,H.T=null;try{for(var m=r.onRecoverableError,_=0;_<u.length;_++){var A=u[_];m(A.value,{componentStack:A.stack})}}finally{H.T=a,oe.p=f}}(wa&3)!==0&&yf(),Li(r),f=r.pendingLanes,(o&261930)!==0&&(f&42)!==0?r===xp?Yu++:(Yu=0,xp=r):Yu=0,Xu(0)}}function mb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Du(a)))}function yf(){return hb(),fb(),db(),pb()}function pb(){if(Cn!==5)return!1;var r=ds,a=Cp;Cp=0;var o=Y(wa),u=H.T,f=oe.p;try{oe.p=32>o?32:o,H.T=null,o=Ip,Ip=null;var m=ds,_=wa;if(Cn=0,Rl=ds=null,wa=0,(bt&6)!==0)throw Error(i(331));var A=bt;if(bt|=4,X0(m.current),K0(m,m.current,_,o),bt=A,Xu(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Kn,m)}catch{}return!0}finally{oe.p=f,H.T=u,mb(r,a)}}function gb(r,a,o){a=Zr(o,a),a=op(r.stateNode,a,2),r=ss(r,a,2),r!==null&&(qt(r,2),Li(r))}function Rt(r,a,o){if(r.tag===3)gb(r,r,o);else for(;a!==null;){if(a.tag===3){gb(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fs===null||!fs.has(u))){r=Zr(o,r),o=y0(2),u=ss(a,o,2),u!==null&&(v0(o,u,a,r),qt(u,2),Li(u));break}}a=a.return}}function Np(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new wC;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(o)||(Sp=!0,f.add(o),r=IC.bind(null,r,a,o),a.then(r,r))}function IC(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Mt===r&&(lt&o)===o&&(sn===4||sn===3&&(lt&62914560)===lt&&300>hn()-hf?(bt&2)===0&&Cl(r,0):Ap|=o,Al===lt&&(Al=0)),Li(r)}function yb(r,a){a===0&&(a=pt()),r=go(r,a),r!==null&&(qt(r,a),Li(r))}function xC(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),yb(r,o)}function DC(r,a){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),yb(r,o)}function OC(r,a){return Or(r,a)}var vf=null,xl=null,Mp=!1,_f=!1,Pp=!1,ps=0;function Li(r){r!==xl&&r.next===null&&(xl===null?vf=xl=r:xl=xl.next=r),_f=!0,Mp||(Mp=!0,MC())}function Xu(r,a){if(!Pp&&_f){Pp=!0;do for(var o=!1,u=vf;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-Ft(42|r)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Eb(u,m))}else m=lt,m=$n(u,u===Mt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Ve(u,m)||(o=!0,Eb(u,m));u=u.next}while(o);Pp=!1}}function NC(){vb()}function vb(){_f=Mp=!1;var r=0;ps!==0&&qC()&&(r=ps);for(var a=hn(),o=null,u=vf;u!==null;){var f=u.next,m=_b(u,a);m===0?(u.next=null,o===null?vf=f:o.next=f,f===null&&(xl=o)):(o=u,(r!==0||(m&3)!==0)&&(_f=!0)),u=f}Cn!==0&&Cn!==5||Xu(r),ps!==0&&(ps=0)}function _b(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var _=31-Ft(m),A=1<<_,V=f[_];V===-1?((A&o)===0||(A&u)!==0)&&(f[_]=it(A,a)):V<=a&&(r.expiredLanes|=A),m&=~A}if(a=Mt,o=lt,o=$n(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(At===2||At===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&pr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ve(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&pr(u),Y(o)){case 2:case 8:o=Ct;break;case 32:o=ar;break;case 268435456:o=yn;break;default:o=ar}return u=bb.bind(null,r),o=Or(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&pr(u),r.callbackPriority=2,r.callbackNode=null,2}function bb(r,a){if(Cn!==0&&Cn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(yf()&&r.callbackNode!==o)return null;var u=lt;return u=$n(r,r===Mt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(tb(r,u,a),_b(r,hn()),r.callbackNode!=null&&r.callbackNode===o?bb.bind(null,r):null)}function Eb(r,a){if(yf())return null;tb(r,a,!0)}function MC(){GC(function(){(bt&6)!==0?Or(nt,NC):vb()})}function kp(){if(ps===0){var r=ml;r===0&&(r=Nr,Nr<<=1,(Nr&261888)===0&&(Nr=256)),ps=r}return ps}function Tb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Oi(""+r)}function wb(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function PC(r,a,o,u,f){if(a==="submit"&&o&&o.stateNode===f){var m=Tb((f[_e]||null).action),_=u.submitter;_&&(a=(a=_[_e]||null)?Tb(a.formAction):_.getAttribute("formAction"),a!==null&&(m=a,_=null));var A=new lo("action","action",null,u,f);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ps!==0){var V=_?wb(f,_):new FormData(f);tp(o,{pending:!0,data:V,method:f.method,action:m},null,V)}}else typeof m=="function"&&(A.preventDefault(),V=_?wb(f,_):new FormData(f),tp(o,{pending:!0,data:V,method:f.method,action:m},m,V))},currentTarget:f}]})}}for(var Vp=0;Vp<vm.length;Vp++){var Lp=vm[Vp],kC=Lp.toLowerCase(),VC=Lp[0].toUpperCase()+Lp.slice(1);mi(kC,"on"+VC)}mi(e_,"onAnimationEnd"),mi(t_,"onAnimationIteration"),mi(n_,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(JR,"onTransitionRun"),mi(ZR,"onTransitionStart"),mi(eC,"onTransitionCancel"),mi(r_,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),Ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ut("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function Sb(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(a)for(var _=u.length-1;0<=_;_--){var A=u[_],V=A.instance,K=A.currentTarget;if(A=A.listener,V!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=K;try{m(f)}catch(ne){Mh(ne)}f.currentTarget=null,m=V}else for(_=0;_<u.length;_++){if(A=u[_],V=A.instance,K=A.currentTarget,A=A.listener,V!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=K;try{m(f)}catch(ne){Mh(ne)}f.currentTarget=null,m=V}}}}function st(r,a){var o=a[De];o===void 0&&(o=a[De]=new Set);var u=r+"__bubble";o.has(u)||(Ab(a,r,2,!1),o.add(u))}function Up(r,a,o){var u=0;a&&(u|=4),Ab(o,r,u,a)}var bf="_reactListening"+Math.random().toString(36).slice(2);function zp(r){if(!r[bf]){r[bf]=!0,Xr.forEach(function(o){o!=="selectionchange"&&(LC.has(o)||Up(o,!1,r),Up(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[bf]||(a[bf]=!0,Up("selectionchange",!1,a))}}function Ab(r,a,o,u){switch(eE(a)){case 2:var f=hI;break;case 8:f=fI;break;default:f=eg}o=f.bind(null,a,o,r),f=void 0,!_u||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(a,o,{capture:!0,passive:f}):r.addEventListener(a,o,!0):f!==void 0?r.addEventListener(a,o,{passive:f}):r.addEventListener(a,o,!1)}function jp(r,a,o,u,f){var m=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var A=u.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=u.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=It(A),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){u=m=_;continue e}A=A.parentNode}}u=u.return}yh(function(){var K=m,ne=tl(o),le=[];e:{var X=i_.get(r);if(X!==void 0){var Z=lo,xe=r;switch(r){case"keypress":if(oo(o)===0)break e;case"keydown":case"keyup":Z=Rh;break;case"focusin":xe="focus",Z=Xa;break;case"focusout":xe="blur",Z=Xa;break;case"beforeblur":case"afterblur":Z=Xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Ih;break;case e_:case t_:case n_:Z=il;break;case r_:Z=al;break;case"scroll":case"scrollend":Z=vh;break;case"wheel":Z=Dh;break;case"copy":case"cut":case"paste":Z=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Su;break;case"toggle":case"beforetoggle":Z=Ja}var ze=(a&4)!==0,Ot=!ze&&(r==="scroll"||r==="scrollend"),F=ze?X!==null?X+"Capture":null:X;ze=[];for(var z=K,Q;z!==null;){var ie=z;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||F===null||(ie=vr(z,F),ie!=null&&ze.push(Ju(z,ie,Q))),Ot)break;z=z.return}0<ze.length&&(X=new Z(X,xe,null,o,ne),le.push({event:X,listeners:ze}))}}if((a&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",X&&o!==el&&(xe=o.relatedTarget||o.fromElement)&&(It(xe)||xe[be]))break e;if((Z||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(xe=o.relatedTarget||o.toElement,Z=K,xe=xe?It(xe):null,xe!==null&&(Ot=l(xe),ze=xe.tag,xe!==Ot||ze!==5&&ze!==27&&ze!==6)&&(xe=null)):(Z=null,xe=K),Z!==xe)){if(ze=_h,ie="onMouseLeave",F="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(ze=Su,ie="onPointerLeave",F="onPointerEnter",z="pointer"),Ot=Z==null?X:ot(Z),Q=xe==null?X:ot(xe),X=new ze(ie,z+"leave",Z,o,ne),X.target=Ot,X.relatedTarget=Q,ie=null,It(ne)===K&&(ze=new ze(F,z+"enter",xe,o,ne),ze.target=Q,ze.relatedTarget=Ot,ie=ze),Ot=ie,Z&&xe)t:{for(ze=UC,F=Z,z=xe,Q=0,ie=F;ie;ie=ze(ie))Q++;ie=0;for(var Le=z;Le;Le=ze(Le))ie++;for(;0<Q-ie;)F=ze(F),Q--;for(;0<ie-Q;)z=ze(z),ie--;for(;Q--;){if(F===z||z!==null&&F===z.alternate){ze=F;break t}F=ze(F),z=ze(z)}ze=null}else ze=null;Z!==null&&Rb(le,X,Z,ze,!1),xe!==null&&Ot!==null&&Rb(le,Ot,xe,ze,!0)}}e:{if(X=K?ot(K):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var yt=qv;else if(_r(X))if(Hv)yt=YR;else{yt=KR;var Ne=QR}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&yu(K.elementType)&&(yt=qv):yt=$R;if(yt&&(yt=yt(r,K))){fo(le,yt,o,ne);break e}Ne&&Ne(r,X,K),r==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Zo(X,"number",X.value)}switch(Ne=K?ot(K):window,r){case"focusin":(_r(Ne)||Ne.contentEditable==="true")&&(sl=Ne,pm=K,Cu=null);break;case"focusout":Cu=pm=sl=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,Jv(le,o,ne);break;case"selectionchange":if(WR)break;case"keydown":case"keyup":Jv(le,o,ne)}var We;if(y)e:{switch(r){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Ze?Et(r,o)&&(ut="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ut="onCompositionStart");ut&&(q&&o.locale!=="ko"&&(Ze||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Ze&&(We=Qa()):(kr=ne,nl="value"in kr?kr.value:kr.textContent,Ze=!0)),Ne=Ef(K,ut),0<Ne.length&&(ut=new Eu(ut,r,null,o,ne),le.push({event:ut,listeners:Ne}),We?ut.data=We:(We=vn(o),We!==null&&(ut.data=We)))),(We=R?Dn(r,o):On(r,o))&&(ut=Ef(K,"onBeforeInput"),0<ut.length&&(Ne=new Eu("onBeforeInput","beforeinput",null,o,ne),le.push({event:Ne,listeners:ut}),Ne.data=We)),PC(le,r,K,o,ne)}Sb(le,a)})}function Ju(r,a,o){return{instance:r,listener:a,currentTarget:o}}function Ef(r,a){for(var o=a+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=vr(r,o),f!=null&&u.unshift(Ju(r,f,m)),f=vr(r,a),f!=null&&u.push(Ju(r,f,m))),r.tag===3)return u;r=r.return}return[]}function UC(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Rb(r,a,o,u,f){for(var m=a._reactName,_=[];o!==null&&o!==u;){var A=o,V=A.alternate,K=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||K===null||(V=K,f?(K=vr(o,m),K!=null&&_.unshift(Ju(o,K,V))):f||(K=vr(o,m),K!=null&&_.push(Ju(o,K,V)))),o=o.return}_.length!==0&&r.push({event:a,listeners:_})}var zC=/\r\n?/g,jC=/\u0000|\uFFFD/g;function Cb(r){return(typeof r=="string"?r:""+r).replace(zC,`
`).replace(jC,"")}function Ib(r,a){return a=Cb(a),Cb(r)===a}function Dt(r,a,o,u,f,m){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Wr(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Wr(r,""+u);break;case"className":Gt(r,"class",u);break;case"tabIndex":Gt(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Gt(r,o,u);break;case"style":ph(r,u,m);break;case"data":if(a!=="object"){Gt(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Oi(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(a!=="input"&&Dt(r,a,"name",f.name,f,null),Dt(r,a,"formEncType",f.formEncType,f,null),Dt(r,a,"formMethod",f.formMethod,f,null),Dt(r,a,"formTarget",f.formTarget,f,null)):(Dt(r,a,"encType",f.encType,f,null),Dt(r,a,"method",f.method,f,null),Dt(r,a,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Oi(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=xn);break;case"onScroll":u!=null&&st("scroll",r);break;case"onScrollEnd":u!=null&&st("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Oi(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":st("beforetoggle",r),st("toggle",r),Ye(r,"popover",u);break;case"xlinkActuate":Rn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Rn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Rn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Rn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Rn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Rn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Rn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Rn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Rn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ye(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=um.get(o)||o,Ye(r,o,u))}}function Bp(r,a,o,u,f,m){switch(o){case"style":ph(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Wr(r,u):(typeof u=="number"||typeof u=="bigint")&&Wr(r,""+u);break;case"onScroll":u!=null&&st("scroll",r);break;case"onScrollEnd":u!=null&&st("scrollend",r);break;case"onClick":u!=null&&(r.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Un.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),m=r[_e]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(a,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Ye(r,o,u)}}}function Fn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",r),st("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Dt(r,a,m,_,o,null)}}f&&Dt(r,a,"srcSet",o.srcSet,o,null),u&&Dt(r,a,"src",o.src,o,null);return;case"input":st("invalid",r);var A=m=_=f=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":_=ne;break;case"checked":V=ne;break;case"defaultChecked":K=ne;break;case"value":m=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:Dt(r,a,u,ne,o,null)}}ao(r,m,A,V,K,_,f,!1);return;case"select":st("invalid",r),u=_=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":u=A;default:Dt(r,a,f,A,o,null)}a=m,o=_,r.multiple=!!u,a!=null?gt(r,!!u,a,!1):o!=null&&gt(r,!!u,o,!0);return;case"textarea":st("invalid",r),m=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Dt(r,a,_,A,o,null)}Ga(r,u,f,m);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Dt(r,a,V,u,o,null)}return;case"dialog":st("beforetoggle",r),st("toggle",r),st("cancel",r),st("close",r);break;case"iframe":case"object":st("load",r);break;case"video":case"audio":for(u=0;u<Wu.length;u++)st(Wu[u],r);break;case"image":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"embed":case"source":case"link":st("error",r),st("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Dt(r,a,K,u,o,null)}return;default:if(yu(a)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Bp(r,a,ne,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Dt(r,a,A,u,o,null))}function BC(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,V=null,K=null,ne=null;for(Z in o){var le=o[Z];if(o.hasOwnProperty(Z)&&le!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=le;default:u.hasOwnProperty(Z)||Dt(r,a,Z,null,u,le)}}for(var X in u){var Z=u[X];if(le=o[X],u.hasOwnProperty(X)&&(Z!=null||le!=null))switch(X){case"type":m=Z;break;case"name":f=Z;break;case"checked":K=Z;break;case"defaultChecked":ne=Z;break;case"value":_=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==le&&Dt(r,a,X,Z,u,le)}}Ha(r,_,A,V,K,ne,m,f);return;case"select":Z=_=A=X=null;for(m in o)if(V=o[m],o.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(m)||Dt(r,a,m,null,u,V)}for(f in u)if(m=u[f],V=o[f],u.hasOwnProperty(f)&&(m!=null||V!=null))switch(f){case"value":X=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==V&&Dt(r,a,f,m,u,V)}a=A,o=_,u=Z,X!=null?gt(r,!!o,X,!1):!!u!=!!o&&(a!=null?gt(r,!!o,a,!0):gt(r,!!o,o?[]:"",!1));return;case"textarea":Z=X=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Dt(r,a,A,null,u,f)}for(_ in u)if(f=u[_],m=o[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":X=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&Dt(r,a,_,f,u,m)}so(r,X,Z);return;case"option":for(var xe in o)if(X=o[xe],o.hasOwnProperty(xe)&&X!=null&&!u.hasOwnProperty(xe))switch(xe){case"selected":r.selected=!1;break;default:Dt(r,a,xe,null,u,X)}for(V in u)if(X=u[V],Z=o[V],u.hasOwnProperty(V)&&X!==Z&&(X!=null||Z!=null))switch(V){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Dt(r,a,V,X,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in o)X=o[ze],o.hasOwnProperty(ze)&&X!=null&&!u.hasOwnProperty(ze)&&Dt(r,a,ze,null,u,X);for(K in u)if(X=u[K],Z=o[K],u.hasOwnProperty(K)&&X!==Z&&(X!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:Dt(r,a,K,X,u,Z)}return;default:if(yu(a)){for(var Ot in o)X=o[Ot],o.hasOwnProperty(Ot)&&X!==void 0&&!u.hasOwnProperty(Ot)&&Bp(r,a,Ot,void 0,u,X);for(ne in u)X=u[ne],Z=o[ne],!u.hasOwnProperty(ne)||X===Z||X===void 0&&Z===void 0||Bp(r,a,ne,X,u,Z);return}}for(var F in o)X=o[F],o.hasOwnProperty(F)&&X!=null&&!u.hasOwnProperty(F)&&Dt(r,a,F,null,u,X);for(le in u)X=u[le],Z=o[le],!u.hasOwnProperty(le)||X===Z||X==null&&Z==null||Dt(r,a,le,X,u,Z)}function xb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&xb(_)){for(_=0,A=f.responseEnd,u+=1;u<o.length;u++){var V=o[u],K=V.startTime;if(K>A)break;var ne=V.transferSize,le=V.initiatorType;ne&&xb(le)&&(V=V.responseEnd,_+=ne*(V<A?1:(A-K)/(V-K)))}if(--u,a+=8*(m+_)/(f.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Fp=null,qp=null;function Tf(r){return r.nodeType===9?r:r.ownerDocument}function Db(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Hp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gp=null;function qC(){var r=window.event;return r&&r.type==="popstate"?r===Gp?!1:(Gp=r,!0):(Gp=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,GC=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(r){return Mb.resolve(null).then(r).catch(QC)}:Nb;function QC(r){setTimeout(function(){throw r})}function gs(r){return r==="head"}function Pb(r,a){var o=a,u=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(f),Ml(a);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Zu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Zu(o);for(var m=o.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[Qe]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&Zu(r.ownerDocument.body);o=f}while(o);Ml(a)}function kb(r,a){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function Qp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Qp(o),_t(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function KC(r,a,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Qe])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=ii(r.nextSibling),r===null)break}return null}function $C(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ii(r.nextSibling),r===null))return null;return r}function Vb(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=ii(r.nextSibling),r===null))return null;return r}function Kp(r){return r.data==="$?"||r.data==="$~"}function $p(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function YC(r,a){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||o.readyState!=="loading")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ii(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Yp=null;function Lb(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(a===0)return ii(r.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}r=r.nextSibling}return null}function Ub(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return r;a--}else o!=="/$"&&o!=="/&"||a++}r=r.previousSibling}return null}function zb(r,a,o){switch(a=Tf(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Zu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);_t(r)}var ai=new Map,jb=new Set;function wf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Sa=oe.d;oe.d={f:XC,r:WC,D:JC,C:ZC,L:eI,m:tI,X:rI,S:nI,M:iI};function XC(){var r=Sa.f(),a=mf();return r||a}function WC(r){var a=Ht(r);a!==null&&a.tag===5&&a.type==="form"?r0(a):Sa.r(r)}var Dl=typeof document>"u"?null:document;function Bb(r,a,o){var u=Dl;if(u&&typeof a=="string"&&a){var f=rn(a);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),jb.has(f)||(jb.add(f),r={rel:r,crossOrigin:o,href:a},u.querySelector(f)===null&&(a=u.createElement("link"),Fn(a,"link",r),St(a),u.head.appendChild(a)))}}function JC(r){Sa.D(r),Bb("dns-prefetch",r,null)}function ZC(r,a){Sa.C(r,a),Bb("preconnect",r,a)}function eI(r,a,o){Sa.L(r,a,o);var u=Dl;if(u&&r&&a){var f='link[rel="preload"][as="'+rn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+rn(o.imageSizes)+'"]')):f+='[href="'+rn(r)+'"]';var m=f;switch(a){case"style":m=Ol(r);break;case"script":m=Nl(r)}ai.has(m)||(r=b({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),ai.set(m,r),u.querySelector(f)!==null||a==="style"&&u.querySelector(ec(m))||a==="script"&&u.querySelector(tc(m))||(a=u.createElement("link"),Fn(a,"link",r),St(a),u.head.appendChild(a)))}}function tI(r,a){Sa.m(r,a);var o=Dl;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Nl(r)}if(!ai.has(m)&&(r=b({rel:"modulepreload",href:r},a),ai.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(tc(m)))return}u=o.createElement("link"),Fn(u,"link",r),St(u),o.head.appendChild(u)}}}function nI(r,a,o){Sa.S(r,a,o);var u=Dl;if(u&&r){var f=Jt(u).hoistableStyles,m=Ol(r);a=a||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=u.querySelector(ec(m)))A.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":a},o),(o=ai.get(m))&&Xp(r,o);var V=_=u.createElement("link");St(V),Fn(V,"link",r),V._p=new Promise(function(K,ne){V.onload=K,V.onerror=ne}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Sf(_,a,u)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function rI(r,a){Sa.X(r,a);var o=Dl;if(o&&r){var u=Jt(o).hoistableScripts,f=Nl(r),m=u.get(f);m||(m=o.querySelector(tc(f)),m||(r=b({src:r,async:!0},a),(a=ai.get(f))&&Wp(r,a),m=o.createElement("script"),St(m),Fn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function iI(r,a){Sa.M(r,a);var o=Dl;if(o&&r){var u=Jt(o).hoistableScripts,f=Nl(r),m=u.get(f);m||(m=o.querySelector(tc(f)),m||(r=b({src:r,async:!0,type:"module"},a),(a=ai.get(f))&&Wp(r,a),m=o.createElement("script"),St(m),Fn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Fb(r,a,o,u){var f=(f=Me.current)?wf(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Ol(o.href),o=Jt(f).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ol(o.href);var m=Jt(f).hoistableStyles,_=m.get(r);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,_),(m=f.querySelector(ec(r)))&&!m._p&&(_.instance=m,_.state.loading=5),ai.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ai.set(r,o),m||aI(f,r,o,_.state))),a&&u===null)throw Error(i(528,""));return _}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Nl(o),o=Jt(f).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ol(r){return'href="'+rn(r)+'"'}function ec(r){return'link[rel="stylesheet"]['+r+"]"}function qb(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function aI(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Fn(a,"link",o),St(a),r.head.appendChild(a))}function Nl(r){return'[src="'+rn(r)+'"]'}function tc(r){return"script[async]"+r}function Hb(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+rn(o.href)+'"]');if(u)return a.instance=u,St(u),u;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),St(u),Fn(u,"style",f),Sf(u,o.precedence,r),a.instance=u;case"stylesheet":f=Ol(o.href);var m=r.querySelector(ec(f));if(m)return a.state.loading|=4,a.instance=m,St(m),m;u=qb(o),(f=ai.get(f))&&Xp(u,f),m=(r.ownerDocument||r).createElement("link"),St(m);var _=m;return _._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),Fn(m,"link",u),a.state.loading|=4,Sf(m,o.precedence,r),a.instance=m;case"script":return m=Nl(o.src),(f=r.querySelector(tc(m)))?(a.instance=f,St(f),f):(u=o,(f=ai.get(m))&&(u=b({},o),Wp(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),St(f),Fn(f,"link",u),r.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Sf(u,o.precedence,r));return a.instance}function Sf(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var A=u[_];if(A.dataset.precedence===a)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function Xp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Wp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Af=null;function Gb(r,a,o){if(Af===null){var u=new Map,f=Af=new Map;f.set(o,u)}else f=Af,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[Qe]||m[Ee]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(a)||"";_=r+_;var A=u.get(_);A?A.push(m):u.set(_,[m])}}return u}function Qb(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function sI(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Kb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function oI(r,a,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Ol(u.href),m=a.querySelector(ec(f));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Rf.bind(r),a.then(r,r)),o.state.loading|=4,o.instance=m,St(m);return}m=a.ownerDocument||a,u=qb(u),(f=ai.get(f))&&Xp(u,f),m=m.createElement("link"),St(m);var _=m;_._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),Fn(m,"link",u),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Rf.bind(r),a.addEventListener("load",o),a.addEventListener("error",o))}}var Jp=0;function lI(r,a){return r.stylesheets&&r.count===0&&If(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&If(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+a);0<r.imgBytes&&Jp===0&&(Jp=62500*FC());var f=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&If(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Jp?50:800)+a);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Rf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)If(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Cf=null;function If(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Cf=new Map,a.forEach(uI,r),Cf=null,Rf.call(r))}function uI(r,a){if(!(a.state.loading&4)){var o=Cf.get(r);if(o)var u=o.get(null);else{o=new Map,Cf.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=a.instance,_=f.getAttribute("data-precedence"),m=o.get(_)||u,m===u&&o.set(null,f),o.set(_,f),this.count++,u=Rf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),a.state.loading|=4}}var nc={$$typeof:J,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function cI(r,a,o,u,f,m,_,A,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lt(0),this.hiddenUpdates=Lt(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function $b(r,a,o,u,f,m,_,A,V,K,ne,le){return r=new cI(r,a,o,_,V,K,ne,le,A),a=1,m===!0&&(a|=24),m=Lr(3,null,null,a),r.current=m,m.stateNode=r,a=Om(),a.refCount++,r.pooledCache=a,a.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:a},km(m),r}function Yb(r){return r?(r=ul,r):ul}function Xb(r,a,o,u,f,m){f=Yb(f),u.context===null?u.context=f:u.pendingContext=f,u=as(a),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=ss(r,u,a),o!==null&&(Sr(o,r,a),Pu(o,r,a))}function Wb(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Zp(r,a){Wb(r,a),(r=r.alternate)&&Wb(r,a)}function Jb(r){if(r.tag===13||r.tag===31){var a=go(r,67108864);a!==null&&Sr(a,r,67108864),Zp(r,67108864)}}function Zb(r){if(r.tag===13||r.tag===31){var a=Fr();a=j(a);var o=go(r,a);o!==null&&Sr(o,r,a),Zp(r,a)}}var xf=!0;function hI(r,a,o,u){var f=H.T;H.T=null;var m=oe.p;try{oe.p=2,eg(r,a,o,u)}finally{oe.p=m,H.T=f}}function fI(r,a,o,u){var f=H.T;H.T=null;var m=oe.p;try{oe.p=8,eg(r,a,o,u)}finally{oe.p=m,H.T=f}}function eg(r,a,o,u){if(xf){var f=tg(u);if(f===null)jp(r,a,u,Df,o),tE(r,u);else if(mI(f,r,a,o,u))u.stopPropagation();else if(tE(r,u),a&4&&-1<dI.indexOf(r)){for(;f!==null;){var m=Ht(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Wt(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var V=1<<31-Ft(_);A.entanglements[1]|=V,_&=~V}Li(m),(bt&6)===0&&(ff=hn()+500,Xu(0))}}break;case 31:case 13:A=go(m,2),A!==null&&Sr(A,m,2),mf(),Zp(m,2)}if(m=tg(u),m===null&&jp(r,a,u,Df,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else jp(r,a,u,null,o)}}function tg(r){return r=tl(r),ng(r)}var Df=null;function ng(r){if(Df=null,r=It(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===31){if(r=d(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Df=r,null}function eE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gr()){case nt:return 2;case Ct:return 8;case ar:case Qn:return 32;case yn:return 268435456;default:return 32}default:return 32}}var rg=!1,ys=null,vs=null,_s=null,rc=new Map,ic=new Map,bs=[],dI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(r,a){switch(r){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":rc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(a.pointerId)}}function ac(r,a,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},a!==null&&(a=Ht(a),a!==null&&Jb(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),r)}function mI(r,a,o,u,f){switch(a){case"focusin":return ys=ac(ys,r,a,o,u,f),!0;case"dragenter":return vs=ac(vs,r,a,o,u,f),!0;case"mouseover":return _s=ac(_s,r,a,o,u,f),!0;case"pointerover":var m=f.pointerId;return rc.set(m,ac(rc.get(m)||null,r,a,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,ic.set(m,ac(ic.get(m)||null,r,a,o,u,f)),!0}return!1}function nE(r){var a=It(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,ge(r.priority,function(){Zb(o)});return}}else if(a===31){if(a=d(o),a!==null){r.blockedOn=a,ge(r.priority,function(){Zb(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Of(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=tg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);el=u,o.target.dispatchEvent(u),el=null}else return a=Ht(o),a!==null&&Jb(a),r.blockedOn=o,!1;a.shift()}return!0}function rE(r,a,o){Of(r)&&o.delete(a)}function pI(){rg=!1,ys!==null&&Of(ys)&&(ys=null),vs!==null&&Of(vs)&&(vs=null),_s!==null&&Of(_s)&&(_s=null),rc.forEach(rE),ic.forEach(rE)}function Nf(r,a){r.blockedOn===a&&(r.blockedOn=null,rg||(rg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pI)))}var Mf=null;function iE(r){Mf!==r&&(Mf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mf===r&&(Mf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],f=r[a+2];if(typeof u!="function"){if(ng(u||o)===null)continue;break}var m=Ht(o);m!==null&&(r.splice(a,3),a-=3,tp(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ml(r){function a(V){return Nf(V,r)}ys!==null&&Nf(ys,r),vs!==null&&Nf(vs,r),_s!==null&&Nf(_s,r),rc.forEach(a),ic.forEach(a);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)nE(o),o.blockedOn===null&&bs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],_=f[_e]||null;if(typeof m=="function")_||iE(o);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[_e]||null)A=_.formAction;else if(ng(f)!==null)continue}else A=_.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),iE(o)}}}function aE(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function ig(r){this._internalRoot=r}Pf.prototype.render=ig.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=Fr();Xb(o,u,r,a,null,null)},Pf.prototype.unmount=ig.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Xb(r.current,2,null,r,null,null),mf(),a[be]=null}};function Pf(r){this._internalRoot=r}Pf.prototype.unstable_scheduleHydration=function(r){if(r){var a=fe();r={blockedOn:null,target:r,priority:a};for(var o=0;o<bs.length&&a!==0&&a<bs[o].priority;o++);bs.splice(o,0,r),o===0&&nE(r)}};var sE=e.version;if(sE!=="19.2.4")throw Error(i(527,sE,"19.2.4"));oe.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(a),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var gI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{Kn=kf.inject(gI),jt=kf}catch{}}return oc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",f=d0,m=m0,_=p0;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=$b(r,1,!1,null,null,o,u,null,f,m,_,aE),r[be]=a.current,zp(r),new ig(a)},oc.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,f="",m=d0,_=m0,A=p0,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),a=$b(r,1,!0,a,o??null,u,f,V,m,_,A,aE),a.context=Yb(null),o=a.current,u=Fr(),u=j(u),f=as(u),f.callback=null,ss(o,f,u),o=u,a.current.lanes=o,qt(a,o),Li(a),r[be]=a.current,zp(r),new Pf(a)},oc.version="19.2.4",oc}var yE;function CI(){if(yE)return lg.exports;yE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lg.exports=RI(),lg.exports}var II=CI(),Nd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xI={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},Ms,vy,Yw,DI=(Yw=class{constructor(){dt(this,Ms,xI);dt(this,vy,!1)}setTimeoutProvider(n){qe(this,Ms,n)}setTimeout(n,e){return re(this,Ms).setTimeout(n,e)}clearTimeout(n){re(this,Ms).clearTimeout(n)}setInterval(n,e){return re(this,Ms).setInterval(n,e)}clearInterval(n){re(this,Ms).clearInterval(n)}},Ms=new WeakMap,vy=new WeakMap,Yw),Pg=new DI;function OI(n){setTimeout(n,0)}var Md=typeof window>"u"||"Deno"in globalThis;function vi(){}function NI(n,e){return typeof n=="function"?n(e):n}function MI(n){return typeof n=="number"&&n>=0&&n!==1/0}function PI(n,e){return Math.max(n+(e||0)-Date.now(),0)}function kg(n,e){return typeof n=="function"?n(e):n}function kI(n,e){return typeof n=="function"?n(e):n}function vE(n,e){const{type:t="all",exact:i,fetchStatus:s,predicate:l,queryKey:c,stale:d}=n;if(c){if(i){if(e.queryHash!==by(c,e.options))return!1}else if(!Oc(e.queryKey,c))return!1}if(t!=="all"){const p=e.isActive();if(t==="active"&&!p||t==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||s&&s!==e.state.fetchStatus||l&&!l(e))}function _E(n,e){const{exact:t,status:i,predicate:s,mutationKey:l}=n;if(l){if(!e.options.mutationKey)return!1;if(t){if(Dc(e.options.mutationKey)!==Dc(l))return!1}else if(!Oc(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function by(n,e){return((e==null?void 0:e.queryKeyHashFn)||Dc)(n)}function Dc(n){return JSON.stringify(n,(e,t)=>Vg(t)?Object.keys(t).sort().reduce((i,s)=>(i[s]=t[s],i),{}):t)}function Oc(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Oc(n[t],e[t])):!1}var VI=Object.prototype.hasOwnProperty;function s1(n,e,t=0){if(n===e)return n;if(t>500)return e;const i=bE(n)&&bE(e);if(!i&&!(Vg(n)&&Vg(e)))return e;const l=(i?n:Object.keys(n)).length,c=i?e:Object.keys(e),d=c.length,p=i?new Array(d):{};let g=0;for(let v=0;v<d;v++){const b=i?v:c[v],T=n[b],S=e[b];if(T===S){p[b]=T,(i?v<l:VI.call(n,b))&&g++;continue}if(T===null||S===null||typeof T!="object"||typeof S!="object"){p[b]=S;continue}const k=s1(T,S,t+1);p[b]=k,k===T&&g++}return l===d&&g===l?n:p}function o6(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function bE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Vg(n){if(!EE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!EE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function EE(n){return Object.prototype.toString.call(n)==="[object Object]"}function LI(n){return new Promise(e=>{Pg.setTimeout(e,n)})}function UI(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?s1(n,e):e}function zI(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function jI(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var Ey=Symbol();function o1(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Ey?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function l6(n,e){return typeof n=="function"?n(...e):!!n}function BI(n,e,t){let i=!1,s;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(s??(s=e()),i||(i=!0,s.aborted?t():s.addEventListener("abort",t,{once:!0})),s)}),n}var Mo,Ps,Ql,Xw,FI=(Xw=class extends Nd{constructor(){super();dt(this,Mo);dt(this,Ps);dt(this,Ql);qe(this,Ql,e=>{if(!Md&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){re(this,Ps)||this.setEventListener(re(this,Ql))}onUnsubscribe(){var e;this.hasListeners()||((e=re(this,Ps))==null||e.call(this),qe(this,Ps,void 0))}setEventListener(e){var t;qe(this,Ql,e),(t=re(this,Ps))==null||t.call(this),qe(this,Ps,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){re(this,Mo)!==e&&(qe(this,Mo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof re(this,Mo)=="boolean"?re(this,Mo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mo=new WeakMap,Ps=new WeakMap,Ql=new WeakMap,Xw),l1=new FI;function qI(){let n,e;const t=new Promise((s,l)=>{n=s,e=l});t.status="pending",t.catch(()=>{});function i(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},t.reject=s=>{i({status:"rejected",reason:s}),e(s)},t}var HI=OI;function GI(){let n=[],e=0,t=d=>{d()},i=d=>{d()},s=HI;const l=d=>{e?n.push(d):s(()=>{t(d)})},c=()=>{const d=n;n=[],d.length&&s(()=>{i(()=>{d.forEach(p=>{t(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||c()}return p},batchCalls:d=>(...p)=>{l(()=>{d(...p)})},schedule:l,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{s=d}}}var fr=GI(),Kl,ks,$l,Ww,QI=(Ww=class extends Nd{constructor(){super();dt(this,Kl,!0);dt(this,ks);dt(this,$l);qe(this,$l,e=>{if(!Md&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){re(this,ks)||this.setEventListener(re(this,$l))}onUnsubscribe(){var e;this.hasListeners()||((e=re(this,ks))==null||e.call(this),qe(this,ks,void 0))}setEventListener(e){var t;qe(this,$l,e),(t=re(this,ks))==null||t.call(this),qe(this,ks,e(this.setOnline.bind(this)))}setOnline(e){re(this,Kl)!==e&&(qe(this,Kl,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return re(this,Kl)}},Kl=new WeakMap,ks=new WeakMap,$l=new WeakMap,Ww),cd=new QI;function KI(n){return Math.min(1e3*2**n,3e4)}function u1(n){return(n??"online")==="online"?cd.isOnline():!0}var Lg=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function c1(n){let e=!1,t=0,i;const s=qI(),l=()=>s.status!=="pending",c=M=>{var D;if(!l()){const $=new Lg(M);T($),(D=n.onCancel)==null||D.call(n,$)}},d=()=>{e=!0},p=()=>{e=!1},g=()=>l1.isFocused()&&(n.networkMode==="always"||cd.isOnline())&&n.canRun(),v=()=>u1(n.networkMode)&&n.canRun(),b=M=>{l()||(i==null||i(),s.resolve(M))},T=M=>{l()||(i==null||i(),s.reject(M))},S=()=>new Promise(M=>{var D;i=$=>{(l()||g())&&M($)},(D=n.onPause)==null||D.call(n)}).then(()=>{var M;i=void 0,l()||(M=n.onContinue)==null||M.call(n)}),k=()=>{if(l())return;let M;const D=t===0?n.initialPromise:void 0;try{M=D??n.fn()}catch($){M=Promise.reject($)}Promise.resolve(M).then(b).catch($=>{var pe;if(l())return;const W=n.retry??(Md?0:3),J=n.retryDelay??KI,ce=typeof J=="function"?J(t,$):J,se=W===!0||typeof W=="number"&&t<W||typeof W=="function"&&W(t,$);if(e||!se){T($);return}t++,(pe=n.onFail)==null||pe.call(n,t,$),LI(ce).then(()=>g()?void 0:S()).then(()=>{e?T($):k()})})};return{promise:s,status:()=>s.status,cancel:c,continue:()=>(i==null||i(),s),cancelRetry:d,continueRetry:p,canStart:v,start:()=>(v()?k():S().then(k),s)}}var Po,Jw,h1=(Jw=class{constructor(){dt(this,Po)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MI(this.gcTime)&&qe(this,Po,Pg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Md?1/0:300*1e3))}clearGcTimeout(){re(this,Po)&&(Pg.clearTimeout(re(this,Po)),qe(this,Po,void 0))}},Po=new WeakMap,Jw),ko,Yl,si,Vo,Mn,Gc,Lo,_i,Ra,Zw,$I=(Zw=class extends h1{constructor(t){super();dt(this,_i);dt(this,ko);dt(this,Yl);dt(this,si);dt(this,Vo);dt(this,Mn);dt(this,Gc);dt(this,Lo);qe(this,Lo,!1),qe(this,Gc,t.defaultOptions),this.setOptions(t.options),this.observers=[],qe(this,Vo,t.client),qe(this,si,re(this,Vo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,qe(this,ko,wE(this.options)),this.state=t.state??re(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=re(this,Mn))==null?void 0:t.promise}setOptions(t){if(this.options={...re(this,Gc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const i=wE(this.options);i.data!==void 0&&(this.setState(TE(i.data,i.dataUpdatedAt)),qe(this,ko,i))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,si).remove(this)}setData(t,i){const s=UI(this.state.data,t,this.options);return Xn(this,_i,Ra).call(this,{data:s,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),s}setState(t,i){Xn(this,_i,Ra).call(this,{type:"setState",state:t,setStateOptions:i})}cancel(t){var s,l;const i=(s=re(this,Mn))==null?void 0:s.promise;return(l=re(this,Mn))==null||l.cancel(t),i?i.then(vi).catch(vi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,ko))}isActive(){return this.observers.some(t=>kI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ey||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>kg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!PI(this.state.dataUpdatedAt,t)}onFocus(){var i;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(i=re(this,Mn))==null||i.continue()}onOnline(){var i;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(i=re(this,Mn))==null||i.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),re(this,si).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(re(this,Mn)&&(re(this,Lo)?re(this,Mn).cancel({revert:!0}):re(this,Mn).cancelRetry()),this.scheduleGc()),re(this,si).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xn(this,_i,Ra).call(this,{type:"invalidate"})}async fetch(t,i){var g,v,b,T,S,k,M,D,$,W,J,ce;if(this.state.fetchStatus!=="idle"&&((g=re(this,Mn))==null?void 0:g.status())!=="rejected"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(re(this,Mn))return re(this,Mn).continueRetry(),re(this,Mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const se=this.observers.find(pe=>pe.options.queryFn);se&&this.setOptions(se.options)}const s=new AbortController,l=se=>{Object.defineProperty(se,"signal",{enumerable:!0,get:()=>(qe(this,Lo,!0),s.signal)})},c=()=>{const se=o1(this.options,i),x=(()=>{const w={client:re(this,Vo),queryKey:this.queryKey,meta:this.meta};return l(w),w})();return qe(this,Lo,!1),this.options.persister?this.options.persister(se,x,this):se(x)},p=(()=>{const se={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:re(this,Vo),state:this.state,fetchFn:c};return l(se),se})();(v=this.options.behavior)==null||v.onFetch(p,this),qe(this,Yl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=p.fetchOptions)==null?void 0:b.meta))&&Xn(this,_i,Ra).call(this,{type:"fetch",meta:(T=p.fetchOptions)==null?void 0:T.meta}),qe(this,Mn,c1({initialPromise:i==null?void 0:i.initialPromise,fn:p.fetchFn,onCancel:se=>{se instanceof Lg&&se.revert&&this.setState({...re(this,Yl),fetchStatus:"idle"}),s.abort()},onFail:(se,pe)=>{Xn(this,_i,Ra).call(this,{type:"failed",failureCount:se,error:pe})},onPause:()=>{Xn(this,_i,Ra).call(this,{type:"pause"})},onContinue:()=>{Xn(this,_i,Ra).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const se=await re(this,Mn).start();if(se===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(se),(k=(S=re(this,si).config).onSuccess)==null||k.call(S,se,this),(D=(M=re(this,si).config).onSettled)==null||D.call(M,se,this.state.error,this),se}catch(se){if(se instanceof Lg){if(se.silent)return re(this,Mn).promise;if(se.revert){if(this.state.data===void 0)throw se;return this.state.data}}throw Xn(this,_i,Ra).call(this,{type:"error",error:se}),(W=($=re(this,si).config).onError)==null||W.call($,se,this),(ce=(J=re(this,si).config).onSettled)==null||ce.call(J,this.state.data,se,this),se}finally{this.scheduleGc()}}},ko=new WeakMap,Yl=new WeakMap,si=new WeakMap,Vo=new WeakMap,Mn=new WeakMap,Gc=new WeakMap,Lo=new WeakMap,_i=new WeakSet,Ra=function(t){const i=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...YI(s.data,this.options),fetchMeta:t.meta??null};case"success":const l={...s,...TE(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return qe(this,Yl,t.manual?l:void 0),l;case"error":const c=t.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=i(this.state),fr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),re(this,si).notify({query:this,type:"updated",action:t})})},Zw);function YI(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u1(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function TE(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function wE(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function SE(n){return{onFetch:(e,t)=>{var v,b,T,S,k;const i=e.options,s=(T=(b=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:b.fetchMore)==null?void 0:T.direction,l=((S=e.state.data)==null?void 0:S.pages)||[],c=((k=e.state.data)==null?void 0:k.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let M=!1;const D=J=>{BI(J,()=>e.signal,()=>M=!0)},$=o1(e.options,e.fetchOptions),W=async(J,ce,se)=>{if(M)return Promise.reject();if(ce==null&&J.pages.length)return Promise.resolve(J);const x=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:ce,direction:se?"backward":"forward",meta:e.options.meta};return D(U),U})(),w=await $(x),{maxPages:C}=e.options,I=se?jI:zI;return{pages:I(J.pages,w,C),pageParams:I(J.pageParams,ce,C)}};if(s&&l.length){const J=s==="backward",ce=J?XI:AE,se={pages:l,pageParams:c},pe=ce(i,se);d=await W(se,pe,J)}else{const J=n??l.length;do{const ce=p===0?c[0]??i.initialPageParam:AE(i,d);if(p>0&&ce==null)break;d=await W(d,ce),p++}while(p<J)}return d};e.options.persister?e.fetchFn=()=>{var M,D;return(D=(M=e.options).persister)==null?void 0:D.call(M,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=g}}}function AE(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function XI(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var Qc,zi,Zn,Uo,ji,As,e1,WI=(e1=class extends h1{constructor(t){super();dt(this,ji);dt(this,Qc);dt(this,zi);dt(this,Zn);dt(this,Uo);qe(this,Qc,t.client),this.mutationId=t.mutationId,qe(this,Zn,t.mutationCache),qe(this,zi,[]),this.state=t.state||JI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){re(this,zi).includes(t)||(re(this,zi).push(t),this.clearGcTimeout(),re(this,Zn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){qe(this,zi,re(this,zi).filter(i=>i!==t)),this.scheduleGc(),re(this,Zn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){re(this,zi).length||(this.state.status==="pending"?this.scheduleGc():re(this,Zn).remove(this))}continue(){var t;return((t=re(this,Uo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var d,p,g,v,b,T,S,k,M,D,$,W,J,ce,se,pe,x,w;const i=()=>{Xn(this,ji,As).call(this,{type:"continue"})},s={client:re(this,Qc),meta:this.options.meta,mutationKey:this.options.mutationKey};qe(this,Uo,c1({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{Xn(this,ji,As).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{Xn(this,ji,As).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,Zn).canRun(this)}));const l=this.state.status==="pending",c=!re(this,Uo).canStart();try{if(l)i();else{Xn(this,ji,As).call(this,{type:"pending",variables:t,isPaused:c}),re(this,Zn).config.onMutate&&await re(this,Zn).config.onMutate(t,this,s);const I=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,t,s));I!==this.state.context&&Xn(this,ji,As).call(this,{type:"pending",context:I,variables:t,isPaused:c})}const C=await re(this,Uo).start();return await((v=(g=re(this,Zn).config).onSuccess)==null?void 0:v.call(g,C,t,this.state.context,this,s)),await((T=(b=this.options).onSuccess)==null?void 0:T.call(b,C,t,this.state.context,s)),await((k=(S=re(this,Zn).config).onSettled)==null?void 0:k.call(S,C,null,this.state.variables,this.state.context,this,s)),await((D=(M=this.options).onSettled)==null?void 0:D.call(M,C,null,t,this.state.context,s)),Xn(this,ji,As).call(this,{type:"success",data:C}),C}catch(C){try{await((W=($=re(this,Zn).config).onError)==null?void 0:W.call($,C,t,this.state.context,this,s))}catch(I){Promise.reject(I)}try{await((ce=(J=this.options).onError)==null?void 0:ce.call(J,C,t,this.state.context,s))}catch(I){Promise.reject(I)}try{await((pe=(se=re(this,Zn).config).onSettled)==null?void 0:pe.call(se,void 0,C,this.state.variables,this.state.context,this,s))}catch(I){Promise.reject(I)}try{await((w=(x=this.options).onSettled)==null?void 0:w.call(x,void 0,C,t,this.state.context,s))}catch(I){Promise.reject(I)}throw Xn(this,ji,As).call(this,{type:"error",error:C}),C}finally{re(this,Zn).runNext(this)}}},Qc=new WeakMap,zi=new WeakMap,Zn=new WeakMap,Uo=new WeakMap,ji=new WeakSet,As=function(t){const i=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=i(this.state),fr.batch(()=>{re(this,zi).forEach(s=>{s.onMutationUpdate(t)}),re(this,Zn).notify({mutation:this,type:"updated",action:t})})},e1);function JI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ia,bi,Kc,t1,ZI=(t1=class extends Nd{constructor(e={}){super();dt(this,Ia);dt(this,bi);dt(this,Kc);this.config=e,qe(this,Ia,new Set),qe(this,bi,new Map),qe(this,Kc,0)}build(e,t,i){const s=new WI({client:e,mutationCache:this,mutationId:++Vf(this,Kc)._,options:e.defaultMutationOptions(t),state:i});return this.add(s),s}add(e){re(this,Ia).add(e);const t=Lf(e);if(typeof t=="string"){const i=re(this,bi).get(t);i?i.push(e):re(this,bi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(re(this,Ia).delete(e)){const t=Lf(e);if(typeof t=="string"){const i=re(this,bi).get(t);if(i)if(i.length>1){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}else i[0]===e&&re(this,bi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Lf(e);if(typeof t=="string"){const i=re(this,bi).get(t),s=i==null?void 0:i.find(l=>l.state.status==="pending");return!s||s===e}else return!0}runNext(e){var i;const t=Lf(e);if(typeof t=="string"){const s=(i=re(this,bi).get(t))==null?void 0:i.find(l=>l!==e&&l.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){fr.batch(()=>{re(this,Ia).forEach(e=>{this.notify({type:"removed",mutation:e})}),re(this,Ia).clear(),re(this,bi).clear()})}getAll(){return Array.from(re(this,Ia))}find(e){const t={exact:!0,...e};return this.getAll().find(i=>_E(t,i))}findAll(e={}){return this.getAll().filter(t=>_E(e,t))}notify(e){fr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return fr.batch(()=>Promise.all(e.map(t=>t.continue().catch(vi))))}},Ia=new WeakMap,bi=new WeakMap,Kc=new WeakMap,t1);function Lf(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Bi,n1,e2=(n1=class extends Nd{constructor(e={}){super();dt(this,Bi);this.config=e,qe(this,Bi,new Map)}build(e,t,i){const s=t.queryKey,l=t.queryHash??by(s,t);let c=this.get(l);return c||(c=new $I({client:e,queryKey:s,queryHash:l,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(c)),c}add(e){re(this,Bi).has(e.queryHash)||(re(this,Bi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=re(this,Bi).get(e.queryHash);t&&(e.destroy(),t===e&&re(this,Bi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return re(this,Bi).get(e)}getAll(){return[...re(this,Bi).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>vE(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>vE(e,i)):t}notify(e){fr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){fr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){fr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bi=new WeakMap,n1),on,Vs,Ls,Xl,Wl,Us,Jl,Zl,r1,t2=(r1=class{constructor(n={}){dt(this,on);dt(this,Vs);dt(this,Ls);dt(this,Xl);dt(this,Wl);dt(this,Us);dt(this,Jl);dt(this,Zl);qe(this,on,n.queryCache||new e2),qe(this,Vs,n.mutationCache||new ZI),qe(this,Ls,n.defaultOptions||{}),qe(this,Xl,new Map),qe(this,Wl,new Map),qe(this,Us,0)}mount(){Vf(this,Us)._++,re(this,Us)===1&&(qe(this,Jl,l1.subscribe(async n=>{n&&(await this.resumePausedMutations(),re(this,on).onFocus())})),qe(this,Zl,cd.subscribe(async n=>{n&&(await this.resumePausedMutations(),re(this,on).onOnline())})))}unmount(){var n,e;Vf(this,Us)._--,re(this,Us)===0&&((n=re(this,Jl))==null||n.call(this),qe(this,Jl,void 0),(e=re(this,Zl))==null||e.call(this),qe(this,Zl,void 0))}isFetching(n){return re(this,on).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return re(this,Vs).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=re(this,on).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=re(this,on).build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(kg(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return re(this,on).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),s=re(this,on).get(i.queryHash),l=s==null?void 0:s.state.data,c=NI(e,l);if(c!==void 0)return re(this,on).build(this,i).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return fr.batch(()=>re(this,on).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=re(this,on).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=re(this,on);fr.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=re(this,on);return fr.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=fr.batch(()=>re(this,on).findAll(n).map(s=>s.cancel(t)));return Promise.all(i).then(vi).catch(vi)}invalidateQueries(n,e={}){return fr.batch(()=>(re(this,on).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=fr.batch(()=>re(this,on).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let l=s.fetch(void 0,t);return t.throwOnError||(l=l.catch(vi)),s.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(vi)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=re(this,on).build(this,e);return t.isStaleByTime(kg(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(vi).catch(vi)}fetchInfiniteQuery(n){return n.behavior=SE(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(vi).catch(vi)}ensureInfiniteQueryData(n){return n.behavior=SE(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return cd.isOnline()?re(this,Vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,on)}getMutationCache(){return re(this,Vs)}getDefaultOptions(){return re(this,Ls)}setDefaultOptions(n){qe(this,Ls,n)}setQueryDefaults(n,e){re(this,Xl).set(Dc(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...re(this,Xl).values()],t={};return e.forEach(i=>{Oc(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){re(this,Wl).set(Dc(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...re(this,Wl).values()],t={};return e.forEach(i=>{Oc(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...re(this,Ls).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=by(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ey&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...re(this,Ls).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){re(this,on).clear(),re(this,Vs).clear()}},on=new WeakMap,Vs=new WeakMap,Ls=new WeakMap,Xl=new WeakMap,Wl=new WeakMap,Us=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,r1),f1=B.createContext(void 0),h6=n=>{const e=B.useContext(f1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},n2=({client:n,children:e})=>(B.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),he.jsx(f1.Provider,{value:n,children:e}));const r2="modulepreload",i2=function(n){return"/message-hub/"+n},RE={},Ai=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=c(t.map(g=>{if(g=i2(g),g in RE)return;RE[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":r2,v||(T.as="script"),T.crossOrigin="",T.href=g,p&&T.setAttribute("nonce",p),document.head.appendChild(T),v)return new Promise((S,k)=>{T.addEventListener("load",S),T.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};var a2=function(){return null},d1=a1();const s2=i1(d1);var o2=n=>{switch(n){case"success":return c2;case"info":return f2;case"warning":return h2;case"error":return d2;default:return null}},l2=Array(12).fill(0),u2=({visible:n,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ve.createElement("div",{className:"sonner-spinner"},l2.map((t,i)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),c2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),h2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),f2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),d2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),m2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),p2=()=>{let[n,e]=ve.useState(document.hidden);return ve.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Ug=1,g2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:i,...s}=e,l=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ug++,c=this.toasts.find(p=>p.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...e,id:l,title:i}),{...p,...e,id:l,dismissible:d,title:i}):p):this.addToast({title:i,...s,dismissible:d,id:l}),l},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),l=i!==void 0,c,d=s.then(async g=>{if(c=["resolve",g],ve.isValidElement(g))l=!1,this.create({id:i,type:"default",message:g});else if(v2(g)&&!g.ok){l=!1;let v=typeof t.error=="function"?await t.error(`HTTP error! status: ${g.status}`):t.error,b=typeof t.description=="function"?await t.description(`HTTP error! status: ${g.status}`):t.description;this.create({id:i,type:"error",message:v,description:b})}else if(t.success!==void 0){l=!1;let v=typeof t.success=="function"?await t.success(g):t.success,b=typeof t.description=="function"?await t.description(g):t.description;this.create({id:i,type:"success",message:v,description:b})}}).catch(async g=>{if(c=["reject",g],t.error!==void 0){l=!1;let v=typeof t.error=="function"?await t.error(g):t.error,b=typeof t.description=="function"?await t.description(g):t.description;this.create({id:i,type:"error",message:v,description:b})}}).finally(()=>{var g;l&&(this.dismiss(i),i=void 0),(g=t.finally)==null||g.call(t)}),p=()=>new Promise((g,v)=>d.then(()=>c[0]==="reject"?v(c[1]):g(c[1])).catch(v));return typeof i!="string"&&typeof i!="number"?{unwrap:p}:Object.assign(i,{unwrap:p})},this.custom=(e,t)=>{let i=(t==null?void 0:t.id)||Ug++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ar=new g2,y2=(n,e)=>{let t=(e==null?void 0:e.id)||Ug++;return Ar.addToast({title:n,...e,id:t}),t},v2=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",_2=y2,b2=()=>Ar.toasts,E2=()=>Ar.getActiveToasts(),T2=Object.assign(_2,{success:Ar.success,info:Ar.info,warning:Ar.warning,error:Ar.error,custom:Ar.custom,message:Ar.message,promise:Ar.promise,dismiss:Ar.dismiss,loading:Ar.loading},{getHistory:b2,getToasts:E2});function w2(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}w2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Uf(n){return n.label!==void 0}var S2=3,A2="32px",R2="16px",CE=4e3,C2=356,I2=14,x2=20,D2=200;function yi(...n){return n.filter(Boolean).join(" ")}function O2(n){let[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}var N2=n=>{var e,t,i,s,l,c,d,p,g,v,b;let{invert:T,toast:S,unstyled:k,interacting:M,setHeights:D,visibleToasts:$,heights:W,index:J,toasts:ce,expanded:se,removeToast:pe,defaultRichColors:x,closeButton:w,style:C,cancelButtonStyle:I,actionButtonStyle:U,className:P="",descriptionClassName:O="",duration:Pe,position:Fe,gap:H,loadingIcon:oe,expandByDefault:Te,classNames:de,icons:Ce,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:G}=n,[te,me]=ve.useState(null),[we,Me]=ve.useState(null),[Ie,kt]=ve.useState(!1),[rt,kn]=ve.useState(!1),[Vn,xr]=ve.useState(!1),[Vt,gn]=ve.useState(!1),[$r,fi]=ve.useState(!1),[Dr,Ci]=ve.useState(0),[Ii,Or]=ve.useState(0),pr=ve.useRef(S.duration||Pe||CE),ja=ve.useRef(null),ir=ve.useRef(null),hn=J===0,gr=J+1<=$,nt=S.type,Ct=S.dismissible!==!1,ar=S.className||"",Qn=S.descriptionClassName||"",yn=ve.useMemo(()=>W.findIndex(Ve=>Ve.toastId===S.id)||0,[W,S.id]),Ba=ve.useMemo(()=>{var Ve;return(Ve=S.closeButton)!=null?Ve:w},[S.closeButton,w]),Yr=ve.useMemo(()=>S.duration||Pe||CE,[S.duration,Pe]),Kn=ve.useRef(0),jt=ve.useRef(0),Bt=ve.useRef(0),Ft=ve.useRef(null),[Fa,xi]=Fe.split("-"),ta=ve.useMemo(()=>W.reduce((Ve,it,pt)=>pt>=yn?Ve:Ve+it.height,0),[W,yn]),Nr=p2(),Ln=S.invert||T,sr=nt==="loading";jt.current=ve.useMemo(()=>yn*H+ta,[yn,ta]),ve.useEffect(()=>{pr.current=Yr},[Yr]),ve.useEffect(()=>{kt(!0)},[]),ve.useEffect(()=>{let Ve=ir.current;if(Ve){let it=Ve.getBoundingClientRect().height;return Or(it),D(pt=>[{toastId:S.id,height:it,position:S.position},...pt]),()=>D(pt=>pt.filter(Lt=>Lt.toastId!==S.id))}},[D,S.id]),ve.useLayoutEffect(()=>{if(!Ie)return;let Ve=ir.current,it=Ve.style.height;Ve.style.height="auto";let pt=Ve.getBoundingClientRect().height;Ve.style.height=it,Or(pt),D(Lt=>Lt.find(qt=>qt.toastId===S.id)?Lt.map(qt=>qt.toastId===S.id?{...qt,height:pt}:qt):[{toastId:S.id,height:pt,position:S.position},...Lt])},[Ie,S.title,S.description,D,S.id]);let Wt=ve.useCallback(()=>{kn(!0),Ci(jt.current),D(Ve=>Ve.filter(it=>it.toastId!==S.id)),setTimeout(()=>{pe(S)},D2)},[S,pe,D,jt]);ve.useEffect(()=>{if(S.promise&&nt==="loading"||S.duration===1/0||S.type==="loading")return;let Ve;return se||M||G&&Nr?(()=>{if(Bt.current<Kn.current){let it=new Date().getTime()-Kn.current;pr.current=pr.current-it}Bt.current=new Date().getTime()})():pr.current!==1/0&&(Kn.current=new Date().getTime(),Ve=setTimeout(()=>{var it;(it=S.onAutoClose)==null||it.call(S,S),Wt()},pr.current)),()=>clearTimeout(Ve)},[se,M,S,nt,G,Nr,Wt]),ve.useEffect(()=>{S.delete&&Wt()},[Wt,S.delete]);function $n(){var Ve,it,pt;return Ce!=null&&Ce.loading?ve.createElement("div",{className:yi(de==null?void 0:de.loader,(Ve=S==null?void 0:S.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":nt==="loading"},Ce.loading):oe?ve.createElement("div",{className:yi(de==null?void 0:de.loader,(it=S==null?void 0:S.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":nt==="loading"},oe):ve.createElement(u2,{className:yi(de==null?void 0:de.loader,(pt=S==null?void 0:S.classNames)==null?void 0:pt.loader),visible:nt==="loading"})}return ve.createElement("li",{tabIndex:0,ref:ir,className:yi(P,ar,de==null?void 0:de.toast,(e=S==null?void 0:S.classNames)==null?void 0:e.toast,de==null?void 0:de.default,de==null?void 0:de[nt],(t=S==null?void 0:S.classNames)==null?void 0:t[nt]),"data-sonner-toast":"","data-rich-colors":(i=S.richColors)!=null?i:x,"data-styled":!(S.jsx||S.unstyled||k),"data-mounted":Ie,"data-promise":!!S.promise,"data-swiped":$r,"data-removed":rt,"data-visible":gr,"data-y-position":Fa,"data-x-position":xi,"data-index":J,"data-front":hn,"data-swiping":Vn,"data-dismissible":Ct,"data-type":nt,"data-invert":Ln,"data-swipe-out":Vt,"data-swipe-direction":we,"data-expanded":!!(se||Te&&Ie),style:{"--index":J,"--toasts-before":J,"--z-index":ce.length-J,"--offset":`${rt?Dr:jt.current}px`,"--initial-height":Te?"auto":`${Ii}px`,...C,...S.style},onDragEnd:()=>{xr(!1),me(null),Ft.current=null},onPointerDown:Ve=>{sr||!Ct||(ja.current=new Date,Ci(jt.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(xr(!0),Ft.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,it,pt,Lt;if(Vt||!Ct)return;Ft.current=null;let qt=Number(((Ve=ir.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wt=Number(((it=ir.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),or=new Date().getTime()-((pt=ja.current)==null?void 0:pt.getTime()),nn=te==="x"?qt:wt,N=Math.abs(nn)/or;if(Math.abs(nn)>=x2||N>.11){Ci(jt.current),(Lt=S.onDismiss)==null||Lt.call(S,S),Me(te==="x"?qt>0?"right":"left":wt>0?"down":"up"),Wt(),gn(!0),fi(!1);return}xr(!1),me(null)},onPointerMove:Ve=>{var it,pt,Lt,qt;if(!Ft.current||!Ct||((it=window.getSelection())==null?void 0:it.toString().length)>0)return;let wt=Ve.clientY-Ft.current.y,or=Ve.clientX-Ft.current.x,nn=(pt=n.swipeDirections)!=null?pt:O2(Fe);!te&&(Math.abs(or)>1||Math.abs(wt)>1)&&me(Math.abs(or)>Math.abs(wt)?"x":"y");let N={x:0,y:0};te==="y"?(nn.includes("top")||nn.includes("bottom"))&&(nn.includes("top")&&wt<0||nn.includes("bottom")&&wt>0)&&(N.y=wt):te==="x"&&(nn.includes("left")||nn.includes("right"))&&(nn.includes("left")&&or<0||nn.includes("right")&&or>0)&&(N.x=or),(Math.abs(N.x)>0||Math.abs(N.y)>0)&&fi(!0),(Lt=ir.current)==null||Lt.style.setProperty("--swipe-amount-x",`${N.x}px`),(qt=ir.current)==null||qt.style.setProperty("--swipe-amount-y",`${N.y}px`)}},Ba&&!S.jsx?ve.createElement("button",{"aria-label":L,"data-disabled":sr,"data-close-button":!0,onClick:sr||!Ct?()=>{}:()=>{var Ve;Wt(),(Ve=S.onDismiss)==null||Ve.call(S,S)},className:yi(de==null?void 0:de.closeButton,(s=S==null?void 0:S.classNames)==null?void 0:s.closeButton)},(l=Ce==null?void 0:Ce.close)!=null?l:m2):null,S.jsx||B.isValidElement(S.title)?S.jsx?S.jsx:typeof S.title=="function"?S.title():S.title:ve.createElement(ve.Fragment,null,nt||S.icon||S.promise?ve.createElement("div",{"data-icon":"",className:yi(de==null?void 0:de.icon,(c=S==null?void 0:S.classNames)==null?void 0:c.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||$n():null,S.type!=="loading"?S.icon||(Ce==null?void 0:Ce[nt])||o2(nt):null):null,ve.createElement("div",{"data-content":"",className:yi(de==null?void 0:de.content,(d=S==null?void 0:S.classNames)==null?void 0:d.content)},ve.createElement("div",{"data-title":"",className:yi(de==null?void 0:de.title,(p=S==null?void 0:S.classNames)==null?void 0:p.title)},typeof S.title=="function"?S.title():S.title),S.description?ve.createElement("div",{"data-description":"",className:yi(O,Qn,de==null?void 0:de.description,(g=S==null?void 0:S.classNames)==null?void 0:g.description)},typeof S.description=="function"?S.description():S.description):null),B.isValidElement(S.cancel)?S.cancel:S.cancel&&Uf(S.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||I,onClick:Ve=>{var it,pt;Uf(S.cancel)&&Ct&&((pt=(it=S.cancel).onClick)==null||pt.call(it,Ve),Wt())},className:yi(de==null?void 0:de.cancelButton,(v=S==null?void 0:S.classNames)==null?void 0:v.cancelButton)},S.cancel.label):null,B.isValidElement(S.action)?S.action:S.action&&Uf(S.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||U,onClick:Ve=>{var it,pt;Uf(S.action)&&((pt=(it=S.action).onClick)==null||pt.call(it,Ve),!Ve.defaultPrevented&&Wt())},className:yi(de==null?void 0:de.actionButton,(b=S==null?void 0:S.classNames)==null?void 0:b.actionButton)},S.action.label):null))};function IE(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function M2(n,e){let t={};return[n,e].forEach((i,s)=>{let l=s===1,c=l?"--mobile-offset":"--offset",d=l?R2:A2;function p(g){["top","right","bottom","left"].forEach(v=>{t[`${c}-${v}`]=typeof g=="number"?`${g}px`:g})}typeof i=="number"||typeof i=="string"?p(i):typeof i=="object"?["top","right","bottom","left"].forEach(g=>{i[g]===void 0?t[`${c}-${g}`]=d:t[`${c}-${g}`]=typeof i[g]=="number"?`${i[g]}px`:i[g]}):p(d)}),t}var P2=B.forwardRef(function(n,e){let{invert:t,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:p,mobileOffset:g,theme:v="light",richColors:b,duration:T,style:S,visibleToasts:k=S2,toastOptions:M,dir:D=IE(),gap:$=I2,loadingIcon:W,icons:J,containerAriaLabel:ce="Notifications",pauseWhenPageIsHidden:se}=n,[pe,x]=ve.useState([]),w=ve.useMemo(()=>Array.from(new Set([i].concat(pe.filter(G=>G.position).map(G=>G.position)))),[pe,i]),[C,I]=ve.useState([]),[U,P]=ve.useState(!1),[O,Pe]=ve.useState(!1),[Fe,H]=ve.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=ve.useRef(null),Te=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),de=ve.useRef(null),Ce=ve.useRef(!1),L=ve.useCallback(G=>{x(te=>{var me;return(me=te.find(we=>we.id===G.id))!=null&&me.delete||Ar.dismiss(G.id),te.filter(({id:we})=>we!==G.id)})},[]);return ve.useEffect(()=>Ar.subscribe(G=>{if(G.dismiss){x(te=>te.map(me=>me.id===G.id?{...me,delete:!0}:me));return}setTimeout(()=>{s2.flushSync(()=>{x(te=>{let me=te.findIndex(we=>we.id===G.id);return me!==-1?[...te.slice(0,me),{...te[me],...G},...te.slice(me+1)]:[G,...te]})})})}),[]),ve.useEffect(()=>{if(v!=="system"){H(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:te})=>{H(te?"dark":"light")})}catch{G.addListener(({matches:me})=>{try{H(me?"dark":"light")}catch(we){console.error(we)}})}},[v]),ve.useEffect(()=>{pe.length<=1&&P(!1)},[pe]),ve.useEffect(()=>{let G=te=>{var me,we;s.every(Me=>te[Me]||te.code===Me)&&(P(!0),(me=oe.current)==null||me.focus()),te.code==="Escape"&&(document.activeElement===oe.current||(we=oe.current)!=null&&we.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),ve.useEffect(()=>{if(oe.current)return()=>{de.current&&(de.current.focus({preventScroll:!0}),de.current=null,Ce.current=!1)}},[oe.current]),ve.createElement("section",{ref:e,"aria-label":`${ce} ${Te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},w.map((G,te)=>{var me;let[we,Me]=G.split("-");return pe.length?ve.createElement("ol",{key:G,dir:D==="auto"?IE():D,tabIndex:-1,ref:oe,className:d,"data-sonner-toaster":!0,"data-theme":Fe,"data-y-position":we,"data-lifted":U&&pe.length>1&&!l,"data-x-position":Me,style:{"--front-toast-height":`${((me=C[0])==null?void 0:me.height)||0}px`,"--width":`${C2}px`,"--gap":`${$}px`,...S,...M2(p,g)},onBlur:Ie=>{Ce.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(Ce.current=!1,de.current&&(de.current.focus({preventScroll:!0}),de.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Ce.current||(Ce.current=!0,de.current=Ie.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{O||P(!1)},onDragEnd:()=>P(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Pe(!0)},onPointerUp:()=>Pe(!1)},pe.filter(Ie=>!Ie.position&&te===0||Ie.position===G).map((Ie,kt)=>{var rt,kn;return ve.createElement(N2,{key:Ie.id,icons:J,index:kt,toast:Ie,defaultRichColors:b,duration:(rt=M==null?void 0:M.duration)!=null?rt:T,className:M==null?void 0:M.className,descriptionClassName:M==null?void 0:M.descriptionClassName,invert:t,visibleToasts:k,closeButton:(kn=M==null?void 0:M.closeButton)!=null?kn:c,interacting:O,position:G,style:M==null?void 0:M.style,unstyled:M==null?void 0:M.unstyled,classNames:M==null?void 0:M.classNames,cancelButtonStyle:M==null?void 0:M.cancelButtonStyle,actionButtonStyle:M==null?void 0:M.actionButtonStyle,removeToast:L,toasts:pe.filter(Vn=>Vn.position==Ie.position),heights:C.filter(Vn=>Vn.position==Ie.position),setHeights:I,expandByDefault:l,gap:$,loadingIcon:W,expanded:U,pauseWhenPageIsHidden:se,swipeDirections:n.swipeDirections})})):null}))});const k2=new t2({defaultOptions:{queries:{staleTime:1e3*60*5,retry:2,refetchOnWindowFocus:!1},mutations:{retry:0}}});/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m1=n=>{throw TypeError(n)},V2=(n,e,t)=>e.has(n)||m1("Cannot "+t),fg=(n,e,t)=>(V2(n,e,"read from private field"),t?t.call(n):e.get(n)),L2=(n,e,t)=>e.has(n)?m1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),xE="popstate";function DE(n){return typeof n=="object"&&n!=null&&"pathname"in n&&"search"in n&&"hash"in n&&"state"in n&&"key"in n}function U2(n={}){function e(i,s){var g;let l=(g=s.state)==null?void 0:g.masked,{pathname:c,search:d,hash:p}=l||i.location;return Nc("",{pathname:c,search:d,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default",l?{pathname:i.location.pathname,search:i.location.search,hash:i.location.hash}:void 0)}function t(i,s){return typeof s=="string"?s:Yi(s)}return j2(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z2(){return Math.random().toString(36).substring(2,10)}function OE(n,e){return{usr:n.state,key:n.key,idx:e,masked:n.unstable_mask?{pathname:n.pathname,search:n.search,hash:n.hash}:void 0}}function Nc(n,e,t=null,i,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:t,key:e&&e.key||i||z2(),unstable_mask:s}}function Yi({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function La(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function j2(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let D=v(),$=D==null?null:D-g;g=D,p&&p({action:d,location:M.location,delta:$})}function T(D,$){d="PUSH";let W=DE(D)?D:Nc(M.location,D,$);g=v()+1;let J=OE(W,g),ce=M.createHref(W.unstable_mask||W);try{c.pushState(J,"",ce)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;s.location.assign(ce)}l&&p&&p({action:d,location:M.location,delta:1})}function S(D,$){d="REPLACE";let W=DE(D)?D:Nc(M.location,D,$);g=v();let J=OE(W,g),ce=M.createHref(W.unstable_mask||W);c.replaceState(J,"",ce),l&&p&&p({action:d,location:M.location,delta:0})}function k(D){return p1(D)}let M={get action(){return d},get location(){return n(s,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(xE,b),p=D,()=>{s.removeEventListener(xE,b),p=null}},createHref(D){return e(s,D)},createURL:k,encodeLocation(D){let $=k(D);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:S,go(D){return c.go(D)}};return M}function p1(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Yi(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var mc,NE=class{constructor(n){if(L2(this,mc,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(fg(this,mc).has(n))return fg(this,mc).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){fg(this,mc).set(n,e)}};mc=new WeakMap;var B2=new Set(["lazy","caseSensitive","path","id","index","children"]);function F2(n){return B2.has(n)}var q2=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function H2(n){return q2.has(n)}function G2(n){return n.index===!0}function Mc(n,e,t=[],i={},s=!1){return n.map((l,c)=>{let d=[...t,String(c)],p=typeof l.id=="string"?l.id:d.join("-");if(tt(l.index!==!0||!l.children,"Cannot specify children on an index route"),tt(s||!i[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),G2(l)){let g={...l,id:p};return i[p]=ME(g,e(g)),g}else{let g={...l,id:p,children:void 0};return i[p]=ME(g,e(g)),l.children&&(g.children=Mc(l.children,e,d,i,s)),g}})}function ME(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function Rs(n,e,t="/"){return pc(n,e,t,!1)}function pc(n,e,t,i){let s=typeof e=="string"?La(e):e,l=ui(s.pathname||"/",t);if(l==null)return null;let c=g1(n);K2(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=ix(l);d=nx(c[p],g,i)}return d}function Q2(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function g1(n,e=[],t=[],i="",s=!1){let l=(c,d,p=s,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;tt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Ti([i,v.relativePath]),T=t.concat(v);c.children&&c.children.length>0&&(tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),g1(c.children,e,T,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:ex(b,c.index),routesMeta:T})};return n.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,d);else for(let g of y1(c.path))l(c,d,!0,g)}),e}function y1(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=y1(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function K2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var $2=/^:[\w-]+$/,Y2=3,X2=2,W2=1,J2=10,Z2=-2,PE=n=>n==="*";function ex(n,e){let t=n.split("/"),i=t.length;return t.some(PE)&&(i+=Z2),e&&(i+=X2),t.filter(s=>!PE(s)).reduce((s,l)=>s+($2.test(l)?Y2:l===""?W2:J2),i)}function tx(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function nx(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=hd({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=hd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(s,b.params),c.push({params:s,pathname:Ti([l,b.pathname]),pathnameBase:ox(Ti([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=Ti([l,b.pathnameBase]))}return c}function hd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=rx(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},T)=>{if(v==="*"){let k=d[T]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const S=d[T];return b&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function rx(n,e=!1,t=!0){pn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p,g,v)=>{if(i.push({paramName:d,isOptional:p!=null}),p){let b=v.charAt(g+c.length);return b&&b!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function ix(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ui(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function ax({basename:n,pathname:e}){return e==="/"?n:Ti([n,e])}var v1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ty=n=>v1.test(n);function sx(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?La(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=kE(t.substring(1),"/"):l=kE(t,e)):l=e,{pathname:l,search:lx(i),hash:ux(s)}}function kE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function dg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pd(n){let e=_1(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function $c(n,e,t,i=!1){let s;typeof n=="string"?s=La(n):(s={...n},tt(!s.pathname||!s.pathname.includes("?"),dg("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),dg("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),dg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;s.pathname=T.join("/")}d=b>=0?e[b]:"/"}let p=sx(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ti=n=>n.join("/").replace(/\/\/+/g,"/"),ox=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),lx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ux=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Yc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Pc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Xc(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function E1(n,e){let t=n;if(typeof t!="string"||!v1.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,s=!1;if(b1)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=ui(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:s=!0}catch{pn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:t}}var zs=Symbol("Uninstrumented");function cx(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(l){let c=Object.keys(t);for(let d of c)l[d]&&t[d].push(l[d])}}));let i={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=zl(t.lazy,e.lazy,()=>{});s&&(i.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(l=>{let c=s[l],d=t[`lazy.${l}`];if(typeof c=="function"&&d.length>0){let p=zl(d,c,()=>{});p&&(i.lazy=Object.assign(i.lazy||{},{[l]:p}))}})}return["loader","action"].forEach(s=>{let l=e[s];if(typeof l=="function"&&t[s].length>0){let c=l[zs]??l,d=zl(t[s],c,(...p)=>VE(p[0]));d&&(s==="loader"&&c.hydrate===!0&&(d.hydrate=!0),d[zs]=c,i[s]=d)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(i.middleware=e.middleware.map(s=>{let l=s[zs]??s,c=zl(t.middleware,l,(...d)=>VE(d[0]));return c?(c[zs]=l,c):s})),i}function hx(n,e){let t={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(s){let l=Object.keys(s);for(let c of l)s[c]&&t[c].push(s[c])}})),t.navigate.length>0){let i=n.navigate[zs]??n.navigate,s=zl(t.navigate,i,(...l)=>{let[c,d]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?Yi(c):".",...LE(n,d??{})}});s&&(s[zs]=i,n.navigate=s)}if(t.fetch.length>0){let i=n.fetch[zs]??n.fetch,s=zl(t.fetch,i,(...l)=>{let[c,,d,p]=l;return{href:d??".",fetcherKey:c,...LE(n,p??{})}});s&&(s[zs]=i,n.fetch=s)}return n}function zl(n,e,t){return n.length===0?null:async(...i)=>{let s=await T1(n,t(...i),()=>e(...i),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function T1(n,e,t,i){let s=n[i],l;if(s){let c,d=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=T1(n,e,t,i-1),l=await c,tt(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await s(d,e)}catch(p){console.error("An instrumentation function threw an error:",p)}c||await d(),await c}else try{l={type:"success",value:await t()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function VE(n){let{request:e,context:t,params:i,unstable_pattern:s}=n;return{request:fx(e),params:{...i},unstable_pattern:s,context:dx(t)}}function LE(n,e){return{currentUrl:Yi(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function fx(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function dx(n){if(px(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var mx=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function px(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===mx}var w1=["POST","PUT","PATCH","DELETE"],gx=new Set(w1),yx=["GET",...w1],vx=new Set(yx),S1=new Set([301,302,303,307,308]),_x=new Set([307,308]),mg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ex=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),A1="remix-router-transitions",R1=Symbol("ResetLoaderData");function Tx(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";tt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||Ex,l=s;if(n.unstable_instrumentations){let N=n.unstable_instrumentations;l=j=>({...s(j),...cx(N.map(Y=>Y.route).filter(Boolean),j)})}let c={},d=Mc(n.routes,l,void 0,c),p,g=n.basename||"/";g.startsWith("/")||(g=`/${g}`);let v=n.dataStrategy||Cx,b={...n.future},T=null,S=new Set,k=null,M=null,D=null,$=n.hydrationData!=null,W=Rs(d,n.history.location,g),J=!1,ce=null,se,pe;if(W==null&&!n.patchRoutesOnNavigation){let N=oi(404,{pathname:n.history.location.pathname}),{matches:j,route:Y}=zf(d);se=!0,pe=!se,W=j,ce={[Y.id]:N}}else if(W&&!n.hydrationData&&Lt(W,d,n.history.location.pathname).active&&(W=null),W)if(W.some(N=>N.route.lazy))se=!1,pe=!se;else if(!W.some(N=>wy(N.route)))se=!0,pe=!se;else{let N=n.hydrationData?n.hydrationData.loaderData:null,j=n.hydrationData?n.hydrationData.errors:null,Y=W;if(j){let fe=W.findIndex(ge=>j[ge.route.id]!==void 0);Y=Y.slice(0,fe+1)}pe=!1,se=Y.every(fe=>{let ge=C1(fe.route,N,j);return pe=pe||ge.renderFallback,!ge.shouldLoad})}else{se=!1,pe=!se,W=[];let N=Lt(null,d,n.history.location.pathname);N.active&&N.matches&&(J=!0,W=N.matches)}let x,w={historyAction:n.history.action,location:n.history.location,matches:W,initialized:se,renderFallback:pe,navigation:mg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ce,fetchers:new Map,blockers:new Map},C="POP",I=null,U=!1,P,O=!1,Pe=new Map,Fe=null,H=!1,oe=!1,Te=new Set,de=new Map,Ce=0,L=-1,G=new Map,te=new Set,me=new Map,we=new Map,Me=new Set,Ie=new Map,kt,rt=null;function kn(){if(T=n.history.listen(({action:N,location:j,delta:Y})=>{if(kt){kt(),kt=void 0;return}pn(Ie.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=sr({currentLocation:w.location,nextLocation:j,historyAction:N});if(fe&&Y!=null){let ge=new Promise(Re=>{kt=Re});n.history.go(Y*-1),Ln(fe,{state:"blocked",location:j,proceed(){Ln(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),ge.then(()=>n.history.go(Y))},reset(){let Re=new Map(w.blockers);Re.set(fe,lc),Vt({blockers:Re})}}),I==null||I.resolve(),I=null;return}return Dr(N,j)}),t){Gx(e,Pe);let N=()=>Qx(e,Pe);e.addEventListener("pagehide",N),Fe=()=>e.removeEventListener("pagehide",N)}return w.initialized||Dr("POP",w.location,{initialHydration:!0}),x}function Vn(){T&&T(),Fe&&Fe(),S.clear(),P&&P.abort(),w.fetchers.forEach((N,j)=>Kn(j)),w.blockers.forEach((N,j)=>Nr(j))}function xr(N){return S.add(N),()=>S.delete(N)}function Vt(N,j={}){N.matches&&(N.matches=N.matches.map(ge=>{let Re=c[ge.route.id],Ee=ge.route;return Ee.element!==Re.element||Ee.errorElement!==Re.errorElement||Ee.hydrateFallbackElement!==Re.hydrateFallbackElement?{...ge,route:Re}:ge})),w={...w,...N};let Y=[],fe=[];w.fetchers.forEach((ge,Re)=>{ge.state==="idle"&&(Me.has(Re)?Y.push(Re):fe.push(Re))}),Me.forEach(ge=>{!w.fetchers.has(ge)&&!de.has(ge)&&Y.push(ge)}),[...S].forEach(ge=>ge(w,{deletedFetchers:Y,newErrors:N.errors??null,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),Y.forEach(ge=>Kn(ge)),fe.forEach(ge=>w.fetchers.delete(ge))}function gn(N,j,{flushSync:Y}={}){var ke,Oe;let fe=w.actionData!=null&&w.navigation.formMethod!=null&&er(w.navigation.formMethod)&&w.navigation.state==="loading"&&((ke=N.state)==null?void 0:ke._isRedirect)!==!0,ge;j.actionData?Object.keys(j.actionData).length>0?ge=j.actionData:ge=null:fe?ge=w.actionData:ge=null;let Re=j.loaderData?KE(w.loaderData,j.loaderData,j.matches||[],j.errors):w.loaderData,Ee=w.blockers;Ee.size>0&&(Ee=new Map(Ee),Ee.forEach((Ge,Qe)=>Ee.set(Qe,lc)));let _e=H?!1:pt(N,j.matches||w.matches),be=U===!0||w.navigation.formMethod!=null&&er(w.navigation.formMethod)&&((Oe=N.state)==null?void 0:Oe._isRedirect)!==!0;p&&(d=p,p=void 0),H||C==="POP"||(C==="PUSH"?n.history.push(N,N.state):C==="REPLACE"&&n.history.replace(N,N.state));let De;if(C==="POP"){let Ge=Pe.get(w.location.pathname);Ge&&Ge.has(N.pathname)?De={currentLocation:w.location,nextLocation:N}:Pe.has(N.pathname)&&(De={currentLocation:N,nextLocation:w.location})}else if(O){let Ge=Pe.get(w.location.pathname);Ge?Ge.add(N.pathname):(Ge=new Set([N.pathname]),Pe.set(w.location.pathname,Ge)),De={currentLocation:w.location,nextLocation:N}}Vt({...j,actionData:ge,loaderData:Re,historyAction:C,location:N,initialized:!0,renderFallback:!1,navigation:mg,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:be,blockers:Ee},{viewTransitionOpts:De,flushSync:Y===!0}),C="POP",U=!1,O=!1,H=!1,oe=!1,I==null||I.resolve(),I=null,rt==null||rt.resolve(),rt=null}async function $r(N,j){if(I==null||I.resolve(),I=null,typeof N=="number"){I||(I=WE());let _t=I.promise;return n.history.go(N),_t}let Y=zg(w.location,w.matches,g,N,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:fe,submission:ge,error:Re}=UE(!1,Y,j),Ee;j!=null&&j.unstable_mask&&(Ee={pathname:"",search:"",hash:"",...typeof j.unstable_mask=="string"?La(j.unstable_mask):{...w.location.unstable_mask,...j.unstable_mask}});let _e=w.location,be=Nc(_e,fe,j&&j.state,void 0,Ee);be={...be,...n.history.encodeLocation(be)};let De=j&&j.replace!=null?j.replace:void 0,ke="PUSH";De===!0?ke="REPLACE":De===!1||ge!=null&&er(ge.formMethod)&&ge.formAction===w.location.pathname+w.location.search&&(ke="REPLACE");let Oe=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,Ge=(j&&j.flushSync)===!0,Qe=sr({currentLocation:_e,nextLocation:be,historyAction:ke});if(Qe){Ln(Qe,{state:"blocked",location:be,proceed(){Ln(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),$r(N,j)},reset(){let _t=new Map(w.blockers);_t.set(Qe,lc),Vt({blockers:_t})}});return}await Dr(ke,be,{submission:ge,pendingError:Re,preventScrollReset:Oe,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:Ge,callSiteDefaultShouldRevalidate:j&&j.unstable_defaultShouldRevalidate})}function fi(){rt||(rt=WE()),ar(),Vt({revalidation:"loading"});let N=rt.promise;return w.navigation.state==="submitting"?N:w.navigation.state==="idle"?(Dr(w.historyAction,w.location,{startUninterruptedRevalidation:!0}),N):(Dr(C||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:O===!0}),N)}async function Dr(N,j,Y){P&&P.abort(),P=null,C=N,H=(Y&&Y.startUninterruptedRevalidation)===!0,it(w.location,w.matches),U=(Y&&Y.preventScrollReset)===!0,O=(Y&&Y.enableViewTransition)===!0;let fe=p||d,ge=Y&&Y.overrideNavigation,Re=Y!=null&&Y.initialHydration&&w.matches&&w.matches.length>0&&!J?w.matches:Rs(fe,j,g),Ee=(Y&&Y.flushSync)===!0;if(Re&&w.initialized&&!oe&&kx(w.location,j)&&!(Y&&Y.submission&&er(Y.submission.formMethod))){gn(j,{matches:Re},{flushSync:Ee});return}let _e=Lt(Re,fe,j.pathname);if(_e.active&&_e.matches&&(Re=_e.matches),!Re){let{error:It,notFoundMatches:Ht,route:ot}=Wt(j.pathname);gn(j,{matches:Ht,loaderData:{},errors:{[ot.id]:It}},{flushSync:Ee});return}P=new AbortController;let be=Pl(n.history,j,P.signal,Y&&Y.submission),De=n.getContext?await n.getContext():new NE,ke;if(Y&&Y.pendingError)ke=[Cs(Re).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&er(Y.submission.formMethod)){let It=await Ci(be,j,Y.submission,Re,De,_e.active,Y&&Y.initialHydration===!0,{replace:Y.replace,flushSync:Ee});if(It.shortCircuited)return;if(It.pendingActionResult){let[Ht,ot]=It.pendingActionResult;if(Hr(ot)&&Pc(ot.error)&&ot.error.status===404){P=null,gn(j,{matches:It.matches,loaderData:{},errors:{[Ht]:ot.error}});return}}Re=It.matches||Re,ke=It.pendingActionResult,ge=pg(j,Y.submission),Ee=!1,_e.active=!1,be=Pl(n.history,be.url,be.signal)}let{shortCircuited:Oe,matches:Ge,loaderData:Qe,errors:_t}=await Ii(be,j,Re,De,_e.active,ge,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ee,ke,Y&&Y.callSiteDefaultShouldRevalidate);Oe||(P=null,gn(j,{matches:Ge||Re,...$E(ke),loaderData:Qe,errors:_t}))}async function Ci(N,j,Y,fe,ge,Re,Ee,_e={}){ar();let be=qx(j,Y);if(Vt({navigation:be},{flushSync:_e.flushSync===!0}),Re){let Oe=await qt(fe,j.pathname,N.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){if(Oe.partialMatches.length===0){let{matches:Qe,route:_t}=zf(d);return{matches:Qe,pendingActionResult:[_t.id,{type:"error",error:Oe.error}]}}let Ge=Cs(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[Ge,{type:"error",error:Oe.error}]}}else if(Oe.matches)fe=Oe.matches;else{let{notFoundMatches:Ge,error:Qe,route:_t}=Wt(j.pathname);return{matches:Ge,pendingActionResult:[_t.id,{type:"error",error:Qe}]}}}let De,ke=Xf(fe,j);if(!ke.route.action&&!ke.route.lazy)De={type:"error",error:oi(405,{method:N.method,pathname:j.pathname,routeId:ke.route.id})};else{let Oe=jl(l,c,N,fe,ke,Ee?[]:i,ge),Ge=await nt(N,Oe,ge,null);if(De=Ge[ke.route.id],!De){for(let Qe of fe)if(Ge[Qe.route.id]){De=Ge[Qe.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(Do(De)){let Oe;return _e&&_e.replace!=null?Oe=_e.replace:Oe=HE(De.response.headers.get("Location"),new URL(N.url),g,n.history)===w.location.pathname+w.location.search,await gr(N,De,!0,{submission:Y,replace:Oe}),{shortCircuited:!0}}if(Hr(De)){let Oe=Cs(fe,ke.route.id);return(_e&&_e.replace)!==!0&&(C="PUSH"),{matches:fe,pendingActionResult:[Oe.route.id,De,ke.route.id]}}return{matches:fe,pendingActionResult:[ke.route.id,De]}}async function Ii(N,j,Y,fe,ge,Re,Ee,_e,be,De,ke,Oe,Ge){let Qe=Re||pg(j,Ee),_t=Ee||_e||XE(Qe),It=!H&&!De;if(ge){if(It){let Gt=Or(Oe);Vt({navigation:Qe,...Gt!==void 0?{actionData:Gt}:{}},{flushSync:ke})}let Ye=await qt(Y,j.pathname,N.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){if(Ye.partialMatches.length===0){let{matches:Rn,route:en}=zf(d);return{matches:Rn,loaderData:{},errors:{[en.id]:Ye.error}}}let Gt=Cs(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[Gt]:Ye.error}}}else if(Ye.matches)Y=Ye.matches;else{let{error:Gt,notFoundMatches:Rn,route:en}=Wt(j.pathname);return{matches:Rn,loaderData:{},errors:{[en.id]:Gt}}}}let Ht=p||d,{dsMatches:ot,revalidatingFetchers:Jt}=zE(N,fe,l,c,n.history,w,Y,_t,j,De?[]:i,De===!0,oe,Te,Me,me,te,Ht,g,n.patchRoutesOnNavigation!=null,Oe,Ge);if(L=++Ce,!n.dataStrategy&&!ot.some(Ye=>Ye.shouldLoad)&&!ot.some(Ye=>Ye.route.middleware&&Ye.route.middleware.length>0)&&Jt.length===0){let Ye=Fa();return gn(j,{matches:Y,loaderData:{},errors:Oe&&Hr(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...$E(Oe),...Ye?{fetchers:new Map(w.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(It){let Ye={};if(!ge){Ye.navigation=Qe;let Gt=Or(Oe);Gt!==void 0&&(Ye.actionData=Gt)}Jt.length>0&&(Ye.fetchers=pr(Jt)),Vt(Ye,{flushSync:ke})}Jt.forEach(Ye=>{Bt(Ye.key),Ye.controller&&de.set(Ye.key,Ye.controller)});let St=()=>Jt.forEach(Ye=>Bt(Ye.key));P&&P.signal.addEventListener("abort",St);let{loaderResults:Xr,fetcherResults:Un}=await Ct(ot,Jt,N,fe);if(N.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",St),Jt.forEach(Ye=>de.delete(Ye.key));let Ut=jf(Xr);if(Ut)return await gr(N,Ut.result,!0,{replace:be}),{shortCircuited:!0};if(Ut=jf(Un),Ut)return te.add(Ut.key),await gr(N,Ut.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:yr,errors:na}=QE(w,Y,Xr,Oe,Jt,Un);De&&w.errors&&(na={...w.errors,...na});let Mr=Fa(),Di=xi(L),ra=Mr||Di||Jt.length>0;return{matches:Y,loaderData:yr,errors:na,...ra?{fetchers:new Map(w.fetchers)}:{}}}function Or(N){if(N&&!Hr(N[1]))return{[N[0]]:N[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function pr(N){return N.forEach(j=>{let Y=w.fetchers.get(j.key),fe=uc(void 0,Y?Y.data:void 0);w.fetchers.set(j.key,fe)}),new Map(w.fetchers)}async function ja(N,j,Y,fe){Bt(N);let ge=(fe&&fe.flushSync)===!0,Re=p||d,Ee=zg(w.location,w.matches,g,Y,j,fe==null?void 0:fe.relative),_e=Rs(Re,Ee,g),be=Lt(_e,Re,Ee);if(be.active&&be.matches&&(_e=be.matches),!_e){yn(N,j,oi(404,{pathname:Ee}),{flushSync:ge});return}let{path:De,submission:ke,error:Oe}=UE(!0,Ee,fe);if(Oe){yn(N,j,Oe,{flushSync:ge});return}let Ge=n.getContext?await n.getContext():new NE,Qe=(fe&&fe.preventScrollReset)===!0;if(ke&&er(ke.formMethod)){await ir(N,j,De,_e,Ge,be.active,ge,Qe,ke,fe&&fe.unstable_defaultShouldRevalidate);return}me.set(N,{routeId:j,path:De}),await hn(N,j,De,_e,Ge,be.active,ge,Qe,ke)}async function ir(N,j,Y,fe,ge,Re,Ee,_e,be,De){ar(),me.delete(N);let ke=w.fetchers.get(N);Qn(N,Hx(be,ke),{flushSync:Ee});let Oe=new AbortController,Ge=Pl(n.history,Y,Oe.signal,be);if(Re){let Nt=await qt(fe,new URL(Ge.url).pathname,Ge.signal,N);if(Nt.type==="aborted")return;if(Nt.type==="error"){yn(N,j,Nt.error,{flushSync:Ee});return}else if(Nt.matches)fe=Nt.matches;else{yn(N,j,oi(404,{pathname:Y}),{flushSync:Ee});return}}let Qe=Xf(fe,Y);if(!Qe.route.action&&!Qe.route.lazy){let Nt=oi(405,{method:be.formMethod,pathname:Y,routeId:j});yn(N,j,Nt,{flushSync:Ee});return}de.set(N,Oe);let _t=Ce,It=jl(l,c,Ge,fe,Qe,i,ge),Ht=await nt(Ge,It,ge,N),ot=Ht[Qe.route.id];if(!ot){for(let Nt of It)if(Ht[Nt.route.id]){ot=Ht[Nt.route.id];break}}if(Ge.signal.aborted){de.get(N)===Oe&&de.delete(N);return}if(Me.has(N)){if(Do(ot)||Hr(ot)){Qn(N,Ca(void 0));return}}else{if(Do(ot))if(de.delete(N),L>_t){Qn(N,Ca(void 0));return}else return te.add(N),Qn(N,uc(be)),gr(Ge,ot,!1,{fetcherSubmission:be,preventScrollReset:_e});if(Hr(ot)){yn(N,j,ot.error);return}}let Jt=w.navigation.location||w.location,St=Pl(n.history,Jt,Oe.signal),Xr=p||d,Un=w.navigation.state!=="idle"?Rs(Xr,w.navigation.location,g):w.matches;tt(Un,"Didn't find any matches after fetcher action");let Ut=++Ce;G.set(N,Ut);let yr=uc(be,ot.data);w.fetchers.set(N,yr);let{dsMatches:na,revalidatingFetchers:Mr}=zE(St,ge,l,c,n.history,w,Un,be,Jt,i,!1,oe,Te,Me,me,te,Xr,g,n.patchRoutesOnNavigation!=null,[Qe.route.id,ot],De);Mr.filter(Nt=>Nt.key!==N).forEach(Nt=>{let qa=Nt.key,ia=w.fetchers.get(qa),io=uc(void 0,ia?ia.data:void 0);w.fetchers.set(qa,io),Bt(qa),Nt.controller&&de.set(qa,Nt.controller)}),Vt({fetchers:new Map(w.fetchers)});let Di=()=>Mr.forEach(Nt=>Bt(Nt.key));Oe.signal.addEventListener("abort",Di);let{loaderResults:ra,fetcherResults:Ye}=await Ct(na,Mr,St,ge);if(Oe.signal.aborted)return;if(Oe.signal.removeEventListener("abort",Di),G.delete(N),de.delete(N),Mr.forEach(Nt=>de.delete(Nt.key)),w.fetchers.has(N)){let Nt=Ca(ot.data);w.fetchers.set(N,Nt)}let Gt=jf(ra);if(Gt)return gr(St,Gt.result,!1,{preventScrollReset:_e});if(Gt=jf(Ye),Gt)return te.add(Gt.key),gr(St,Gt.result,!1,{preventScrollReset:_e});let{loaderData:Rn,errors:en}=QE(w,Un,ra,void 0,Mr,Ye);xi(Ut),w.navigation.state==="loading"&&Ut>L?(tt(C,"Expected pending action"),P&&P.abort(),gn(w.navigation.location,{matches:Un,loaderData:Rn,errors:en,fetchers:new Map(w.fetchers)})):(Vt({errors:en,loaderData:KE(w.loaderData,Rn,Un,en),fetchers:new Map(w.fetchers)}),oe=!1)}async function hn(N,j,Y,fe,ge,Re,Ee,_e,be){let De=w.fetchers.get(N);Qn(N,uc(be,De?De.data:void 0),{flushSync:Ee});let ke=new AbortController,Oe=Pl(n.history,Y,ke.signal);if(Re){let ot=await qt(fe,new URL(Oe.url).pathname,Oe.signal,N);if(ot.type==="aborted")return;if(ot.type==="error"){yn(N,j,ot.error,{flushSync:Ee});return}else if(ot.matches)fe=ot.matches;else{yn(N,j,oi(404,{pathname:Y}),{flushSync:Ee});return}}let Ge=Xf(fe,Y);de.set(N,ke);let Qe=Ce,_t=jl(l,c,Oe,fe,Ge,i,ge),Ht=(await nt(Oe,_t,ge,N))[Ge.route.id];if(de.get(N)===ke&&de.delete(N),!Oe.signal.aborted){if(Me.has(N)){Qn(N,Ca(void 0));return}if(Do(Ht))if(L>Qe){Qn(N,Ca(void 0));return}else{te.add(N),await gr(Oe,Ht,!1,{preventScrollReset:_e});return}if(Hr(Ht)){yn(N,j,Ht.error);return}Qn(N,Ca(Ht.data))}}async function gr(N,j,Y,{submission:fe,fetcherSubmission:ge,preventScrollReset:Re,replace:Ee}={}){Y||(I==null||I.resolve(),I=null),j.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let _e=j.response.headers.get("Location");tt(_e,"Expected a Location header on the redirect Response"),_e=HE(_e,new URL(N.url),g,n.history);let be=Nc(w.location,_e,{_isRedirect:!0});if(t){let _t=!1;if(j.response.headers.has("X-Remix-Reload-Document"))_t=!0;else if(Ty(_e)){const It=p1(_e,!0);_t=It.origin!==e.location.origin||ui(It.pathname,g)==null}if(_t){Ee?e.location.replace(_e):e.location.assign(_e);return}}P=null;let De=Ee===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Oe,formEncType:Ge}=w.navigation;!fe&&!ge&&ke&&Oe&&Ge&&(fe=XE(w.navigation));let Qe=fe||ge;if(_x.has(j.response.status)&&Qe&&er(Qe.formMethod))await Dr(De,be,{submission:{...Qe,formAction:_e},preventScrollReset:Re||U,enableViewTransition:Y?O:void 0});else{let _t=pg(be,fe);await Dr(De,be,{overrideNavigation:_t,fetcherSubmission:ge,preventScrollReset:Re||U,enableViewTransition:Y?O:void 0})}}async function nt(N,j,Y,fe){var Ee;let ge,Re={};try{ge=await xx(v,N,j,fe,Y,!1)}catch(_e){return j.filter(be=>be.shouldLoad).forEach(be=>{Re[be.route.id]={type:"error",error:_e}}),Re}if(N.signal.aborted)return Re;if(!er(N.method))for(let _e of j){if(((Ee=ge[_e.route.id])==null?void 0:Ee.type)==="error")break;!ge.hasOwnProperty(_e.route.id)&&!w.loaderData.hasOwnProperty(_e.route.id)&&(!w.errors||!w.errors.hasOwnProperty(_e.route.id))&&_e.shouldCallHandler()&&(ge[_e.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${_e.route.id}`)})}for(let[_e,be]of Object.entries(ge))if(zx(be)){let De=be.result;Re[_e]={type:"redirect",response:Mx(De,N,_e,j,g)}}else Re[_e]=await Nx(be);return Re}async function Ct(N,j,Y,fe){let ge=nt(Y,N,fe,null),Re=Promise.all(j.map(async be=>{if(be.matches&&be.match&&be.request&&be.controller){let ke=(await nt(be.request,be.matches,fe,be.key))[be.match.route.id];return{[be.key]:ke}}else return Promise.resolve({[be.key]:{type:"error",error:oi(404,{pathname:be.path})}})})),Ee=await ge,_e=(await Re).reduce((be,De)=>Object.assign(be,De),{});return{loaderResults:Ee,fetcherResults:_e}}function ar(){oe=!0,me.forEach((N,j)=>{de.has(j)&&Te.add(j),Bt(j)})}function Qn(N,j,Y={}){w.fetchers.set(N,j),Vt({fetchers:new Map(w.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function yn(N,j,Y,fe={}){let ge=Cs(w.matches,j);Kn(N),Vt({errors:{[ge.route.id]:Y},fetchers:new Map(w.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function Ba(N){return we.set(N,(we.get(N)||0)+1),Me.has(N)&&Me.delete(N),w.fetchers.get(N)||bx}function Yr(N,j){Bt(N,j==null?void 0:j.reason),Qn(N,Ca(null))}function Kn(N){let j=w.fetchers.get(N);de.has(N)&&!(j&&j.state==="loading"&&G.has(N))&&Bt(N),me.delete(N),G.delete(N),te.delete(N),Me.delete(N),Te.delete(N),w.fetchers.delete(N)}function jt(N){let j=(we.get(N)||0)-1;j<=0?(we.delete(N),Me.add(N)):we.set(N,j),Vt({fetchers:new Map(w.fetchers)})}function Bt(N,j){let Y=de.get(N);Y&&(Y.abort(j),de.delete(N))}function Ft(N){for(let j of N){let Y=Ba(j),fe=Ca(Y.data);w.fetchers.set(j,fe)}}function Fa(){let N=[],j=!1;for(let Y of te){let fe=w.fetchers.get(Y);tt(fe,`Expected fetcher: ${Y}`),fe.state==="loading"&&(te.delete(Y),N.push(Y),j=!0)}return Ft(N),j}function xi(N){let j=[];for(let[Y,fe]of G)if(fe<N){let ge=w.fetchers.get(Y);tt(ge,`Expected fetcher: ${Y}`),ge.state==="loading"&&(Bt(Y),G.delete(Y),j.push(Y))}return Ft(j),j.length>0}function ta(N,j){let Y=w.blockers.get(N)||lc;return Ie.get(N)!==j&&Ie.set(N,j),Y}function Nr(N){w.blockers.delete(N),Ie.delete(N)}function Ln(N,j){let Y=w.blockers.get(N)||lc;tt(Y.state==="unblocked"&&j.state==="blocked"||Y.state==="blocked"&&j.state==="blocked"||Y.state==="blocked"&&j.state==="proceeding"||Y.state==="blocked"&&j.state==="unblocked"||Y.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${j.state}`);let fe=new Map(w.blockers);fe.set(N,j),Vt({blockers:fe})}function sr({currentLocation:N,nextLocation:j,historyAction:Y}){if(Ie.size===0)return;Ie.size>1&&pn(!1,"A router only supports one blocker at a time");let fe=Array.from(Ie.entries()),[ge,Re]=fe[fe.length-1],Ee=w.blockers.get(ge);if(!(Ee&&Ee.state==="proceeding")&&Re({currentLocation:N,nextLocation:j,historyAction:Y}))return ge}function Wt(N){let j=oi(404,{pathname:N}),Y=p||d,{matches:fe,route:ge}=zf(Y);return{notFoundMatches:fe,route:ge,error:j}}function $n(N,j,Y){if(k=N,D=j,M=Y||null,!$&&w.navigation===mg){$=!0;let fe=pt(w.location,w.matches);fe!=null&&Vt({restoreScrollPosition:fe})}return()=>{k=null,D=null,M=null}}function Ve(N,j){return M&&M(N,j.map(fe=>Q2(fe,w.loaderData)))||N.key}function it(N,j){if(k&&D){let Y=Ve(N,j);k[Y]=D()}}function pt(N,j){if(k){let Y=Ve(N,j),fe=k[Y];if(typeof fe=="number")return fe}return null}function Lt(N,j,Y){if(n.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:pc(j,Y,g,!0)}}else return{active:!0,matches:pc(j,Y,g,!0)||[]};return{active:!1,matches:null}}async function qt(N,j,Y,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:N};let ge=N;for(;;){let Re=p==null,Ee=p||d,_e=c;try{await n.patchRoutesOnNavigation({signal:Y,path:j,matches:ge,fetcherKey:fe,patch:(ke,Oe)=>{Y.aborted||jE(ke,Oe,Ee,_e,l,!1)}})}catch(ke){return{type:"error",error:ke,partialMatches:ge}}finally{Re&&!Y.aborted&&(d=[...d])}if(Y.aborted)return{type:"aborted"};let be=Rs(Ee,j,g),De=null;if(be){if(Object.keys(be[0].params).length===0)return{type:"success",matches:be};if(De=pc(Ee,j,g,!0),!(De&&ge.length<De.length&&wt(ge,De.slice(0,ge.length))))return{type:"success",matches:be}}if(De||(De=pc(Ee,j,g,!0)),!De||wt(ge,De))return{type:"success",matches:null};ge=De}}function wt(N,j){return N.length===j.length&&N.every((Y,fe)=>Y.route.id===j[fe].route.id)}function or(N){c={},p=Mc(N,l,void 0,c)}function nn(N,j,Y=!1){let fe=p==null;jE(N,j,p||d,c,l,Y),fe&&(d=[...d],Vt({}))}return x={get basename(){return g},get future(){return b},get state(){return w},get routes(){return d},get window(){return e},initialize:kn,subscribe:xr,enableScrollRestoration:$n,navigate:$r,fetch:ja,revalidate:fi,createHref:N=>n.history.createHref(N),encodeLocation:N=>n.history.encodeLocation(N),getFetcher:Ba,resetFetcher:Yr,deleteFetcher:jt,dispose:Vn,getBlocker:ta,deleteBlocker:Nr,patchRoutes:nn,_internalFetchControllers:de,_internalSetRoutes:or,_internalSetStateDoNotUseOrYouWillBreakYourApp(N){Vt(N)}},n.unstable_instrumentations&&(x=hx(x,n.unstable_instrumentations.map(N=>N.router).filter(Boolean))),x}function wx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function zg(n,e,t,i,s,l){let c,d;if(s){c=[];for(let g of e)if(c.push(g),g.route.id===s){d=g;break}}else c=e,d=e[e.length-1];let p=$c(i||".",Pd(c),ui(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&d){let g=Ay(p.search);if(d.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let v=new URLSearchParams(p.search),b=v.getAll("index");v.delete("index"),b.filter(S=>S).forEach(S=>v.append("index",S));let T=v.toString();p.search=T?`?${T}`:""}}return t!=="/"&&(p.pathname=ax({basename:t,pathname:p.pathname})),Yi(p)}function UE(n,e,t){if(!t||!wx(t))return{path:e};if(t.formMethod&&!Fx(t.formMethod))return{path:e,error:oi(405,{method:t.formMethod})};let i=()=>({path:e,error:oi(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=M1(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!er(l))return i();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((T,[S,k])=>`${T}${S}=${k}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!er(l))return i();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return i()}}}tt(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Bg(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Bg(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=GE(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=GE(d)}catch{return i()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(er(g.formMethod))return{path:e,submission:g};let v=La(e);return n&&v.search&&Ay(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Yi(v),submission:g}}function zE(n,e,t,i,s,l,c,d,p,g,v,b,T,S,k,M,D,$,W,J,ce){var Fe;let se=J?Hr(J[1])?J[1].error:J[1].data:void 0,pe=s.createURL(l.location),x=s.createURL(p),w;if(v&&l.errors){let H=Object.keys(l.errors)[0];w=c.findIndex(oe=>oe.route.id===H)}else if(J&&Hr(J[1])){let H=J[0];w=c.findIndex(oe=>oe.route.id===H)-1}let C=J?J[1].statusCode:void 0,I=C&&C>=400,U={currentUrl:pe,currentParams:((Fe=l.matches[0])==null?void 0:Fe.params)||{},nextUrl:x,nextParams:c[0].params,...d,actionResult:se,actionStatus:C},P=Xc(c),O=c.map((H,oe)=>{let{route:Te}=H,de=null;if(w!=null&&oe>w)de=!1;else if(Te.lazy)de=!0;else if(!wy(Te))de=!1;else if(v){let{shouldLoad:te}=C1(Te,l.loaderData,l.errors);de=te}else Sx(l.loaderData,l.matches[oe],H)&&(de=!0);if(de!==null)return jg(t,i,n,P,H,g,e,de);let Ce=!1;typeof ce=="boolean"?Ce=ce:I?Ce=!1:(b||pe.pathname+pe.search===x.pathname+x.search||pe.search!==x.search||Ax(l.matches[oe],H))&&(Ce=!0);let L={...U,defaultShouldRevalidate:Ce},G=Tc(H,L);return jg(t,i,n,P,H,g,e,G,L,ce)}),Pe=[];return k.forEach((H,oe)=>{if(v||!c.some(we=>we.route.id===H.routeId)||S.has(oe))return;let Te=l.fetchers.get(oe),de=Te&&Te.state!=="idle"&&Te.data===void 0,Ce=Rs(D,H.path,$);if(!Ce){if(W&&de)return;Pe.push({key:oe,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(M.has(oe))return;let L=Xf(Ce,H.path),G=new AbortController,te=Pl(s,H.path,G.signal),me=null;if(T.has(oe))T.delete(oe),me=jl(t,i,te,Ce,L,g,e);else if(de)b&&(me=jl(t,i,te,Ce,L,g,e));else{let we;typeof ce=="boolean"?we=ce:I?we=!1:we=b;let Me={...U,defaultShouldRevalidate:we};Tc(L,Me)&&(me=jl(t,i,te,Ce,L,g,e,Me))}me&&Pe.push({key:oe,routeId:H.routeId,path:H.path,matches:me,match:L,request:te,controller:G})}),{dsMatches:O,revalidatingFetchers:Pe}}function wy(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function C1(n,e,t){if(n.lazy)return{shouldLoad:!0,renderFallback:!0};if(!wy(n))return{shouldLoad:!1,renderFallback:!1};let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;if(!i&&s)return{shouldLoad:!1,renderFallback:!1};if(typeof n.loader=="function"&&n.loader.hydrate===!0)return{shouldLoad:!0,renderFallback:!i};let l=!i&&!s;return{shouldLoad:l,renderFallback:l}}function Sx(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function Ax(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Tc(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function jE(n,e,t,i,s,l){let c;if(n){let g=i[n];tt(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),c=g.children}else c=t;let d=[],p=[];if(e.forEach(g=>{let v=c.find(b=>I1(g,b));v?p.push({existingRoute:v,newRoute:g}):d.push(g)}),d.length>0){let g=Mc(d,s,[n||"_","patch",String((c==null?void 0:c.length)||"0")],i);c.push(...g)}if(l&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:v,newRoute:b}=p[g],T=v,[S]=Mc([b],s,[],{},!0);Object.assign(T,{element:S.element?S.element:T.element,errorElement:S.errorElement?S.errorElement:T.errorElement,hydrateFallbackElement:S.hydrateFallbackElement?S.hydrateFallbackElement:T.hydrateFallbackElement})}}function I1(n,e){var t;return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:((t=n.children)==null?void 0:t.every((i,s)=>{var l;return(l=e.children)==null?void 0:l.some(c=>I1(i,c))}))??!1:!1}var BE=new WeakMap,x1=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(tt(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[n];if(!l)return;let c=BE.get(s);c||(c={},BE.set(s,c));let d=c[n];if(d)return d;let p=(async()=>{let g=F2(n),b=s[n]!==void 0&&n!=="hasErrorBoundary";if(g)pn(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(b)pn(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let T=await l();T!=null&&(Object.assign(s,{[n]:T}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(T=>T===void 0)&&(s.lazy=void 0))})();return c[n]=p,p},FE=new WeakMap;function Rx(n,e,t,i,s){let l=t[n.id];if(tt(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let v=FE.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let b=(async()=>{tt(typeof n.lazy=="function","No lazy route function found");let T=await n.lazy(),S={};for(let k in T){let M=T[k];if(M===void 0)continue;let D=H2(k),W=l[k]!==void 0&&k!=="hasErrorBoundary";D?pn(!D,"Route property "+k+" is not a supported property to be returned from a lazy route function. This property will be ignored."):W?pn(!W,`Route "${l.id}" has a static property "${k}" defined but its lazy function is also returning a value for this property. The lazy route property "${k}" will be ignored.`):S[k]=M}Object.assign(l,S),Object.assign(l,{...i(l),lazy:void 0})})();return FE.set(l,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let c=Object.keys(n.lazy),d=[],p;for(let v of c){if(s&&s.includes(v))continue;let b=x1({key:v,route:n,manifest:t,mapRouteProperties:i});b&&(d.push(b),v===e&&(p=b))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function qE(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,l)=>{t[e[l].route.id]=s}),t}async function Cx(n){return n.matches.some(e=>e.route.middleware)?D1(n,()=>qE(n)):qE(n)}function D1(n,e){return Ix(n,e,i=>{if(Bx(i))throw i;return i},Lx,t);function t(i,s,l){if(l)return Promise.resolve(Object.assign(l.value,{[s]:{type:"error",result:i}}));{let{matches:c}=n,d=Math.min(Math.max(c.findIndex(g=>g.route.id===s),0),Math.max(c.findIndex(g=>g.shouldCallHandler()),0)),p=Cs(c,c[d].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:i}})}}}async function Ix(n,e,t,i,s){let{matches:l,request:c,params:d,context:p,unstable_pattern:g}=n,v=l.flatMap(T=>T.route.middleware?T.route.middleware.map(S=>[T.route.id,S]):[]);return await O1({request:c,params:d,context:p,unstable_pattern:g},v,e,t,i,s)}async function O1(n,e,t,i,s,l,c=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let p=e[c];if(!p)return await t();let[g,v]=p,b,T=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");try{return b={value:await O1(n,e,t,i,s,l,c+1)},b.value}catch(S){return b={value:await l(S,g,b)},b.value}};try{let S=await v(n,T),k=S!=null?i(S):void 0;return s(k)?k:b?k??b.value:(b={value:await T()},b.value)}catch(S){return await l(S,g,b)}}function N1(n,e,t,i,s){let l=x1({key:"middleware",route:i.route,manifest:e,mapRouteProperties:n}),c=Rx(i.route,er(t.method)?"action":"loader",e,n,s);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function jg(n,e,t,i,s,l,c,d,p=null,g){let v=!1,b=N1(n,e,t,s,l);return{...s,_lazyPromises:b,shouldLoad:d,shouldRevalidateArgs:p,shouldCallHandler(T){return v=!0,p?typeof g=="boolean"?Tc(s,{...p,defaultShouldRevalidate:g}):typeof T=="boolean"?Tc(s,{...p,defaultShouldRevalidate:T}):Tc(s,p):d},resolve(T){let{lazy:S,loader:k,middleware:M}=s.route,D=v||d||T&&!er(t.method)&&(S||k),$=M&&M.length>0&&!k&&!S;return D&&(er(t.method)||!$)?Dx({request:t,unstable_pattern:i,match:s,lazyHandlerPromise:b==null?void 0:b.handler,lazyRoutePromise:b==null?void 0:b.route,handlerOverride:T,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function jl(n,e,t,i,s,l,c,d=null){return i.map(p=>p.route.id!==s.route.id?{...p,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:N1(n,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:jg(n,e,t,Xc(i),p,l,c,!0,d))}async function xx(n,e,t,i,s,l){t.some(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(t.map(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware}));let c={request:e,unstable_pattern:Xc(t),params:t[0].params,context:s,matches:t},p=await n({...c,fetcherKey:i,runClientMiddleware:g=>{let v=c;return D1(v,()=>g({...v,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>{var v,b;return[(v=g._lazyPromises)==null?void 0:v.handler,(b=g._lazyPromises)==null?void 0:b.route]}))}catch{}return p}async function Dx({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:i,lazyRoutePromise:s,handlerOverride:l,scopedContext:c}){let d,p,g=er(n.method),v=g?"action":"loader",b=T=>{let S,k=new Promise(($,W)=>S=W);p=()=>S(),n.signal.addEventListener("abort",p);let M=$=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${t.route.id}]`)):T({request:n,unstable_pattern:e,params:t.params,context:c},...$!==void 0?[$]:[]),D=(async()=>{try{return{type:"data",result:await(l?l(W=>M(W)):M())}}catch($){return{type:"error",result:$}}})();return Promise.race([D,k])};try{let T=g?t.route.action:t.route.loader;if(i||s)if(T){let S,[k]=await Promise.all([b(T).catch(M=>{S=M}),i,s]);if(S!==void 0)throw S;d=k}else{await i;let S=g?t.route.action:t.route.loader;if(S)[d]=await Promise.all([b(S),s]);else if(v==="action"){let k=new URL(n.url),M=k.pathname+k.search;throw oi(405,{method:n.method,pathname:M,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(T)d=await b(T);else{let S=new URL(n.url),k=S.pathname+S.search;throw oi(404,{pathname:k})}}catch(T){return{type:"error",result:T}}finally{p&&n.signal.removeEventListener("abort",p)}return d}async function Ox(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function Nx(n){var i,s,l,c,d;let{result:e,type:t}=n;if(Sy(e)){let p;try{p=await Ox(e)}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Yc(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?YE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:Vx(e),statusCode:Pc(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Pc(e)?e.status:void 0}:YE(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Mx(n,e,t,i,s){let l=n.headers.get("Location");if(tt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ty(l)){let c=i.slice(0,i.findIndex(d=>d.route.id===t)+1);l=zg(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function HE(n,e,t,i){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Ty(n)){let l=n,c=l.startsWith("//")?new URL(e.protocol+l):new URL(l);if(s.includes(c.protocol))throw new Error("Invalid redirect location");let d=ui(c.pathname,t)!=null;if(c.origin===e.origin&&d)return c.pathname+c.search+c.hash}try{let l=i.createURL(n);if(s.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return n}function Pl(n,e,t,i){let s=n.createURL(M1(e)).toString(),l={signal:t};if(i&&er(i.formMethod)){let{formMethod:c,formEncType:d}=i;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=Bg(i.formData):l.body=i.formData}return new Request(s,l)}function Bg(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function GE(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function Px(n,e,t,i=!1,s=!1){let l={},c=null,d,p=!1,g={},v=t&&Hr(t[1])?t[1].error:void 0;return n.forEach(b=>{if(!(b.route.id in e))return;let T=b.route.id,S=e[T];if(tt(!Do(S),"Cannot handle redirect results in processLoaderData"),Hr(S)){let k=S.error;if(v!==void 0&&(k=v,v=void 0),c=c||{},s)c[T]=k;else{let M=Cs(n,T);c[M.route.id]==null&&(c[M.route.id]=k)}i||(l[T]=R1),p||(p=!0,d=Pc(S.error)?S.error.status:500),S.headers&&(g[T]=S.headers)}else l[T]=S.data,S.statusCode&&S.statusCode!==200&&!p&&(d=S.statusCode),S.headers&&(g[T]=S.headers)}),v!==void 0&&t&&(c={[t[0]]:v},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function QE(n,e,t,i,s,l){let{loaderData:c,errors:d}=Px(e,t,i);return s.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:b}=p;if(b&&b.signal.aborted)return;let T=l[g];if(tt(T,"Did not find corresponding fetcher result"),Hr(T)){let S=Cs(n.matches,v==null?void 0:v.route.id);d&&d[S.route.id]||(d={...d,[S.route.id]:T.error}),n.fetchers.delete(g)}else if(Do(T))tt(!1,"Unhandled fetcher revalidation redirect");else{let S=Ca(T.data);n.fetchers.set(g,S)}}),{loaderData:c,errors:d}}function KE(n,e,t,i){let s=Object.entries(e).filter(([,l])=>l!==R1).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function $E(n){return n?Hr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Cs(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function zf(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function oi(n,{pathname:e,routeId:t,method:i,type:s,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new Yc(n||500,c,new Error(d),!0)}function jf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Do(s))return{key:i,result:s}}}function M1(n){let e=typeof n=="string"?La(n):n;return Yi({...e,hash:""})}function kx(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Vx(n){var e,t;return new Yc(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function Lx(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&Ux(t))}function Ux(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function zx(n){return Sy(n.result)&&S1.has(n.result.status)}function Hr(n){return n.type==="error"}function Do(n){return(n&&n.type)==="redirect"}function YE(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Sy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function jx(n){return S1.has(n)}function Bx(n){return Sy(n)&&jx(n.status)&&n.headers.has("Location")}function Fx(n){return vx.has(n.toUpperCase())}function er(n){return gx.has(n.toUpperCase())}function Ay(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Xf(n,e){let t=typeof e=="string"?La(e).search:e.search;if(n[n.length-1].route.index&&Ay(t||""))return n[n.length-1];let i=_1(n);return i[i.length-1]}function XE(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:l,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function pg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qx(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function uc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Hx(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ca(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Gx(n,e){try{let t=n.sessionStorage.getItem(A1);if(t){let i=JSON.parse(t);for(let[s,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function Qx(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(A1,JSON.stringify(t))}catch(i){pn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function WE(){let n,e,t=new Promise((i,s)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var $o=B.createContext(null);$o.displayName="DataRouter";var Wc=B.createContext(null);Wc.displayName="DataRouterState";var P1=B.createContext(!1);function Kx(){return B.useContext(P1)}var Ry=B.createContext({isTransitioning:!1});Ry.displayName="ViewTransition";var k1=B.createContext(new Map);k1.displayName="Fetchers";var $x=B.createContext(null);$x.displayName="Await";var Kr=B.createContext(null);Kr.displayName="Navigation";var kd=B.createContext(null);kd.displayName="Location";var Ri=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var Cy=B.createContext(null);Cy.displayName="RouteError";var V1="REACT_ROUTER_ERROR",Yx="REDIRECT",Xx="ROUTE_ERROR_RESPONSE";function Wx(n){if(n.startsWith(`${V1}:${Yx}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Jx(n){if(n.startsWith(`${V1}:${Xx}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Yc(e.status,e.statusText,e.data)}catch{}}function Zx(n,{relative:e}={}){tt(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(Kr),{hash:s,pathname:l,search:c}=Jc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ti([t,l])),i.createHref({pathname:d,search:c,hash:s})}function ou(){return B.useContext(kd)!=null}function Ji(){return tt(ou(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(kd).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U1(n){B.useContext(Kr).static||B.useLayoutEffect(n)}function Iy(){let{isDataRoute:n}=B.useContext(Ri);return n?mD():eD()}function eD(){tt(ou(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext($o),{basename:e,navigator:t}=B.useContext(Kr),{matches:i}=B.useContext(Ri),{pathname:s}=Ji(),l=JSON.stringify(Pd(i)),c=B.useRef(!1);return U1(()=>{c.current=!0}),B.useCallback((p,g={})=>{if(pn(c.current,L1),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=$c(p,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ti([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}var tD=B.createContext(null);function nD(n){let e=B.useContext(Ri).outlet;return B.useMemo(()=>e&&B.createElement(tD.Provider,{value:n},e),[e,n])}function Jc(n,{relative:e}={}){let{matches:t}=B.useContext(Ri),{pathname:i}=Ji(),s=JSON.stringify(Pd(t));return B.useMemo(()=>$c(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function rD(n,e,t){tt(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=B.useContext(Kr),{matches:s}=B.useContext(Ri),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let D=g&&g.path||"";j1(d,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=Ji(),b;b=v;let T=b.pathname||"/",S=T;if(p!=="/"){let D=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let k=Rs(n,{pathname:S});return pn(g||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),pn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),lD(k&&k.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:Ti([p,i.encodeLocation?i.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Ti([p,i.encodeLocation?i.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),s,t)}function iD(){let n=dD(),e=Pc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,c)}var aD=B.createElement(iD,null),z1=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=Jx(n.digest);t&&(n=t)}let e=n!==void 0?B.createElement(Ri.Provider,{value:this.props.routeContext},B.createElement(Cy.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?B.createElement(sD,{error:n},e):e}};z1.contextType=P1;var gg=new WeakMap;function sD({children:n,error:e}){let{basename:t}=B.useContext(Kr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Wx(e.digest);if(i){let s=gg.get(e);if(s)throw s;let l=E1(i.location,t);if(b1&&!gg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw gg.set(e,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function oD({routeContext:n,match:e,children:t}){let i=B.useContext($o);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ri.Provider,{value:n},t)}function lD(n,e=[],t){let i=t==null?void 0:t.state;if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let s=n,l=i==null?void 0:i.errors;if(l!=null){let v=s.findIndex(b=>b.route.id&&(l==null?void 0:l[b.route.id])!==void 0);tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,v+1))}let c=!1,d=-1;if(t&&i){c=i.renderFallback;for(let v=0;v<s.length;v++){let b=s[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=v),b.route.id){let{loaderData:T,errors:S}=i,k=b.route.loader&&!T.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||k){t.isStatic&&(c=!0),d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}}let p=t==null?void 0:t.onError,g=i&&p?(v,b)=>{var T,S;p(v,{location:i.location,params:((S=(T=i.matches)==null?void 0:T[0])==null?void 0:S.params)??{},unstable_pattern:Xc(i.matches),errorInfo:b})}:void 0;return s.reduceRight((v,b,T)=>{let S,k=!1,M=null,D=null;i&&(S=l&&b.route.id?l[b.route.id]:void 0,M=b.route.errorElement||aD,c&&(d<0&&T===0?(j1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,D=null):d===T&&(k=!0,D=b.route.hydrateFallbackElement||null)));let $=e.concat(s.slice(0,T+1)),W=()=>{let J;return S?J=M:k?J=D:b.route.Component?J=B.createElement(b.route.Component,null):b.route.element?J=b.route.element:J=v,B.createElement(oD,{match:b,routeContext:{outlet:v,matches:$,isDataRoute:i!=null},children:J})};return i&&(b.route.ErrorBoundary||b.route.errorElement||T===0)?B.createElement(z1,{location:i.location,revalidation:i.revalidation,component:M,error:S,children:W(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):W()},null)}function xy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uD(n){let e=B.useContext($o);return tt(e,xy(n)),e}function cD(n){let e=B.useContext(Wc);return tt(e,xy(n)),e}function hD(n){let e=B.useContext(Ri);return tt(e,xy(n)),e}function Dy(n){let e=hD(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fD(){return Dy("useRouteId")}function dD(){var i;let n=B.useContext(Cy),e=cD("useRouteError"),t=Dy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function mD(){let{router:n}=uD("useNavigate"),e=Dy("useNavigate"),t=B.useRef(!1);return U1(()=>{t.current=!0}),B.useCallback(async(s,l={})=>{pn(t.current,L1),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var JE={};function j1(n,e,t){!e&&!JE[n]&&(JE[n]=!0,pn(!1,t))}var ZE={};function eT(n,e){!n&&!ZE[e]&&(ZE[e]=!0,console.warn(e))}var pD="useOptimistic",tT=TI[pD],gD=()=>{};function yD(n){return tT?tT(n):[n,gD]}function vD(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&pn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&pn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&pn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var _D=["HydrateFallback","hydrateFallbackElement"],bD=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function ED({router:n,flushSync:e,onError:t,unstable_useTransitions:i}){i=Kx()||i;let[l,c]=B.useState(n.state),[d,p]=yD(l),[g,v]=B.useState(),[b,T]=B.useState({isTransitioning:!1}),[S,k]=B.useState(),[M,D]=B.useState(),[$,W]=B.useState(),J=B.useRef(new Map),ce=B.useCallback((w,{deletedFetchers:C,newErrors:I,flushSync:U,viewTransitionOpts:P})=>{I&&t&&Object.values(I).forEach(Pe=>{var Fe;return t(Pe,{location:w.location,params:((Fe=w.matches[0])==null?void 0:Fe.params)??{},unstable_pattern:Xc(w.matches)})}),w.fetchers.forEach((Pe,Fe)=>{Pe.data!==void 0&&J.current.set(Fe,Pe.data)}),C.forEach(Pe=>J.current.delete(Pe)),eT(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(eT(P==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!O){e&&U?e(()=>c(w)):i===!1?c(w):B.startTransition(()=>{i===!0&&p(Pe=>nT(Pe,w)),c(w)});return}if(e&&U){e(()=>{M&&(S==null||S.resolve(),M.skipTransition()),T({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let Pe=n.window.document.startViewTransition(()=>{e(()=>c(w))});Pe.finished.finally(()=>{e(()=>{k(void 0),D(void 0),v(void 0),T({isTransitioning:!1})})}),e(()=>D(Pe));return}M?(S==null||S.resolve(),M.skipTransition(),W({state:w,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(v(w),T({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[n.window,e,M,S,i,p,t]);B.useLayoutEffect(()=>n.subscribe(ce),[n,ce]),B.useEffect(()=>{b.isTransitioning&&!b.flushSync&&k(new bD)},[b]),B.useEffect(()=>{if(S&&g&&n.window){let w=g,C=S.promise,I=n.window.document.startViewTransition(async()=>{i===!1?c(w):B.startTransition(()=>{i===!0&&p(U=>nT(U,w)),c(w)}),await C});I.finished.finally(()=>{k(void 0),D(void 0),v(void 0),T({isTransitioning:!1})}),D(I)}},[g,S,n.window,i,p]),B.useEffect(()=>{S&&g&&d.location.key===g.location.key&&S.resolve()},[S,M,d.location,g]),B.useEffect(()=>{!b.isTransitioning&&$&&(v($.state),T({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}),W(void 0))},[b.isTransitioning,$]);let se=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,C,I)=>n.navigate(w,{state:C,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(w,C,I)=>n.navigate(w,{replace:!0,state:C,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),pe=n.basename||"/",x=B.useMemo(()=>({router:n,navigator:se,static:!1,basename:pe,onError:t}),[n,se,pe,t]);return B.createElement(B.Fragment,null,B.createElement($o.Provider,{value:x},B.createElement(Wc.Provider,{value:d},B.createElement(k1.Provider,{value:J.current},B.createElement(Ry.Provider,{value:b},B.createElement(SD,{basename:pe,location:d.location,navigationType:d.historyAction,navigator:se,unstable_useTransitions:i},B.createElement(TD,{routes:n.routes,future:n.future,state:d,isStatic:!1,onError:t})))))),null)}function nT(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var TD=B.memo(wD);function wD({routes:n,future:e,state:t,isStatic:i,onError:s}){return rD(n,void 0,{state:t,isStatic:i,onError:s})}function kc({to:n,replace:e,state:t,relative:i}){tt(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=B.useContext(Kr);pn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=B.useContext(Ri),{pathname:c}=Ji(),d=Iy(),p=$c(n,Pd(l),c,i==="path"),g=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function Oy(n){return nD(n.context)}function SD({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){tt(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[d,s,l,c]);typeof t=="string"&&(t=La(t));let{pathname:g="/",search:v="",hash:b="",state:T=null,key:S="default",unstable_mask:k}=t,M=B.useMemo(()=>{let D=ui(g,d);return D==null?null:{location:{pathname:D,search:v,hash:b,state:T,key:S,unstable_mask:k},navigationType:i}},[d,g,v,b,T,S,i,k]);return pn(M!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:B.createElement(Kr.Provider,{value:p},B.createElement(kd.Provider,{children:e,value:M}))}var Wf="get",Jf="application/x-www-form-urlencoded";function Vd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function AD(n){return Vd(n)&&n.tagName.toLowerCase()==="button"}function RD(n){return Vd(n)&&n.tagName.toLowerCase()==="form"}function CD(n){return Vd(n)&&n.tagName.toLowerCase()==="input"}function ID(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xD(n,e){return n.button===0&&(!e||e==="_self")&&!ID(n)}var Bf=null;function DD(){if(Bf===null)try{new FormData(document.createElement("form"),0),Bf=!1}catch{Bf=!0}return Bf}var OD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yg(n){return n!=null&&!OD.has(n)?(pn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jf}"`),null):n}function ND(n,e){let t,i,s,l,c;if(RD(n)){let d=n.getAttribute("action");i=d?ui(d,e):null,t=n.getAttribute("method")||Wf,s=yg(n.getAttribute("enctype"))||Jf,l=new FormData(n)}else if(AD(n)||CD(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?ui(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Wf,s=yg(n.getAttribute("formenctype"))||yg(d.getAttribute("enctype"))||Jf,l=new FormData(d,n),!DD()){let{name:g,type:v,value:b}=n;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,b)}}else{if(Vd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wf,i=null,s=Jf,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ny(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function MD(n,e,t,i){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&ui(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function PD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function VD(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await PD(l,t);return c.links?c.links():[]}return[]}));return jD(i.flat(1).filter(kD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rT(n,e,t,i,s,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var b;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function LD(n,e,{includeHydrateFallback:t}={}){return UD(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function UD(n){return[...new Set(n)]}function zD(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function jD(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(zD(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function B1(){let n=B.useContext($o);return Ny(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function BD(){let n=B.useContext(Wc);return Ny(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var My=B.createContext(void 0);My.displayName="FrameworkContext";function F1(){let n=B.useContext(My);return Ny(n,"You must render this element inside a <HydratedRouter> element"),n}function FD(n,e){let t=B.useContext(My),[i,s]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,T=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=$=>{$.forEach(W=>{c(W.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[n]),B.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let S=()=>{s(!0)},k=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:cc(d,S),onBlur:cc(p,k),onMouseEnter:cc(g,S),onMouseLeave:cc(v,k),onTouchStart:cc(b,S)}]:[!1,T,{}]}function cc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function qD({page:n,...e}){let{router:t}=B1(),i=B.useMemo(()=>Rs(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(GD,{page:n,matches:i,...e}):null}function HD(n){let{manifest:e,routeModules:t}=F1(),[i,s]=B.useState([]);return B.useEffect(()=>{let l=!1;return VD(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function GD({page:n,matches:e,...t}){let i=Ji(),{future:s,manifest:l,routeModules:c}=F1(),{basename:d}=B1(),{loaderData:p,matches:g}=BD(),v=B.useMemo(()=>rT(n,e,g,l,i,"data"),[n,e,g,l,i]),b=B.useMemo(()=>rT(n,e,g,l,i,"assets"),[n,e,g,l,i]),T=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,D=!1;if(e.forEach(W=>{var ce;let J=l.routes[W.route.id];!J||!J.hasLoader||(!v.some(se=>se.route.id===W.route.id)&&W.route.id in p&&((ce=c[W.route.id])!=null&&ce.shouldRevalidate)||J.hasClientLoader?D=!0:M.add(W.route.id))}),M.size===0)return[];let $=MD(n,d,s.unstable_trailingSlashAwareDataRequests,"data");return D&&M.size>0&&$.searchParams.set("_routes",e.filter(W=>M.has(W.route.id)).map(W=>W.route.id).join(",")),[$.pathname+$.search]},[d,s.unstable_trailingSlashAwareDataRequests,p,i,l,v,e,n,c]),S=B.useMemo(()=>LD(b,l),[b,l]),k=HD(b);return B.createElement(B.Fragment,null,T.map(M=>B.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),S.map(M=>B.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),k.map(({key:M,link:D})=>B.createElement("link",{key:M,nonce:t.nonce,...D,crossOrigin:D.crossOrigin??t.crossOrigin})))}function QD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var KD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KD&&(window.__reactRouterVersion="7.13.1")}catch{}function $D(n,e){return Tx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:U2({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||YD(),routes:n,mapRouteProperties:vD,hydrationRouteProperties:_D,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function YD(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:XD(n.errors)}),n}function XD(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Yc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(s.message);l.stack="",t[i]=l}}else t[i]=s;return t}var q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H1=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,unstable_mask:d,state:p,target:g,to:v,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S,...k},M){let{basename:D,navigator:$,unstable_useTransitions:W}=B.useContext(Kr),J=typeof v=="string"&&q1.test(v),ce=E1(v,D);v=ce.to;let se=Zx(v,{relative:s}),pe=Ji(),x=null;if(d){let Fe=$c(d,[],pe.unstable_mask?pe.unstable_mask.pathname:"/",!0);D!=="/"&&(Fe.pathname=Fe.pathname==="/"?D:Ti([D,Fe.pathname])),x=$.createHref(Fe)}let[w,C,I]=FD(i,k),U=ZD(v,{replace:c,unstable_mask:d,state:p,target:g,preventScrollReset:b,relative:s,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:W});function P(Fe){e&&e(Fe),Fe.defaultPrevented||U(Fe)}let O=!(ce.isExternal||l),Pe=B.createElement("a",{...k,...I,href:(O?x:void 0)||ce.absoluteURL||se,onClick:O?P:e,ref:QD(M,C),target:g,"data-discover":!J&&t==="render"?"true":void 0});return w&&!J?B.createElement(B.Fragment,null,Pe,B.createElement(qD,{page:se})):Pe});H1.displayName="Link";var Fg=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let b=Jc(c,{relative:g.relative}),T=Ji(),S=B.useContext(Wc),{navigator:k,basename:M}=B.useContext(Kr),D=S!=null&&iO(b)&&d===!0,$=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,W=T.pathname,J=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(W=W.toLowerCase(),J=J?J.toLowerCase():null,$=$.toLowerCase()),J&&M&&(J=ui(J,M)||J);const ce=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let se=W===$||!s&&W.startsWith($)&&W.charAt(ce)==="/",pe=J!=null&&(J===$||!s&&J.startsWith($)&&J.charAt($.length)==="/"),x={isActive:se,isPending:pe,isTransitioning:D},w=se?e:void 0,C;typeof i=="function"?C=i(x):C=[i,se?"active":null,pe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(x):l;return B.createElement(H1,{...g,"aria-current":w,className:C,ref:v,style:I,to:c,viewTransition:d},typeof p=="function"?p(x):p)});Fg.displayName="NavLink";var WD=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=Wf,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T,...S},k)=>{let{unstable_useTransitions:M}=B.useContext(Kr),D=nO(),$=rO(d,{relative:g}),W=c.toLowerCase()==="get"?"get":"post",J=typeof d=="string"&&q1.test(d),ce=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let pe=se.nativeEvent.submitter,x=(pe==null?void 0:pe.getAttribute("formmethod"))||c,w=()=>D(pe||se.currentTarget,{fetcherKey:e,method:x,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T});M&&t!==!1?B.startTransition(()=>w()):w()};return B.createElement("form",{ref:k,method:W,action:$,onSubmit:i?p:ce,...S,"data-discover":!J&&n==="render"?"true":void 0})});WD.displayName="Form";function JD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(n){let e=B.useContext($o);return tt(e,JD(n)),e}function ZD(n,{target:e,replace:t,unstable_mask:i,state:s,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let v=Iy(),b=Ji(),T=Jc(n,{relative:c});return B.useCallback(S=>{if(xD(S,e)){S.preventDefault();let k=t!==void 0?t:Yi(b)===Yi(T),M=()=>v(n,{replace:k,unstable_mask:i,state:s,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:p});g?B.startTransition(()=>M()):M()}},[b,v,T,t,i,s,e,n,l,c,d,p,g])}var eO=0,tO=()=>`__${String(++eO)}__`;function nO(){let{router:n}=G1("useSubmit"),{basename:e}=B.useContext(Kr),t=fD(),i=n.fetch,s=n.navigate;return B.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:v,body:b}=ND(l,e);if(c.navigate===!1){let T=c.fetcherKey||tO();await i(T,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,e,t])}function rO(n,{relative:e}={}){let{basename:t}=B.useContext(Kr),i=B.useContext(Ri);tt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Jc(n||".",{relative:e})},c=Ji();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ti([t,l.pathname])),Yi(l)}function iO(n,{relative:e}={}){let t=B.useContext(Ry);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=G1("useViewTransitionState"),s=Jc(n,{relative:e});if(!t.isTransitioning)return!1;let l=ui(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ui(t.nextLocation.pathname,i)||t.nextLocation.pathname;return hd(s.pathname,c)!=null||hd(s.pathname,l)!=null}function aO(n){return B.createElement(ED,{flushSync:d1.flushSync,...n})}const sO=B.createContext(null),vg={didCatch:!1,error:null};class oO extends B.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=vg}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,i,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];(t=(i=this.props).onReset)===null||t===void 0||t.call(i,{args:l,reason:"imperative-api"}),this.setState(vg)}}componentDidCatch(e,t){var i,s;(i=(s=this.props).onError)===null||i===void 0||i.call(s,e,t)}componentDidUpdate(e,t){const{didCatch:i}=this.state,{resetKeys:s}=this.props;if(i&&t.error!==null&&lO(e.resetKeys,s)){var l,c;(l=(c=this.props).onReset)===null||l===void 0||l.call(c,{next:s,prev:e.resetKeys,reason:"keys"}),this.setState(vg)}}render(){const{children:e,fallbackRender:t,FallbackComponent:i,fallback:s}=this.props,{didCatch:l,error:c}=this.state;let d=e;if(l){const p={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")d=t(p);else if(i)d=B.createElement(i,p);else if(s!==void 0)d=s;else throw c}return B.createElement(sO.Provider,{value:{didCatch:l,error:c,resetErrorBoundary:this.resetErrorBoundary}},d)}}function lO(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,i)=>!Object.is(t,e[i]))}const uO=()=>{};var iT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},cO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},K1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,p=s+2<n.length,g=p?n[s+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,S=g&63;p||(S=64,c||(T=64)),i.push(t[v],t[b],t[T],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||g==null||b==null)throw new hO;const T=l<<2|d>>4;if(i.push(T),g!==64){const S=d<<4&240|g>>2;if(i.push(S),b!==64){const k=g<<6&192|b;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fO=function(n){const e=Q1(n);return K1.encodeByteArray(e,!0)},fd=function(n){return fO(n).replace(/\./g,"")},$1=function(n){try{return K1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=()=>dO().__FIREBASE_DEFAULTS__,pO=()=>{if(typeof process>"u"||typeof iT>"u")return;const n=iT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$1(n[1]);return e&&JSON.parse(e)},Ld=()=>{try{return uO()||mO()||pO()||gO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Y1=n=>{var e,t;return(t=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},X1=n=>{const e=Y1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},W1=()=>{var n;return(n=Ld())===null||n===void 0?void 0:n.config},J1=n=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Py(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fd(JSON.stringify(t)),fd(JSON.stringify(c)),""].join(".")}const wc={};function vO(){const n={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?n.emulator.push(e):n.prod.push(e);return n}function _O(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let aT=!1;function ky(n,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||wc[n]===e||wc[n]||aT)return;wc[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=vO().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{aT=!0,c()},T}function v(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=_O(i),S=t("text"),k=document.getElementById(S)||document.createElement("span"),M=t("learnmore"),D=document.getElementById(M)||document.createElement("a"),$=t("preprendIcon"),W=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;d(J),v(D,M);const ce=g();p(W,$),J.append(W,k,D,ce),document.body.appendChild(J)}l?(k.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rr())}function EO(){var n;const e=(n=Ld())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AO(){const n=rr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RO(){return!EO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CO(){try{return typeof indexedDB=="object"}catch{return!1}}function IO(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="FirebaseError";class Zi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=xO,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?DO(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Zi(s,d,i)}}function DO(n,e){return n.replace(OO,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const OO=/\{\$([^}]+)}/g;function NO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(sT(l)&&sT(c)){if(!Gs(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function sT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function yc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function MO(n,e){const t=new PO(n,e);return t.subscribe.bind(t)}class PO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=_g),s.error===void 0&&(s.error=_g),s.complete===void 0&&(s.complete=_g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n){return n&&n._delegate?n._delegate:n}class Qs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new yO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UO(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LO(n){return n===xo?void 0:n}function UO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ct||(ct={}));const jO={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},BO=ct.INFO,FO={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},qO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=FO[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vy{constructor(e){this.name=e,this._logLevel=BO,this._logHandler=qO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const HO=(n,e)=>e.some(t=>n instanceof t);let oT,lT;function GO(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QO(){return lT||(lT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eS=new WeakMap,qg=new WeakMap,tS=new WeakMap,bg=new WeakMap,Ly=new WeakMap;function KO(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Bs(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&eS.set(t,n)}).catch(()=>{}),Ly.set(e,n),e}function $O(n){if(qg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});qg.set(n,e)}let Hg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YO(n){Hg=n(Hg)}function XO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Eg(this),e,...t);return tS.set(i,e.sort?e.sort():[e]),Bs(i)}:QO().includes(n)?function(...e){return n.apply(Eg(this),e),Bs(eS.get(this))}:function(...e){return Bs(n.apply(Eg(this),e))}}function WO(n){return typeof n=="function"?XO(n):(n instanceof IDBTransaction&&$O(n),HO(n,GO())?new Proxy(n,Hg):n)}function Bs(n){if(n instanceof IDBRequest)return KO(n);if(bg.has(n))return bg.get(n);const e=WO(n);return e!==n&&(bg.set(n,e),Ly.set(e,n)),e}const Eg=n=>Ly.get(n);function JO(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=Bs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Bs(c.result),p.oldVersion,p.newVersion,Bs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const ZO=["get","getKey","getAll","getAllKeys","count"],eN=["put","add","delete","clear"],Tg=new Map;function uT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=eN.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||ZO.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&p.done]))[0]};return Tg.set(e,l),l}YO(n=>({...n,get:(e,t,i)=>uT(e,t)||n.get(e,t,i),has:(e,t)=>!!uT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function nN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gg="@firebase/app",cT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Vy("@firebase/app"),rN="@firebase/app-compat",iN="@firebase/analytics-compat",aN="@firebase/analytics",sN="@firebase/app-check-compat",oN="@firebase/app-check",lN="@firebase/auth",uN="@firebase/auth-compat",cN="@firebase/database",hN="@firebase/data-connect",fN="@firebase/database-compat",dN="@firebase/functions",mN="@firebase/functions-compat",pN="@firebase/installations",gN="@firebase/installations-compat",yN="@firebase/messaging",vN="@firebase/messaging-compat",_N="@firebase/performance",bN="@firebase/performance-compat",EN="@firebase/remote-config",TN="@firebase/remote-config-compat",wN="@firebase/storage",SN="@firebase/storage-compat",AN="@firebase/firestore",RN="@firebase/ai",CN="@firebase/firestore-compat",IN="firebase",xN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="[DEFAULT]",DN={[Gg]:"fire-core",[rN]:"fire-core-compat",[aN]:"fire-analytics",[iN]:"fire-analytics-compat",[oN]:"fire-app-check",[sN]:"fire-app-check-compat",[lN]:"fire-auth",[uN]:"fire-auth-compat",[cN]:"fire-rtdb",[hN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[dN]:"fire-fn",[mN]:"fire-fn-compat",[pN]:"fire-iid",[gN]:"fire-iid-compat",[yN]:"fire-fcm",[vN]:"fire-fcm-compat",[_N]:"fire-perf",[bN]:"fire-perf-compat",[EN]:"fire-rc",[TN]:"fire-rc-compat",[wN]:"fire-gcs",[SN]:"fire-gcs-compat",[AN]:"fire-fst",[CN]:"fire-fst-compat",[RN]:"fire-vertex","fire-js":"fire-js",[IN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Map,ON=new Map,Kg=new Map;function hT(n,e){try{n.container.addComponent(e)}catch(t){Ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fo(n){const e=n.name;if(Kg.has(e))return Ma.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,n);for(const t of dd.values())hT(t,n);for(const t of ON.values())hT(t,n);return!0}function Ud(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Zc("app","Firebase",NN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=xN;function nS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Qg,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Fs.create("bad-app-name",{appName:String(s)});if(t||(t=W1()),!t)throw Fs.create("no-options");const l=dd.get(s);if(l){if(Gs(t,l.options)&&Gs(i,l.config))return l;throw Fs.create("duplicate-app",{appName:s})}const c=new zO(s);for(const p of Kg.values())c.addComponent(p);const d=new MN(t,i,c);return dd.set(s,d),d}function Uy(n=Qg){const e=dd.get(n);if(!e&&n===Qg&&W1())return nS();if(!e)throw Fs.create("no-app",{appName:n});return e}function qi(n,e,t){var i;let s=(i=DN[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ma.warn(d.join(" "));return}Fo(new Qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="firebase-heartbeat-database",kN=1,Vc="firebase-heartbeat-store";let wg=null;function rS(){return wg||(wg=JO(PN,kN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fs.create("idb-open",{originalErrorMessage:n.message})})),wg}async function VN(n){try{const t=(await rS()).transaction(Vc),i=await t.objectStore(Vc).get(iS(n));return await t.done,i}catch(e){if(e instanceof Zi)Ma.warn(e.message);else{const t=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ma.warn(t.message)}}}async function fT(n,e){try{const i=(await rS()).transaction(Vc,"readwrite");await i.objectStore(Vc).put(e,iS(n)),await i.done}catch(t){if(t instanceof Zi)Ma.warn(t.message);else{const i=Fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ma.warn(i.message)}}}function iS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1024,UN=30;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=dT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>UN){const c=FN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ma.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dT(),{heartbeatsToSend:i,unsentEntries:s}=jN(this._heartbeatsCache.heartbeats),l=fd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ma.warn(t),""}}}function dT(){return new Date().toISOString().substring(0,10)}function jN(n,e=LN){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),mT(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),mT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class BN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CO()?IO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await VN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return fT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return fT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mT(n){return fd(JSON.stringify({version:2,heartbeats:n})).length}function FN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n){Fo(new Qs("platform-logger",e=>new tN(e),"PRIVATE")),Fo(new Qs("heartbeat",e=>new zN(e),"PRIVATE")),qi(Gg,cT,n),qi(Gg,cT,"esm2017"),qi("fire-js","")}qN("");var pT=function(){return pT=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},pT.apply(this,arguments)};function zy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function m6(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,l;i<s;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function aS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HN=aS,sS=new Zc("auth","Firebase",aS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Vy("@firebase/auth");function GN(n,...e){md.logLevel<=ct.WARN&&md.warn(`Auth (${Yo}): ${n}`,...e)}function Zf(n,...e){md.logLevel<=ct.ERROR&&md.error(`Auth (${Yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n,...e){throw By(n,...e)}function wi(n,...e){return By(n,...e)}function jy(n,e,t){const i=Object.assign(Object.assign({},HN()),{[e]:t});return new Zc("auth","Firebase",i).create(e,{appName:n.name})}function Oa(n){return jy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QN(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ci(n,"argument-error"),jy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function By(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return sS.create(n,...e)}function je(n,e,...t){if(!n)throw By(e,...t)}function xa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zf(e),new Error(e)}function Pa(n,e){n||xa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KN(){return gT()==="http:"||gT()==="https:"}function gT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KN()||wO()||"connection"in navigator)?navigator.onLine:!0}function YN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pa(t>e,"Short delay should be less than long delay!"),this.isMobile=bO()||SO()}get(){return $N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n,e){Pa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JN=new th(3e4,6e4);function Ua(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ea(n,e,t,i,s={}){return lS(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=eh(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return TO()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&eo(n.emulatorConfig.host)&&(g.credentials="include"),oS.fetch()(await uS(n,n.config.apiHost,t,d),g)})}async function lS(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},XN),e);try{const s=new eM(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ff(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ff(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ff(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw jy(n,v,g);ci(n,v)}}catch(s){if(s instanceof Zi)throw s;ci(n,"network-request-failed",{message:String(s)})}}async function nh(n,e,t,i,s={}){const l=await ea(n,e,t,i,s);return"mfaPendingCredential"in l&&ci(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function uS(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?Fy(n.config,s):`${n.config.apiScheme}://${s}`;return WN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function ZN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(wi(this.auth,"network-request-failed")),JN.get())})}}function Ff(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=wi(n,e,i);return s.customData._tokenResponse=t,s}function yT(n){return n!==void 0&&n.enterprise!==void 0}class tM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nM(n,e){return ea(n,"GET","/v2/recaptchaConfig",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(n,e){return ea(n,"POST","/v1/accounts:delete",e)}async function pd(n,e){return ea(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iM(n,e=!1){const t=Pt(n),i=await t.getIdToken(e),s=qy(i);je(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Sc(Sg(s.auth_time)),issuedAtTime:Sc(Sg(s.iat)),expirationTime:Sc(Sg(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Sg(n){return Number(n)*1e3}function qy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{const s=$1(t);return s?JSON.parse(s):(Zf("Failed to decode base64 JWT payload"),null)}catch(s){return Zf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function vT(n){const e=qy(n);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Zi&&aM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function aM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(n){var e;const t=n.auth,i=await n.getIdToken(),s=await eu(n,pd(t,{idToken:i}));je(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?cS(l.providerUserInfo):[],d=lM(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Yg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function oM(n){const e=Pt(n);await gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lM(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function cS(n){return n.map(e=>{var{providerId:t}=e,i=zy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(n,e){const t=await lS(n,{},async()=>{const i=eh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await uS(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&eo(n.emulatorConfig.host)&&(p.credentials="include"),oS.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cM(n,e){return ea(n,"POST","/v2/accounts:revokeToken",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){je(e.length!==0,"internal-error");const t=vT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await uM(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new Bl;return i&&(je(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(je(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return xa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n,e){je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ei{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=zy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Yg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await eu(this,this.stsTokenManager.getToken(this.auth,e));return je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iM(this,e)}reload(){return oM(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await gd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(Oa(this.auth));const e=await this.getIdToken();return await eu(this,rM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,d,p,g,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,k=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(d=t.tenantId)!==null&&d!==void 0?d:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,W=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:J,emailVerified:ce,isAnonymous:se,providerData:pe,stsTokenManager:x}=t;je(J&&x,e,"internal-error");const w=Bl.fromJSON(this.name,x);je(typeof J=="string",e,"internal-error"),Ts(b,e.name),Ts(T,e.name),je(typeof ce=="boolean",e,"internal-error"),je(typeof se=="boolean",e,"internal-error"),Ts(S,e.name),Ts(k,e.name),Ts(M,e.name),Ts(D,e.name),Ts($,e.name),Ts(W,e.name);const C=new Ei({uid:J,auth:e,email:T,emailVerified:ce,displayName:b,isAnonymous:se,photoURL:k,phoneNumber:S,tenantId:M,stsTokenManager:w,createdAt:$,lastLoginAt:W});return pe&&Array.isArray(pe)&&(C.providerData=pe.map(I=>Object.assign({},I))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,t,i=!1){const s=new Bl;s.updateFromServerResponse(t);const l=new Ei({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await gd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];je(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?cS(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new Bl;d.updateFromIdToken(i);const p=new Ei({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Yg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;function Da(n){Pa(n instanceof Function,"Expected a class definition");let e=_T.get(n);return e?(Pa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_T.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hS.type="NONE";const bT=hS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(n,e,t){return`firebase:${n}:${e}:${t}`}class Fl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=ed(this.userKey,s.apiKey,l),this.fullPersistenceKey=ed("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await pd(this.auth,{idToken:e}).catch(()=>{});return t?Ei._fromGetAccountInfoResponse(this.auth,t,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Fl(Da(bT),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||Da(bT);const c=ed(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const T=await pd(e,{idToken:v}).catch(()=>{});if(!T)break;b=await Ei._fromGetAccountInfoResponse(e,T,v)}else b=Ei._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Fl(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Fl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yS(e))return"Blackberry";if(vS(e))return"Webos";if(dS(e))return"Safari";if((e.includes("chrome/")||mS(e))&&!e.includes("edge/"))return"Chrome";if(gS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fS(n=rr()){return/firefox\//i.test(n)}function dS(n=rr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mS(n=rr()){return/crios\//i.test(n)}function pS(n=rr()){return/iemobile/i.test(n)}function gS(n=rr()){return/android/i.test(n)}function yS(n=rr()){return/blackberry/i.test(n)}function vS(n=rr()){return/webos/i.test(n)}function Hy(n=rr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hM(n=rr()){var e;return Hy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fM(){return AO()&&document.documentMode===10}function _S(n=rr()){return Hy(n)||gS(n)||vS(n)||yS(n)||/windows phone/i.test(n)||pS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n,e=[]){let t;switch(n){case"Browser":t=ET(rr());break;case"Worker":t=`${ET(rr())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(n,e={}){return ea(n,"GET","/v2/passwordPolicy",Ua(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=6;class gM{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:pM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TT(this),this.idTokenSubscription=new TT(this),this.beforeStateQueue=new dM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Da(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await pd(this,{idToken:e}),i=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(Oa(this));const t=e?Pt(e):null;return t&&je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(Oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(Oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mM(this),t=new gM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await cM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Da(e)||this._popupRedirectResolver;je(t,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[Da(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&GN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function za(n){return Pt(n)}class TT{constructor(e){this.auth=e,this.observer=null,this.addObserver=MO(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vM(n){zd=n}function ES(n){return zd.loadJS(n)}function _M(){return zd.recaptchaEnterpriseScript}function bM(){return zd.gapiScript}function EM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TM{constructor(){this.enterprise=new wM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SM="recaptcha-enterprise",TS="NO_RECAPTCHA";class AM{constructor(e){this.type=SM,this.auth=za(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{nM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new tM(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function s(l,c,d){const p=window.grecaptcha;yT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(TS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&yT(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_M();p.length!==0&&(p+=d),ES(p).then(()=>{s(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function wT(n,e,t,i=!1,s=!1){const l=new AM(n);let c;if(s)c=TS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function yd(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wT(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await wT(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n,e){const t=Ud(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Gs(l,e??{}))return s;ci(s,"already-initialized")}return t.initialize({options:e})}function CM(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Da);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function IM(n,e,t){const i=za(n);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=wS(e),{host:c,port:d}=xM(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(Gs(g,i.config.emulator)&&Gs(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,eo(c)?(Py(`${l}//${c}${p}`),ky("Auth",!0)):DM()}function wS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xM(n){const e=wS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:ST(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:ST(c)}}}function ST(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xa("not implemented")}_getIdTokenResponse(e){return xa("not implemented")}_linkToIdToken(e,t){return xa("not implemented")}_getReauthenticationResolver(e){return xa("not implemented")}}async function OM(n,e){return ea(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(n,e){return nh(n,"POST","/v1/accounts:signInWithPassword",Ua(n,e))}async function MM(n,e){return ea(n,"POST","/v1/accounts:sendOobCode",Ua(n,e))}async function PM(n,e){return MM(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(n,e){return nh(n,"POST","/v1/accounts:signInWithEmailLink",Ua(n,e))}async function VM(n,e){return nh(n,"POST","/v1/accounts:signInWithEmailLink",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Gy{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Lc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Lc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yd(e,t,"signInWithPassword",NM);case"emailLink":return kM(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yd(e,i,"signUpPassword",OM);case"emailLink":return VM(e,{idToken:t,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n,e){return nh(n,"POST","/v1/accounts:signInWithIdp",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="http://localhost";class qo extends Gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=zy(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new qo(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ql(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ql(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ql(e,t)}buildRequest(){const e={requestUri:LM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zM(n){const e=gc(yc(n)).link,t=e?gc(yc(e)).deep_link_id:null,i=gc(yc(n)).deep_link_id;return(i?gc(yc(i)).link:null)||i||t||e||n}class Qy{constructor(e){var t,i,s,l,c,d;const p=gc(yc(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,b=UM((s=p.mode)!==null&&s!==void 0?s:null);je(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=zM(e);try{return new Qy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.providerId=lu.PROVIDER_ID}static credential(e,t){return Lc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Qy.parseLink(t);return je(i,"argument-error"),Lc._fromEmailAndCode(e,i.code,i.tenantId)}}lu.PROVIDER_ID="password";lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends rh{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends rh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return xs.credential(t,i)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends rh{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends rh{constructor(){super("twitter.com")}static credential(e,t){return qo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Os.credential(t,i)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(n,e){return nh(n,"POST","/v1/accounts:signUp",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await Ei._fromIdTokenResponse(e,i,s),c=AT(i);return new Ho({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=AT(i);return new Ho({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function AT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Zi{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new vd(e,t,i,s)}}function SS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(n,l,e,i):l})}async function BM(n,e,t=!1){const i=await eu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ho._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(n,e,t=!1){const{auth:i}=n;if(Cr(i.app))return Promise.reject(Oa(i));const s="reauthenticate";try{const l=await eu(n,SS(i,s,e,n),t);je(l.idToken,i,"internal-error");const c=qy(l.idToken);je(c,i,"internal-error");const{sub:d}=c;return je(n.uid===d,i,"user-mismatch"),Ho._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ci(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(n,e,t=!1){if(Cr(n.app))return Promise.reject(Oa(n));const i="signIn",s=await SS(n,i,e),l=await Ho._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function qM(n,e){return AS(za(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RS(n){const e=za(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p6(n,e,t){const i=za(n);await yd(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",PM)}async function g6(n,e,t){if(Cr(n.app))return Promise.reject(Oa(n));const i=za(n),c=await yd(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&RS(n),p}),d=await Ho._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function y6(n,e,t){return Cr(n.app)?Promise.reject(Oa(n)):qM(Pt(n),lu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&RS(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(n,e){return ea(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Pt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await eu(i,HM(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function GM(n,e,t,i){return Pt(n).onIdTokenChanged(e,t,i)}function QM(n,e,t){return Pt(n).beforeAuthStateChanged(e,t)}function KM(n,e,t,i){return Pt(n).onAuthStateChanged(e,t,i)}function $M(n){return Pt(n).signOut()}const _d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=1e3,XM=10;class IS extends CS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);fM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,XM):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IS.type="LOCAL";const WM=IS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends CS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xS.type="SESSION";const DS=xS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new jd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await JM(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=$y("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function e4(n){Hi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function t4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function r4(){return OS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebaseLocalStorageDb",i4=1,bd="firebaseLocalStorage",MS="fbase_key";class ih{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bd(n,e){return n.transaction([bd],e?"readwrite":"readonly").objectStore(bd)}function a4(){const n=indexedDB.deleteDatabase(NS);return new ih(n).toPromise()}function Xg(){const n=indexedDB.open(NS,i4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(bd,{keyPath:MS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(bd)?e(i):(i.close(),await a4(),e(await Xg()))})})}async function RT(n,e,t){const i=Bd(n,!0).put({[MS]:e,value:t});return new ih(i).toPromise()}async function s4(n,e){const t=Bd(n,!1).get(e),i=await new ih(t).toPromise();return i===void 0?null:i.value}function CT(n,e){const t=Bd(n,!0).delete(e);return new ih(t).toPromise()}const o4=800,l4=3;class PS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>l4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(r4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await t4(),!this.activeServiceWorker)return;this.sender=new ZM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await RT(e,_d,"1"),await CT(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>RT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>s4(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Bd(s,!1).getAll();return new ih(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PS.type="LOCAL";const u4=PS;new th(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n,e){return e?Da(e):(je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy extends Gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ql(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ql(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function c4(n){return AS(n.auth,new Yy(n),n.bypassAuthState)}function h4(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),FM(t,new Yy(n),n.bypassAuthState)}async function f4(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),BM(t,new Yy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c4;case"linkViaPopup":case"linkViaRedirect":return f4;case"reauthViaPopup":case"reauthViaRedirect":return h4;default:ci(this.auth,"internal-error")}}resolve(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new th(2e3,1e4);async function _6(n,e,t){if(Cr(n.app))return Promise.reject(wi(n,"operation-not-supported-in-this-environment"));const i=za(n);QN(n,e,Ky);const s=kS(i,t);return new Oo(i,"signInViaPopup",e,s).executeNotNull()}class Oo extends VS{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Pa(this.filter.length===1,"Popup operations only handle one event");const e=$y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d4.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="pendingRedirect",td=new Map;class p4 extends VS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const i=await g4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g4(n,e){const t=_4(e),i=v4(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function y4(n,e){td.set(n._key(),e)}function v4(n){return Da(n._redirectPersistence)}function _4(n){return ed(m4,n.config.apiKey,n.name)}async function b4(n,e,t=!1){if(Cr(n.app))return Promise.reject(Oa(n));const i=za(n),s=kS(i,e),c=await new p4(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=600*1e3;class T4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!LS(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(wi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E4&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}}function IT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function LS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(n,e={}){return ea(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R4=/^https?/;async function C4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await S4(n);for(const t of e)try{if(I4(t))return}catch{}ci(n,"unauthorized-domain")}function I4(n){const e=$g(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!R4.test(t))return!1;if(A4.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=new th(3e4,6e4);function xT(){const n=Hi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function D4(n){return new Promise((e,t)=>{var i,s,l;function c(){xT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xT(),t(wi(n,"network-request-failed"))},timeout:x4.get()})}if(!((s=(i=Hi().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Hi().gapi)===null||l===void 0)&&l.load)c();else{const d=EM("iframefcb");return Hi()[d]=()=>{gapi.load?c():t(wi(n,"network-request-failed"))},ES(`${bM()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw nd=null,e})}let nd=null;function O4(n){return nd=nd||D4(n),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new th(5e3,15e3),M4="__/auth/iframe",P4="emulator/auth/iframe",k4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L4(n){const e=n.config;je(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fy(e,P4):`https://${n.config.authDomain}/${M4}`,i={apiKey:e.apiKey,appName:n.name,v:Yo},s=V4.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${eh(i).slice(1)}`}async function U4(n){const e=await O4(n),t=Hi().gapi;return je(t,n,"internal-error"),e.open({where:document.body,url:L4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k4,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=wi(n,"network-request-failed"),d=Hi().setTimeout(()=>{l(c)},N4.get());function p(){Hi().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j4=500,B4=600,F4="_blank",q4="http://localhost";class DT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H4(n,e,t,i=j4,s=B4){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},z4),{width:i.toString(),height:s.toString(),top:l,left:c}),g=rr().toLowerCase();t&&(d=mS(g)?F4:t),fS(g)&&(e=e||q4,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[S,k])=>`${T}${S}=${k},`,"");if(hM(g)&&d!=="_self")return G4(e||"",d),new DT(null);const b=window.open(e||"",d,v);je(b,n,"popup-blocked");try{b.focus()}catch{}return new DT(b)}function G4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="__/auth/handler",K4="emulator/auth/handler",$4=encodeURIComponent("fac");async function OT(n,e,t,i,s,l){je(n.config.authDomain,n,"auth-domain-config-required"),je(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Yo,eventId:s};if(e instanceof Ky){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",NO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof rh){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${$4}=${encodeURIComponent(p)}`:"";return`${Y4(n)}?${eh(d).slice(1)}${g}`}function Y4({config:n}){return n.emulator?Fy(n,K4):`https://${n.authDomain}/${Q4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="webStorageSupport";class X4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DS,this._completeRedirectFn=b4,this._overrideRedirectResult=y4}async _openPopup(e,t,i,s){var l;Pa((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await OT(e,t,i,$g(),s);return H4(e,c,$y())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await OT(e,t,i,$g(),s);return e4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Pa(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await U4(e),i=new T4(e);return t.register("authEvent",s=>(je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ag,{type:Ag},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[Ag];c!==void 0&&t(!!c),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _S()||dS()||Hy()}}const W4=X4;var NT="@firebase/auth",MT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eP(n){Fo(new Qs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bS(n)},g=new yM(i,s,l,p);return CM(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Fo(new Qs("auth-internal",e=>{const t=za(e.getProvider("auth").getImmediate());return(i=>new J4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(NT,MT,Z4(n)),qi(NT,MT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=300,nP=J1("authIdTokenMaxAge")||tP;let PT=null;const rP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>nP)return;const s=t==null?void 0:t.token;PT!==s&&(PT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iP(n=Uy()){const e=Ud(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RM(n,{popupRedirectResolver:W4,persistence:[u4,WM,DS]}),i=J1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=rP(l.toString());QM(t,c,()=>c(t.currentUser)),GM(t,d=>c(d))}}const s=Y1("auth");return s&&IM(t,`http://${s}`),t}function aP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vM({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=wi("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",aP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eP("Browser");var kT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,US;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function C(){}C.prototype=w.prototype,x.D=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(I,U,P){for(var O=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)O[Pe-2]=arguments[Pe];return w.prototype[U].apply(I,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,w,C){C||(C=0);var I=Array(16);if(typeof w=="string")for(var U=0;16>U;++U)I[U]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(U=0;16>U;++U)I[U]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],U=x.g[2];var P=x.g[3],O=w+(P^C&(U^P))+I[0]+3614090360&4294967295;w=C+(O<<7&4294967295|O>>>25),O=P+(U^w&(C^U))+I[1]+3905402710&4294967295,P=w+(O<<12&4294967295|O>>>20),O=U+(C^P&(w^C))+I[2]+606105819&4294967295,U=P+(O<<17&4294967295|O>>>15),O=C+(w^U&(P^w))+I[3]+3250441966&4294967295,C=U+(O<<22&4294967295|O>>>10),O=w+(P^C&(U^P))+I[4]+4118548399&4294967295,w=C+(O<<7&4294967295|O>>>25),O=P+(U^w&(C^U))+I[5]+1200080426&4294967295,P=w+(O<<12&4294967295|O>>>20),O=U+(C^P&(w^C))+I[6]+2821735955&4294967295,U=P+(O<<17&4294967295|O>>>15),O=C+(w^U&(P^w))+I[7]+4249261313&4294967295,C=U+(O<<22&4294967295|O>>>10),O=w+(P^C&(U^P))+I[8]+1770035416&4294967295,w=C+(O<<7&4294967295|O>>>25),O=P+(U^w&(C^U))+I[9]+2336552879&4294967295,P=w+(O<<12&4294967295|O>>>20),O=U+(C^P&(w^C))+I[10]+4294925233&4294967295,U=P+(O<<17&4294967295|O>>>15),O=C+(w^U&(P^w))+I[11]+2304563134&4294967295,C=U+(O<<22&4294967295|O>>>10),O=w+(P^C&(U^P))+I[12]+1804603682&4294967295,w=C+(O<<7&4294967295|O>>>25),O=P+(U^w&(C^U))+I[13]+4254626195&4294967295,P=w+(O<<12&4294967295|O>>>20),O=U+(C^P&(w^C))+I[14]+2792965006&4294967295,U=P+(O<<17&4294967295|O>>>15),O=C+(w^U&(P^w))+I[15]+1236535329&4294967295,C=U+(O<<22&4294967295|O>>>10),O=w+(U^P&(C^U))+I[1]+4129170786&4294967295,w=C+(O<<5&4294967295|O>>>27),O=P+(C^U&(w^C))+I[6]+3225465664&4294967295,P=w+(O<<9&4294967295|O>>>23),O=U+(w^C&(P^w))+I[11]+643717713&4294967295,U=P+(O<<14&4294967295|O>>>18),O=C+(P^w&(U^P))+I[0]+3921069994&4294967295,C=U+(O<<20&4294967295|O>>>12),O=w+(U^P&(C^U))+I[5]+3593408605&4294967295,w=C+(O<<5&4294967295|O>>>27),O=P+(C^U&(w^C))+I[10]+38016083&4294967295,P=w+(O<<9&4294967295|O>>>23),O=U+(w^C&(P^w))+I[15]+3634488961&4294967295,U=P+(O<<14&4294967295|O>>>18),O=C+(P^w&(U^P))+I[4]+3889429448&4294967295,C=U+(O<<20&4294967295|O>>>12),O=w+(U^P&(C^U))+I[9]+568446438&4294967295,w=C+(O<<5&4294967295|O>>>27),O=P+(C^U&(w^C))+I[14]+3275163606&4294967295,P=w+(O<<9&4294967295|O>>>23),O=U+(w^C&(P^w))+I[3]+4107603335&4294967295,U=P+(O<<14&4294967295|O>>>18),O=C+(P^w&(U^P))+I[8]+1163531501&4294967295,C=U+(O<<20&4294967295|O>>>12),O=w+(U^P&(C^U))+I[13]+2850285829&4294967295,w=C+(O<<5&4294967295|O>>>27),O=P+(C^U&(w^C))+I[2]+4243563512&4294967295,P=w+(O<<9&4294967295|O>>>23),O=U+(w^C&(P^w))+I[7]+1735328473&4294967295,U=P+(O<<14&4294967295|O>>>18),O=C+(P^w&(U^P))+I[12]+2368359562&4294967295,C=U+(O<<20&4294967295|O>>>12),O=w+(C^U^P)+I[5]+4294588738&4294967295,w=C+(O<<4&4294967295|O>>>28),O=P+(w^C^U)+I[8]+2272392833&4294967295,P=w+(O<<11&4294967295|O>>>21),O=U+(P^w^C)+I[11]+1839030562&4294967295,U=P+(O<<16&4294967295|O>>>16),O=C+(U^P^w)+I[14]+4259657740&4294967295,C=U+(O<<23&4294967295|O>>>9),O=w+(C^U^P)+I[1]+2763975236&4294967295,w=C+(O<<4&4294967295|O>>>28),O=P+(w^C^U)+I[4]+1272893353&4294967295,P=w+(O<<11&4294967295|O>>>21),O=U+(P^w^C)+I[7]+4139469664&4294967295,U=P+(O<<16&4294967295|O>>>16),O=C+(U^P^w)+I[10]+3200236656&4294967295,C=U+(O<<23&4294967295|O>>>9),O=w+(C^U^P)+I[13]+681279174&4294967295,w=C+(O<<4&4294967295|O>>>28),O=P+(w^C^U)+I[0]+3936430074&4294967295,P=w+(O<<11&4294967295|O>>>21),O=U+(P^w^C)+I[3]+3572445317&4294967295,U=P+(O<<16&4294967295|O>>>16),O=C+(U^P^w)+I[6]+76029189&4294967295,C=U+(O<<23&4294967295|O>>>9),O=w+(C^U^P)+I[9]+3654602809&4294967295,w=C+(O<<4&4294967295|O>>>28),O=P+(w^C^U)+I[12]+3873151461&4294967295,P=w+(O<<11&4294967295|O>>>21),O=U+(P^w^C)+I[15]+530742520&4294967295,U=P+(O<<16&4294967295|O>>>16),O=C+(U^P^w)+I[2]+3299628645&4294967295,C=U+(O<<23&4294967295|O>>>9),O=w+(U^(C|~P))+I[0]+4096336452&4294967295,w=C+(O<<6&4294967295|O>>>26),O=P+(C^(w|~U))+I[7]+1126891415&4294967295,P=w+(O<<10&4294967295|O>>>22),O=U+(w^(P|~C))+I[14]+2878612391&4294967295,U=P+(O<<15&4294967295|O>>>17),O=C+(P^(U|~w))+I[5]+4237533241&4294967295,C=U+(O<<21&4294967295|O>>>11),O=w+(U^(C|~P))+I[12]+1700485571&4294967295,w=C+(O<<6&4294967295|O>>>26),O=P+(C^(w|~U))+I[3]+2399980690&4294967295,P=w+(O<<10&4294967295|O>>>22),O=U+(w^(P|~C))+I[10]+4293915773&4294967295,U=P+(O<<15&4294967295|O>>>17),O=C+(P^(U|~w))+I[1]+2240044497&4294967295,C=U+(O<<21&4294967295|O>>>11),O=w+(U^(C|~P))+I[8]+1873313359&4294967295,w=C+(O<<6&4294967295|O>>>26),O=P+(C^(w|~U))+I[15]+4264355552&4294967295,P=w+(O<<10&4294967295|O>>>22),O=U+(w^(P|~C))+I[6]+2734768916&4294967295,U=P+(O<<15&4294967295|O>>>17),O=C+(P^(U|~w))+I[13]+1309151649&4294967295,C=U+(O<<21&4294967295|O>>>11),O=w+(U^(C|~P))+I[4]+4149444226&4294967295,w=C+(O<<6&4294967295|O>>>26),O=P+(C^(w|~U))+I[11]+3174756917&4294967295,P=w+(O<<10&4294967295|O>>>22),O=U+(w^(P|~C))+I[2]+718787259&4294967295,U=P+(O<<15&4294967295|O>>>17),O=C+(P^(U|~w))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,x.g[2]=x.g[2]+U&4294967295,x.g[3]=x.g[3]+P&4294967295}i.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var C=w-this.blockSize,I=this.B,U=this.h,P=0;P<w;){if(U==0)for(;P<=C;)s(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<w;)if(I[U++]=x.charCodeAt(P++),U==this.blockSize){s(this,I),U=0;break}}else for(;P<w;)if(I[U++]=x[P++],U==this.blockSize){s(this,I),U=0;break}}this.h=U,this.o+=w},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var C=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=C&255,C/=256;for(this.u(x),x=Array(16),w=C=0;4>w;++w)for(var I=0;32>I;I+=8)x[C++]=this.g[w]>>>I&255;return x};function l(x,w){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function c(x,w){this.h=w;for(var C=[],I=!0,U=x.length-1;0<=U;U--){var P=x[U]|0;I&&P==w||(C[U]=P,I=!1)}this.g=C}var d={};function p(x){return-128<=x&&128>x?l(x,function(w){return new c([w|0],0>w?-1:0)}):new c([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return D(g(-x));for(var w=[],C=1,I=0;x>=C;I++)w[I]=x/C|0,C*=4294967296;return new c(w,0)}function v(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return D(v(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(w,8)),I=b,U=0;U<x.length;U+=8){var P=Math.min(8,x.length-U),O=parseInt(x.substring(U,U+P),w);8>P?(P=g(Math.pow(w,P)),I=I.j(P).add(g(O))):(I=I.j(C),I=I.add(g(O)))}return I}var b=p(0),T=p(1),S=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-D(this).m();for(var x=0,w=1,C=0;C<this.g.length;C++){var I=this.i(C);x+=(0<=I?I:4294967296+I)*w,w*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if(M(this))return"-"+D(this).toString(x);for(var w=g(Math.pow(x,6)),C=this,I="";;){var U=ce(C,w).g;C=$(C,U.j(w));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=U,k(C))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function M(x){return x.h==-1}n.l=function(x){return x=$(this,x),M(x)?-1:k(x)?0:1};function D(x){for(var w=x.g.length,C=[],I=0;I<w;I++)C[I]=~x.g[I];return new c(C,~x.h).add(T)}n.abs=function(){return M(this)?D(this):this},n.add=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],I=0,U=0;U<=w;U++){var P=I+(this.i(U)&65535)+(x.i(U)&65535),O=(P>>>16)+(this.i(U)>>>16)+(x.i(U)>>>16);I=O>>>16,P&=65535,O&=65535,C[U]=O<<16|P}return new c(C,C[C.length-1]&-2147483648?-1:0)};function $(x,w){return x.add(D(w))}n.j=function(x){if(k(this)||k(x))return b;if(M(this))return M(x)?D(this).j(D(x)):D(D(this).j(x));if(M(x))return D(this.j(D(x)));if(0>this.l(S)&&0>x.l(S))return g(this.m()*x.m());for(var w=this.g.length+x.g.length,C=[],I=0;I<2*w;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var U=0;U<x.g.length;U++){var P=this.i(I)>>>16,O=this.i(I)&65535,Pe=x.i(U)>>>16,Fe=x.i(U)&65535;C[2*I+2*U]+=O*Fe,W(C,2*I+2*U),C[2*I+2*U+1]+=P*Fe,W(C,2*I+2*U+1),C[2*I+2*U+1]+=O*Pe,W(C,2*I+2*U+1),C[2*I+2*U+2]+=P*Pe,W(C,2*I+2*U+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new c(C,0)};function W(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function J(x,w){this.g=x,this.h=w}function ce(x,w){if(k(w))throw Error("division by zero");if(k(x))return new J(b,b);if(M(x))return w=ce(D(x),w),new J(D(w.g),D(w.h));if(M(w))return w=ce(x,D(w)),new J(D(w.g),w.h);if(30<x.g.length){if(M(x)||M(w))throw Error("slowDivide_ only works with positive integers.");for(var C=T,I=w;0>=I.l(x);)C=se(C),I=se(I);var U=pe(C,1),P=pe(I,1);for(I=pe(I,2),C=pe(C,2);!k(I);){var O=P.add(I);0>=O.l(x)&&(U=U.add(C),P=O),I=pe(I,1),C=pe(C,1)}return w=$(x,U.j(w)),new J(U,w)}for(U=b;0<=x.l(w);){for(C=Math.max(1,Math.floor(x.m()/w.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=g(C),O=P.j(w);M(O)||0<O.l(x);)C-=I,P=g(C),O=P.j(w);k(P)&&(P=T),U=U.add(P),x=$(x,O)}return new J(U,x)}n.A=function(x){return ce(this,x).h},n.and=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],I=0;I<w;I++)C[I]=this.i(I)&x.i(I);return new c(C,this.h&x.h)},n.or=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],I=0;I<w;I++)C[I]=this.i(I)|x.i(I);return new c(C,this.h|x.h)},n.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],I=0;I<w;I++)C[I]=this.i(I)^x.i(I);return new c(C,this.h^x.h)};function se(x){for(var w=x.g.length+1,C=[],I=0;I<w;I++)C[I]=x.i(I)<<1|x.i(I-1)>>>31;return new c(C,x.h)}function pe(x,w){var C=w>>5;w%=32;for(var I=x.g.length-C,U=[],P=0;P<I;P++)U[P]=0<w?x.i(P+C)>>>w|x.i(P+C+1)<<32-w:x.i(P+C);return new c(U,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,US=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,qs=c}).apply(typeof kT<"u"?kT:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zS,vc,jS,rd,Wg,BS,FS,qS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function s(h,y){if(y)e:{var E=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var q=h[R];if(!(q in E))break e;E=E[q]}h=h[h.length-1],R=E[h],y=y(R),y!=R&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var E=0,R=!1,q={next:function(){if(!R&&E<h.length){var ee=E++;return{value:y(ee,h[ee]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(h){return h||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,E){return h.call.apply(h.bind,arguments)}function b(h,y,E){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function T(h,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function S(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function k(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(R,q,ee){for(var ye=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)ye[Et-2]=arguments[Et];return y.prototype[q].apply(R,ye)}}function M(h){const y=h.length;if(0<y){const E=Array(y);for(let R=0;R<y;R++)E[R]=h[R];return E}return[]}function D(h,y){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(p(R)){const q=h.length||0,ee=R.length||0;h.length=q+ee;for(let ye=0;ye<ee;ye++)h[q+ye]=R[ye]}else h.push(R)}}class ${constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(h){return/^[\s\xa0]*$/.test(h)}function J(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ce(h){return ce[" "](h),h}ce[" "]=function(){};var se=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function pe(h,y,E){for(const R in h)y.call(E,h[R],R,h)}function x(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function w(h){const y={};for(const E in h)y[E]=h[E];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,y){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)h[E]=R[E];for(let ee=0;ee<C.length;ee++)E=C[ee],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function U(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function P(h){d.setTimeout(()=>{throw h},0)}function O(){var h=de;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Pe{constructor(){this.h=this.g=null}add(y,E){const R=Fe.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Fe=new $(()=>new H,h=>h.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Te=!1,de=new Pe,Ce=()=>{const h=d.Promise.resolve(void 0);oe=()=>{h.then(L)}};var L=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(E){P(E)}var y=Fe;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}Te=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var me=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return h})();function we(h,y){if(te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(se){e:{try{ce(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&we.aa.h.call(this)}}k(we,te);var Me={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),kt=0;function rt(h,y,E,R,q){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=q,this.key=++kt,this.da=this.fa=!1}function kn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Vn(h){this.src=h,this.g={},this.h=0}Vn.prototype.add=function(h,y,E,R,q){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ye=Vt(h,y,R,q);return-1<ye?(y=h[ye],E||(y.fa=!1)):(y=new rt(y,this.src,ee,!!R,q),y.fa=E,h.push(y)),y};function xr(h,y){var E=y.type;if(E in h.g){var R=h.g[E],q=Array.prototype.indexOf.call(R,y,void 0),ee;(ee=0<=q)&&Array.prototype.splice.call(R,q,1),ee&&(kn(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Vt(h,y,E,R){for(var q=0;q<h.length;++q){var ee=h[q];if(!ee.da&&ee.listener==y&&ee.capture==!!E&&ee.ha==R)return q}return-1}var gn="closure_lm_"+(1e6*Math.random()|0),$r={};function fi(h,y,E,R,q){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)fi(h,y[ee],E,R,q);return null}return E=gr(E),h&&h[Ie]?h.K(y,E,g(R)?!!R.capture:!1,q):Dr(h,y,E,!1,R,q)}function Dr(h,y,E,R,q,ee){if(!y)throw Error("Invalid event type");var ye=g(q)?!!q.capture:!!q,Et=ir(h);if(Et||(h[gn]=Et=new Vn(h)),E=Et.add(y,E,R,ye,ee),E.proxy)return E;if(R=Ci(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)me||(q=ye),q===void 0&&(q=!1),h.addEventListener(y.toString(),R,q);else if(h.attachEvent)h.attachEvent(pr(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ci(){function h(E){return y.call(h.src,h.listener,E)}const y=ja;return h}function Ii(h,y,E,R,q){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)Ii(h,y[ee],E,R,q);else R=g(R)?!!R.capture:!!R,E=gr(E),h&&h[Ie]?(h=h.i,y=String(y).toString(),y in h.g&&(ee=h.g[y],E=Vt(ee,E,R,q),-1<E&&(kn(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete h.g[y],h.h--)))):h&&(h=ir(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Vt(y,E,R,q)),(E=-1<h?y[h]:null)&&Or(E))}function Or(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ie])xr(y.i,h);else{var E=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(E,R,h.capture):y.detachEvent?y.detachEvent(pr(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=ir(y))?(xr(E,h),E.h==0&&(E.src=null,y[gn]=null)):kn(h)}}}function pr(h){return h in $r?$r[h]:$r[h]="on"+h}function ja(h,y){if(h.da)h=!0;else{y=new we(y,this);var E=h.listener,R=h.ha||h.src;h.fa&&Or(h),h=E.call(R,y)}return h}function ir(h){return h=h[gn],h instanceof Vn?h:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gr(h){return typeof h=="function"?h:(h[hn]||(h[hn]=function(y){return h.handleEvent(y)}),h[hn])}function nt(){G.call(this),this.i=new Vn(this),this.M=this,this.F=null}k(nt,G),nt.prototype[Ie]=!0,nt.prototype.removeEventListener=function(h,y,E,R){Ii(this,h,y,E,R)};function Ct(h,y){var E,R=h.F;if(R)for(E=[];R;R=R.F)E.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new te(y,h);else if(y instanceof te)y.target=y.target||h;else{var q=y;y=new te(R,h),I(y,q)}if(q=!0,E)for(var ee=E.length-1;0<=ee;ee--){var ye=y.g=E[ee];q=ar(ye,R,!0,y)&&q}if(ye=y.g=h,q=ar(ye,R,!0,y)&&q,q=ar(ye,R,!1,y)&&q,E)for(ee=0;ee<E.length;ee++)ye=y.g=E[ee],q=ar(ye,R,!1,y)&&q}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],R=0;R<E.length;R++)kn(E[R]);delete h.g[y],h.h--}}this.F=null},nt.prototype.K=function(h,y,E,R){return this.i.add(String(h),y,!1,E,R)},nt.prototype.L=function(h,y,E,R){return this.i.add(String(h),y,!0,E,R)};function ar(h,y,E,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,ee=0;ee<y.length;++ee){var ye=y[ee];if(ye&&!ye.da&&ye.capture==E){var Et=ye.listener,vn=ye.ha||ye.src;ye.fa&&xr(h.i,ye),q=Et.call(vn,R)!==!1&&q}}return q&&!R.defaultPrevented}function Qn(h,y,E){if(typeof h=="function")E&&(h=T(h,E));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function yn(h){h.g=Qn(()=>{h.g=null,h.i&&(h.i=!1,yn(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ba extends G{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(h){G.call(this),this.h=h,this.g={}}k(Yr,G);var Kn=[];function jt(h){pe(h.g,function(y,E){this.g.hasOwnProperty(E)&&Or(y)},h),h.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),jt(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=d.JSON.stringify,Ft=d.JSON.parse,Fa=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function xi(){}xi.prototype.h=null;function ta(h){return h.h||(h.h=h.i())}function Nr(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){te.call(this,"d")}k(sr,te);function Wt(){te.call(this,"c")}k(Wt,te);var $n={},Ve=null;function it(){return Ve=Ve||new nt}$n.La="serverreachability";function pt(h){te.call(this,$n.La,h)}k(pt,te);function Lt(h){const y=it();Ct(y,new pt(y))}$n.STAT_EVENT="statevent";function qt(h,y){te.call(this,$n.STAT_EVENT,h),this.stat=y}k(qt,te);function wt(h){const y=it();Ct(y,new qt(y,h))}$n.Ma="timingevent";function or(h,y){te.call(this,$n.Ma,h),this.size=y}k(or,te);function nn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function N(){this.g=!0}N.prototype.xa=function(){this.g=!1};function j(h,y,E,R,q,ee){h.info(function(){if(h.g)if(ee)for(var ye="",Et=ee.split("&"),vn=0;vn<Et.length;vn++){var Ze=Et[vn].split("=");if(1<Ze.length){var Dn=Ze[0];Ze=Ze[1];var On=Dn.split("_");ye=2<=On.length&&On[1]=="type"?ye+(Dn+"="+Ze+"&"):ye+(Dn+"=redacted&")}}else ye=null;else ye=ee;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+y+`
`+E+`
`+ye})}function Y(h,y,E,R,q,ee,ye){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+y+`
`+E+`
`+ee+" "+ye})}function fe(h,y,E,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Re(h,E)+(R?" "+R:"")})}function ge(h,y){h.info(function(){return"TIMEOUT: "+y})}N.prototype.info=function(){};function Re(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var R=E[h];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var ee=q[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ye=1;ye<q.length;ye++)q[ye]=""}}}}return Bt(E)}catch{return y}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},be;function De(){}k(De,xi),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},be=new De;function ke(h,y,E,R){this.j=h,this.i=y,this.l=E,this.R=R||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}var Ge={},Qe={};function _t(h,y,E){h.L=1,h.v=so(rn(y)),h.m=E,h.P=!0,It(h,null)}function It(h,y){h.F=Date.now(),Jt(h),h.A=rn(h.v);var E=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),sa(E.i,"t",R),h.C=0,E=h.j.J,h.h=new Oe,h.g=Ih(h.j,E?y:null,!h.m),0<h.O&&(h.M=new Ba(T(h.Y,h,h.g),h.O)),y=h.U,E=h.g,R=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Kn[0]=q.toString()),q=Kn);for(var ee=0;ee<q.length;ee++){var ye=fi(E,q[ee],R||y.handleEvent,!1,y.h||y);if(!ye)break;y.g[ye.key]=ye}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Lt(),j(h.i,h.u,h.A,h.l,h.R,h.m)}ke.prototype.ca=function(h){h=h.target;const y=this.M;y&&lr(h)==3?y.j():this.Y(h)},ke.prototype.Y=function(h){try{if(h==this.g)e:{const On=lr(this.g);var y=this.g.Ba();const Za=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||uo(this.g)))){this.J||On!=4||y==7||(y==8||0>=Za?Lt(3):Lt(2)),Xr(this);var E=this.g.Z();this.X=E;t:if(Ht(this)){var R=uo(this.g);h="";var q=R.length,ee=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Un(this);var ye="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(R[y],{stream:!(ee&&y==q-1)});R.length=0,this.h.g+=h,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=E==200,Y(this.i,this.u,this.A,this.l,this.R,On,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,vn=this.g;if((Et=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Et)){var Ze=Et;break t}}Ze=null}if(E=Ze)fe(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yr(this,E);else{this.o=!1,this.s=3,wt(12),Ut(this),Un(this);break e}}if(this.P){E=!0;let _r;for(;!this.J&&this.C<ye.length;)if(_r=ot(this,ye),_r==Qe){On==4&&(this.s=4,wt(14),E=!1),fe(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Ge){this.s=4,wt(15),fe(this.i,this.l,ye,"[Invalid Chunk]"),E=!1;break}else fe(this.i,this.l,_r,null),yr(this,_r);if(Ht(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||ye.length!=0||this.h.h||(this.s=1,wt(16),E=!1),this.o=this.o&&E,!E)fe(this.i,this.l,ye,"[Invalid Chunked Response]"),Ut(this),Un(this);else if(0<ye.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),wu(Dn),Dn.M=!0,wt(11))}}else fe(this.i,this.l,ye,null),yr(this,ye);On==4&&Ut(this),this.o&&!this.J&&(On==4?Ah(this.j,this):(this.o=!1,Jt(this)))}else _h(this.g),E==400&&0<ye.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Ut(this),Un(this)}}}catch{}finally{}};function Ht(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ot(h,y){var E=h.C,R=y.indexOf(`
`,E);return R==-1?Qe:(E=Number(y.substring(E,R)),isNaN(E)?Ge:(R+=1,R+E>y.length?Qe:(y=y.slice(R,R+E),h.C=R+E,y)))}ke.prototype.cancel=function(){this.J=!0,Ut(this)};function Jt(h){h.S=Date.now()+h.I,St(h,h.I)}function St(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=nn(T(h.ba,h),y)}function Xr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ke.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ge(this.i,this.A),this.L!=2&&(Lt(),wt(17)),Ut(this),this.s=2,Un(this)):St(this,this.S-h)};function Un(h){h.j.G==0||h.J||Ah(h.j,h)}function Ut(h){Xr(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,jt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function yr(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||Ye(E.h,h))){if(!h.K&&Ye(E.h,h)&&E.G==3){try{var R=E.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Wa(E),Xa(E);else break e;Tu(E),wt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=nn(T(E.Za,E),6e3));if(1>=ra(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else la(E,11)}else if((h.K||E.g==h)&&Wa(E),!W(y))for(q=E.Da.g.parse(y),y=0;y<q.length;y++){let Ze=q[y];if(E.T=Ze[0],Ze=Ze[1],E.G==2)if(Ze[0]=="c"){E.K=Ze[1],E.ia=Ze[2];const Dn=Ze[3];Dn!=null&&(E.la=Dn,E.j.info("VER="+E.la));const On=Ze[4];On!=null&&(E.Aa=On,E.j.info("SVER="+E.Aa));const Za=Ze[5];Za!=null&&typeof Za=="number"&&0<Za&&(R=1.5*Za,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const _r=h.g;if(_r){const fo=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fo){var ee=R.h;ee.g||fo.indexOf("spdy")==-1&&fo.indexOf("quic")==-1&&fo.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Gt(ee,ee.h),ee.h=null))}if(R.D){const ua=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(R.ya=ua,gt(R.I,R.D,ua))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ye=h;if(R.qa=Ch(R,R.J?R.ia:null,R.W),ye.K){Rn(R.h,ye);var Et=ye,vn=R.L;vn&&(Et.I=vn),Et.B&&(Xr(Et),Jt(Et)),R.g=ye}else wh(R);0<E.i.length&&il(E)}else Ze[0]!="stop"&&Ze[0]!="close"||la(E,7);else E.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?la(E,7):bu(E):Ze[0]!="noop"&&E.l&&E.l.ta(Ze),E.v=0)}}Lt(4)}catch{}}var na=class{constructor(h,y){this.g=h,this.map=y}};function Mr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Di(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ra(h){return h.h?1:h.g?h.g.size:0}function Ye(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Gt(h,y){h.g?h.g.add(y):h.h=y}function Rn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Mr.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function en(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return M(h.i)}function Nt(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],E=h.length,R=0;R<E;R++)y.push(h[R]);return y}y=[],E=0;for(R in h)y[E++]=h[R];return y}function qa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const R in h)y[E++]=R;return y}}}function ia(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=qa(h),R=Nt(h),q=R.length,ee=0;ee<q;ee++)y.call(void 0,R[ee],E&&E[ee],h)}var io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jo(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var R=h[E].indexOf("="),q=null;if(0<=R){var ee=h[E].substring(0,R);q=h[E].substring(R+1)}else ee=h[E];y(ee,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function aa(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof aa){this.h=h.h,Ha(this,h.j),this.o=h.o,this.g=h.g,ao(this,h.s),this.l=h.l;var y=h.i,E=new Oi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Zo(this,E),this.m=h.m}else h&&(y=String(h).match(io))?(this.h=!1,Ha(this,y[1]||"",!0),this.o=Ga(y[2]||""),this.g=Ga(y[3]||"",!0),ao(this,y[4]),this.l=Ga(y[5]||"",!0),Zo(this,y[6]||"",!0),this.m=Ga(y[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}aa.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Wr(y,gu,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Wr(y,gu,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Wr(E,E.charAt(0)=="/"?yu:ph,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Wr(E,cm)),h.join("")};function rn(h){return new aa(h)}function Ha(h,y,E){h.j=E?Ga(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ao(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Zo(h,y,E){y instanceof Oi?(h.i=y,gh(h.i,h.h)):(E||(y=Wr(y,um)),h.i=new Oi(y,h.h))}function gt(h,y,E){h.i.set(y,E)}function so(h){return gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ga(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wr(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,lm),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function lm(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var gu=/[#\/\?@]/g,ph=/[#\?:]/g,yu=/[#\?]/g,um=/[#\?@]/g,cm=/#/g;function Oi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&Jo(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Oi.prototype,n.add=function(h,y){xn(this),this.i=null,h=Pr(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function el(h,y){xn(h),y=Pr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function tl(h,y){return xn(h),y=Pr(h,y),h.g.has(y)}n.forEach=function(h,y){xn(this),this.g.forEach(function(E,R){E.forEach(function(q){h.call(y,q,R,this)},this)},this)},n.na=function(){xn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let R=0;R<y.length;R++){const q=h[R];for(let ee=0;ee<q.length;ee++)E.push(y[R])}return E},n.V=function(h){xn(this);let y=[];if(typeof h=="string")tl(this,h)&&(y=y.concat(this.g.get(Pr(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},n.set=function(h,y){return xn(this),this.i=null,h=Pr(this,h),tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function sa(h,y,E){el(h,y),0<E.length&&(h.i=null,h.g.set(Pr(h,y),M(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var R=y[E];const ee=encodeURIComponent(String(R)),ye=this.V(R);for(R=0;R<ye.length;R++){var q=ee;ye[R]!==""&&(q+="="+encodeURIComponent(String(ye[R]))),h.push(q)}}return this.i=h.join("&")};function Pr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function gh(h,y){y&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(E,R){var q=R.toLowerCase();R!=q&&(el(this,R),sa(this,q,E))},h)),h.j=y}function vu(h,y){const E=new N;if(d.Image){const R=new Image;R.onload=S(vr,E,"TestLoadImage: loaded",!0,y,R),R.onerror=S(vr,E,"TestLoadImage: error",!1,y,R),R.onabort=S(vr,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=S(vr,E,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function yh(h,y){const E=new N,R=new AbortController,q=setTimeout(()=>{R.abort(),vr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(ee=>{clearTimeout(q),ee.ok?vr(E,"TestPingServer: ok",!0,y):vr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),vr(E,"TestPingServer: error",!1,y)})}function vr(h,y,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function di(){this.g=new Fa}function _u(h,y,E){const R=E||"";try{ia(h,function(q,ee){let ye=q;g(q)&&(ye=Bt(q)),y.push(R+ee+"="+encodeURIComponent(ye))})}catch(q){throw y.push(R+"type="+encodeURIComponent("_badmap")),q}}function Ni(h){this.l=h.Ub||null,this.j=h.eb||!1}k(Ni,xi),Ni.prototype.g=function(){return new kr(this.l,this.j)},Ni.prototype.i=(function(h){return function(){return h}})({});function kr(h,y){nt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(kr,nt),n=kr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Qa(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mi(this):Qa(this),this.readyState==3&&nl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Mi(this))},n.Qa=function(h){this.g&&(this.response=h,Mi(this))},n.ga=function(){this.g&&Mi(this)};function Mi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Qa(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Qa(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function oo(h){let y="";return pe(h,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Ka(h,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=oo(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):gt(h,y,E))}function Qt(h){nt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Qt,nt);var Yn=/^https?$/i,oa=["POST","PUT"];n=Qt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():be.g(),this.v=this.o?ta(this.o):ta(be),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ee){lo(this,ee);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())E.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(oa,y,void 0))||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ye]of E)this.g.setRequestHeader(ee,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rl(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){lo(this,ee)}};function lo(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,$a(h),Ya(h)}function $a(h){h.A||(h.A=!0,Ct(h,"complete"),Ct(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ct(this,"complete"),Ct(this,"abort"),Ya(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ya(this,!0)),Qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vh(this):this.bb())},n.bb=function(){vh(this)};function vh(h){if(h.h&&typeof c<"u"&&(!h.v[1]||lr(h)!=4||h.Z()!=2)){if(h.u&&lr(h)==4)Qn(h.Ea,0,h);else if(Ct(h,"readystatechange"),lr(h)==4){h.h=!1;try{const ye=h.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=ye===0){var q=String(h.D).match(io)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),R=!Yn.test(q?q.toLowerCase():"")}E=R}if(E)Ct(h,"complete"),Ct(h,"success");else{h.m=6;try{var ee=2<lr(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",$a(h)}}finally{Ya(h)}}}}function Ya(h,y){if(h.g){rl(h);const E=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ct(h,"ready");try{E.onreadystatechange=R}catch{}}}function rl(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function lr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ft(y)}};function uo(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _h(h){const y={};h=(h.g&&2<=lr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(W(h[R]))continue;var E=U(h[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=y[q]||[];y[q]=ee,ee.push(E)}x(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function co(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function bh(h){this.Aa=0,this.i=[],this.j=new N,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=co("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=co("baseRetryDelayMs",5e3,h),this.cb=co("retryDelaySeedMs",1e4,h),this.Wa=co("forwardChannelMaxRetries",2,h),this.wa=co("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(h&&h.concurrentRequestLimit),this.Da=new di,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=bh.prototype,n.la=8,n.G=1,n.connect=function(h,y,E,R){wt(0),this.W=h,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Ch(this,null,this.W),il(this)};function bu(h){if(Eh(h),h.G==3){var y=h.U++,E=rn(h.I);if(gt(E,"SID",h.K),gt(E,"RID",y),gt(E,"TYPE","terminate"),ho(h,E),y=new ke(h,h.j,y),y.L=2,y.v=so(rn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=Ih(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Jt(y)}Su(h)}function Xa(h){h.g&&(wu(h),h.g.cancel(),h.g=null)}function Eh(h){Xa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Wa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function il(h){if(!Di(h.h)&&!h.s){h.s=!0;var y=h.Ga;oe||Ce(),Te||(oe(),Te=!0),de.add(y,h),h.B=0}}function hm(h,y){return ra(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=nn(T(h.Ga,h,y),Rh(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new ke(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=w(ee),I(ee,this.S)):ee=this.S),this.m!==null||this.O||(q.H=ee,ee=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Eu(this,q,y),E=rn(this.I),gt(E,"RID",h),gt(E,"CVER",22),this.D&&gt(E,"X-HTTP-Session-Id",this.D),ho(this,E),ee&&(this.O?y="headers="+encodeURIComponent(String(oo(ee)))+"&"+y:this.m&&Ka(E,this.m,ee)),Gt(this.h,q),this.Ua&&gt(E,"TYPE","init"),this.P?(gt(E,"$req",y),gt(E,"SID","null"),q.T=!0,_t(q,E,null)):_t(q,E,y),this.G=2}}else this.G==3&&(h?Th(this,h):this.i.length==0||Di(this.h)||Th(this))};function Th(h,y){var E;y?E=y.l:E=h.U++;const R=rn(h.I);gt(R,"SID",h.K),gt(R,"RID",E),gt(R,"AID",h.T),ho(h,R),h.m&&h.o&&Ka(R,h.m,h.o),E=new ke(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Eu(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Gt(h.h,E),_t(E,R,y)}function ho(h,y){h.H&&pe(h.H,function(E,R){gt(y,R,E)}),h.l&&ia({},function(E,R){gt(y,R,E)})}function Eu(h,y,E){E=Math.min(h.i.length,E);var R=h.l?T(h.l.Na,h.l,h):null;e:{var q=h.i;let ee=-1;for(;;){const ye=["count="+E];ee==-1?0<E?(ee=q[0].g,ye.push("ofs="+ee)):ee=0:ye.push("ofs="+ee);let Et=!0;for(let vn=0;vn<E;vn++){let Ze=q[vn].g;const Dn=q[vn].map;if(Ze-=ee,0>Ze)ee=Math.max(0,q[vn].g-100),Et=!1;else try{_u(Dn,ye,"req"+Ze+"_")}catch{R&&R(Dn)}}if(Et){R=ye.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,R}function wh(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;oe||Ce(),Te||(oe(),Te=!0),de.add(y,h),h.v=0}}function Tu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=nn(T(h.Fa,h),Rh(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=nn(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Xa(this),Sh(this))};function wu(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Sh(h){h.g=new ke(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=rn(h.qa);gt(y,"RID","rpc"),gt(y,"SID",h.K),gt(y,"AID",h.T),gt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&gt(y,"TO",h.ja),gt(y,"TYPE","xmlhttp"),ho(h,y),h.m&&h.o&&Ka(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=so(rn(y)),E.m=null,E.P=!0,It(E,h)}n.Za=function(){this.C!=null&&(this.C=null,Xa(this),Tu(this),wt(19))};function Wa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Ah(h,y){var E=null;if(h.g==y){Wa(h),wu(h),h.g=null;var R=2}else if(Ye(h.h,y))E=y.D,Rn(h.h,y),R=1;else return;if(h.G!=0){if(y.o)if(R==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;R=it(),Ct(R,new or(R,E)),il(h)}else wh(h);else if(q=y.s,q==3||q==0&&0<y.X||!(R==1&&hm(h,y)||R==2&&Tu(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),q){case 1:la(h,5);break;case 4:la(h,10);break;case 3:la(h,6);break;default:la(h,2)}}}function Rh(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function la(h,y){if(h.j.info("Error code "+y),y==2){var E=T(h.fb,h),R=h.Xa;const q=!R;R=new aa(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ha(R,"https"),so(R),q?vu(R.toString(),E):yh(R.toString(),E)}else wt(2);h.G=0,h.l&&h.l.sa(y),Su(h),Eh(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Su(h){if(h.G=0,h.ka=[],h.l){const y=en(h.h);(y.length!=0||h.i.length!=0)&&(D(h.ka,y),D(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function Ch(h,y,E){var R=E instanceof aa?rn(E):new aa(E);if(R.g!="")y&&(R.g=y+"."+R.g),ao(R,R.s);else{var q=d.location;R=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var ee=new aa(null);R&&Ha(ee,R),y&&(ee.g=y),q&&ao(ee,q),E&&(ee.l=E),R=ee}return E=h.D,y=h.ya,E&&y&&gt(R,E,y),gt(R,"VER",h.la),ho(h,R),R}function Ih(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Qt(new Ni({eb:E})):new Qt(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xh(){}n=xh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function al(){}al.prototype.g=function(h,y){return new ur(h,y)};function ur(h,y){nt.call(this),this.g=new bh(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!W(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ja(this)}k(ur,nt),ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ur.prototype.close=function(){bu(this.g)},ur.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Bt(h),h=E);y.i.push(new na(y.Ya++,h)),y.G==3&&il(y)},ur.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,ur.aa.N.call(this)};function Dh(h){sr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}k(Dh,sr);function Oh(){Wt.call(this),this.status=1}k(Oh,Wt);function Ja(h){this.g=h}k(Ja,xh),Ja.prototype.ua=function(){Ct(this.g,"a")},Ja.prototype.ta=function(h){Ct(this.g,new Dh(h))},Ja.prototype.sa=function(h){Ct(this.g,new Oh)},Ja.prototype.ra=function(){Ct(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,ur.prototype.send=ur.prototype.o,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,qS=function(){return new al},FS=function(){return it()},BS=$n,Wg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,rd=Ee,_e.COMPLETE="complete",jS=_e,Nr.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",nt.prototype.listen=nt.prototype.K,vc=Nr,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,zS=Qt}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const VT="@firebase/firestore",LT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Vy("@firebase/firestore");function kl(){return Go.logLevel}function Ae(n,...e){if(Go.logLevel<=ct.DEBUG){const t=e.map(Xy);Go.debug(`Firestore (${uu}): ${n}`,...t)}}function ka(n,...e){if(Go.logLevel<=ct.ERROR){const t=e.map(Xy);Go.error(`Firestore (${uu}): ${n}`,...t)}}function Ks(n,...e){if(Go.logLevel<=ct.WARN){const t=e.map(Xy);Go.warn(`Firestore (${uu}): ${n}`,...t)}}function Xy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,HS(n,i,t)}function HS(n,e,t){let i=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ka(i),new Error(i)}function Tt(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||HS(e,s,i)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tr.UNAUTHENTICATED)))}shutdown(){}}class oP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lP{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Tt(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Na,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Na)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt(typeof i.accessToken=="string",31837,{l:i}),new GS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new tr(e)}}class uP{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cP{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new uP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Tt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const s=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new UT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=fP(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function et(n,e){return n<e?-1:n>e?1:0}function Jg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return et(i,s);{const l=QS(),c=dP(l.encode(zT(n,t)),l.encode(zT(e,t)));return c!==0?c:et(i,s)}}t+=i>65535?2:1}return et(n.length,e.length)}function zT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function dP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return et(n[t],e[t]);return et(n.length,e.length)}function tu(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="__name__";class Ui{constructor(e,t,i){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Be(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Ui.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return et(e.length,t.length)}static compareSegments(e,t){const i=Ui.isNumericId(e),s=Ui.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Ui.extractNumericId(e).compare(Ui.extractNumericId(t)):Jg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class zt extends Ui{construct(e,t,i){return new zt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new zt(t)}static emptyPath(){return new zt([])}}const mP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Ui{construct(e,t,i){return new Hn(e,t,i)}static isValidIdentifier(e){return mP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jT}static keyField(){return new Hn([jT])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Se(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new Se(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(zt.fromString(e))}static fromName(e){return new Ue(zt.fromString(e).popFirst(5))}static empty(){return new Ue(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,e,t){if(!t)throw new Se(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pP(n,e,t,i){if(e===!0&&i===!0)throw new Se(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function BT(n){if(!Ue.isDocumentKey(n))throw new Se(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FT(n){if(Ue.isDocumentKey(n))throw new Se(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $S(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function dr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fd(n);throw new Se(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n,e){const t={typeString:n};return e&&(t.value=e),t}function ah(n,e){if(!$S(n))throw new Se(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new Se(ae.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=-62135596800,HT=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*HT);return new Xt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qT)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HT}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ah(e,Xt._jsonSchema))return new Xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xt._jsonSchemaVersion="firestore/timestamp/1.0",Xt._jsonSchema={type:An("string",Xt._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Xt(0,0))}static max(){return new He(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=-1;function gP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=He.fromTimestamp(i===1e9?new Xt(t+1,0):new Xt(t,i));return new $s(s,Ue.empty(),e)}function yP(n){return new $s(n.readTime,n.key,Uc)}class $s{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $s(He.min(),Ue.empty(),Uc)}static max(){return new $s(He.max(),Ue.empty(),Uc)}}function vP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:et(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==_P)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,i)=>{t(e)}))}static reject(e){return new ue(((t,i)=>{i(e)}))}static waitFor(e){return new ue(((t,i)=>{let s=0,l=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&t()}),(p=>i(p)))})),c=!0,l===s&&t()}))}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next((s=>s?ue.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,l)=>{i.push(t.call(this,s,l))})),this.waitFor(i)}static mapArray(e,t){return new ue(((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>s(v)))}}))}static doWhile(e,t){return new ue(((i,s)=>{const l=()=>{e()===!0?t().next((()=>{l()}),s):i()};l()}))}}function EP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}qd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-1;function Hd(n){return n==null}function Ed(n){return n===0&&1/n==-1/0}function TP(n){return typeof n=="number"&&Number.isInteger(n)&&!Ed(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="";function wP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GT(e)),e=SP(n.get(t),e);return GT(e)}function SP(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case YS:t+="";break;default:t+=l}}return t}function GT(n){return n+YS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function to(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t){this.comparator=e,this.root=t||qn.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??qn.RED,this.left=s??qn.EMPTY,this.right=l??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new qn(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return qn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KT(this.data.getIterator())}getIteratorFrom(e){return new KT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class KT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new Gr([])}unionWith(e){let t=new In(Hn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new WS("Invalid base64 string: "+l):l}})(e);return new Gn(t)}static fromUint8Array(e){const t=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const AP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(n){if(Tt(!!n,39018),typeof n=="string"){let e=0;const t=AP.exec(n);if(Tt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mn(n.seconds),nanos:mn(n.nanos)}}function mn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xs(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="server_timestamp",ZS="__type__",eA="__previous_value__",tA="__local_write_time__";function Zy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZS])===null||t===void 0?void 0:t.stringValue)===JS}function Gd(n){const e=n.mapValue.fields[eA];return Zy(e)?Gd(e):e}function zc(n){const e=Ys(n.mapValue.fields[tA].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,i,s,l,c,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Td="(default)";class jc{constructor(e,t){this.projectId=e,this.database=t||Td}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Td}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="__type__",CP="__max__",Gf={mapValue:{}},rA="__vector__",wd="value";function Ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zy(n)?4:xP(n)?9007199254740991:IP(n)?10:11:Be(28295,{value:n})}function Xi(n,e){if(n===e)return!0;const t=Ws(n);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zc(n).isEqual(zc(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Ys(s.timestampValue),d=Ys(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,l){return Xs(s.bytesValue).isEqual(Xs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,l){return mn(s.geoPointValue.latitude)===mn(l.geoPointValue.latitude)&&mn(s.geoPointValue.longitude)===mn(l.geoPointValue.longitude)})(n,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return mn(s.integerValue)===mn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=mn(s.doubleValue),d=mn(l.doubleValue);return c===d?Ed(c)===Ed(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return tu(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(QT(c)!==QT(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Xi(c[p],d[p])))return!1;return!0})(n,e);default:return Be(52216,{left:n})}}function Bc(n,e){return(n.values||[]).find((t=>Xi(t,e)))!==void 0}function nu(n,e){if(n===e)return 0;const t=Ws(n),i=Ws(e);if(t!==i)return et(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=mn(l.integerValue||l.doubleValue),p=mn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return $T(n.timestampValue,e.timestampValue);case 4:return $T(zc(n),zc(e));case 5:return Jg(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=Xs(l),p=Xs(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=et(d[g],p[g]);if(v!==0)return v}return et(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=et(mn(l.latitude),mn(c.latitude));return d!==0?d:et(mn(l.longitude),mn(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return YT(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,p,g,v;const b=l.fields||{},T=c.fields||{},S=(d=b[wd])===null||d===void 0?void 0:d.arrayValue,k=(p=T[wd])===null||p===void 0?void 0:p.arrayValue,M=et(((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:YT(S,k)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Gf.mapValue&&c===Gf.mapValue)return 0;if(l===Gf.mapValue)return 1;if(c===Gf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const T=Jg(p[b],v[b]);if(T!==0)return T;const S=nu(d[p[b]],g[v[b]]);if(S!==0)return S}return et(p.length,v.length)})(n.mapValue,e.mapValue);default:throw Be(23264,{le:t})}}function $T(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return et(n,e);const t=Ys(n),i=Ys(e),s=et(t.seconds,i.seconds);return s!==0?s:et(t.nanos,i.nanos)}function YT(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=nu(t[s],i[s]);if(l)return l}return et(t.length,i.length)}function ru(n){return Zg(n)}function Zg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Ys(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Xs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ue.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=Zg(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${Zg(t.fields[c])}`;return s+"}"})(n.mapValue):Be(61005,{value:n})}function id(n){switch(Ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gd(n);return e?16+id(e):16;case 5:return 2*n.stringValue.length;case 6:return Xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,l)=>s+id(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return to(i.fields,((l,c)=>{s+=l.length+id(c)})),s})(n.mapValue);default:throw Be(13486,{value:n})}}function XT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ey(n){return!!n&&"integerValue"in n}function ev(n){return!!n&&"arrayValue"in n}function WT(n){return!!n&&"nullValue"in n}function JT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ad(n){return!!n&&"mapValue"in n}function IP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nA])===null||t===void 0?void 0:t.stringValue)===rA}function Ac(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return to(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Ac(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ac(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ad(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(t)}setAll(e){let t=Hn.emptyPath(),i={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=Ac(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());ad(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];ad(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){to(t,((s,l)=>e[s]=l));for(const s of i)delete e[s]}clone(){return new Ir(Ac(this.value))}}function iA(n){const e=[];return to(n.fields,((t,i)=>{const s=new Hn([t]);if(ad(i)){const l=iA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)})),new Gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t,i,s,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new nr(e,0,He.min(),He.min(),He.min(),Ir.empty(),0)}static newFoundDocument(e,t,i,s){return new nr(e,1,t,He.min(),i,s,0)}static newNoDocument(e,t){return new nr(e,2,t,He.min(),He.min(),Ir.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,He.min(),He.min(),Ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.position=e,this.inclusive=t}}function ZT(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=Ue.comparator(Ue.fromName(c.referenceValue),t.key):i=nu(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ew(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function DP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{}class Sn extends aA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new NP(e,t,i):t==="array-contains"?new kP(e,i):t==="in"?new VP(e,i):t==="not-in"?new LP(e,i):t==="array-contains-any"?new UP(e,i):new Sn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new MP(e,i):new PP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nu(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(nu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends aA{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Si(e,t)}matches(e){return sA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function sA(n){return n.op==="and"}function oA(n){return OP(n)&&sA(n)}function OP(n){for(const e of n.filters)if(e instanceof Si)return!1;return!0}function ty(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+ru(n.value);if(oA(n))return n.filters.map((e=>ty(e))).join(",");{const e=n.filters.map((t=>ty(t))).join(",");return`${n.op}(${e})`}}function lA(n,e){return n instanceof Sn?(function(i,s){return s instanceof Sn&&i.op===s.op&&i.field.isEqual(s.field)&&Xi(i.value,s.value)})(n,e):n instanceof Si?(function(i,s){return s instanceof Si&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((l,c,d)=>l&&lA(c,s.filters[d])),!0):!1})(n,e):void Be(19439)}function uA(n){return n instanceof Sn?(function(t){return`${t.field.canonicalString()} ${t.op} ${ru(t.value)}`})(n):n instanceof Si?(function(t){return t.op.toString()+" {"+t.getFilters().map(uA).join(" ,")+"}"})(n):"Filter"}class NP extends Sn{constructor(e,t,i){super(e,t,i),this.key=Ue.fromName(i.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class MP extends Sn{constructor(e,t){super(e,"in",t),this.keys=cA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class PP extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=cA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function cA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ue.fromName(i.referenceValue)))}class kP extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ev(t)&&Bc(t.arrayValue,this.value)}}class VP extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bc(this.value.arrayValue,t)}}class LP extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bc(this.value.arrayValue,t)}}class UP extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Bc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Pe=null}}function tw(n,e=null,t=[],i=[],s=null,l=null,c=null){return new zP(n,e,t,i,s,l,c)}function tv(n){const e=$e(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>ty(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ru(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ru(i))).join(",")),e.Pe=t}return e.Pe}function nv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ew(n.startAt,e.startAt)&&ew(n.endAt,e.endAt)}function ny(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t=null,i=[],s=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function jP(n,e,t,i,s,l,c,d){return new fu(n,e,t,i,s,l,c,d)}function Qd(n){return new fu(n)}function nw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hA(n){return n.collectionGroup!==null}function Rc(n){const e=$e(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new In(Hn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Fc(l,i))})),t.has(Hn.keyField().canonicalString())||e.Te.push(new Fc(Hn.keyField(),i))}return e.Te}function Gi(n){const e=$e(n);return e.Ie||(e.Ie=BP(e,Rc(n))),e.Ie}function BP(n,e){if(n.limitType==="F")return tw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new Fc(s.field,l)}));const t=n.endAt?new Sd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Sd(n.startAt.position,n.startAt.inclusive):null;return tw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ry(n,e){const t=n.filters.concat([e]);return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iy(n,e,t){return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kd(n,e){return nv(Gi(n),Gi(e))&&n.limitType===e.limitType}function fA(n){return`${tv(Gi(n))}|lt:${n.limitType}`}function Vl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>uA(s))).join(", ")}]`),Hd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>ru(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>ru(s))).join(",")),`Target(${i})`})(Gi(n))}; limitType=${n.limitType})`}function $d(n,e){return e.isFoundDocument()&&(function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,s){for(const l of Rc(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(c,d,p){const g=ZT(c,d,p);return c.inclusive?g<=0:g<0})(i.startAt,Rc(i),s)||i.endAt&&!(function(c,d,p){const g=ZT(c,d,p);return c.inclusive?g>=0:g>0})(i.endAt,Rc(i),s))})(n,e)}function FP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dA(n){return(e,t)=>{let i=!1;for(const s of Rc(n)){const l=qP(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function qP(n,e,t){const i=n.field.isKeyField()?Ue.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?nu(p,g):Be(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,((t,i)=>{for(const[s,l]of i)e(s,l)}))}isEmpty(){return XS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new tn(Ue.comparator);function Va(){return HP}const mA=new tn(Ue.comparator);function _c(...n){let e=mA;for(const t of n)e=e.insert(t.key,t);return e}function pA(n){let e=mA;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function No(){return Cc()}function gA(){return Cc()}function Cc(){return new Xo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const GP=new tn(Ue.comparator),QP=new In(Ue.comparator);function ht(...n){let e=QP;for(const t of n)e=e.add(t);return e}const KP=new In(et);function $P(){return KP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function yA(n){return{integerValue:""+n}}function YP(n,e){return TP(e)?yA(e):rv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function XP(n,e,t){return n instanceof qc?(function(s,l){const c={fields:{[ZS]:{stringValue:JS},[tA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Zy(l)&&(l=Gd(l)),l&&(c.fields[eA]=l),{mapValue:c}})(t,e):n instanceof iu?_A(n,e):n instanceof Hc?bA(n,e):(function(s,l){const c=vA(s,l),d=rw(c)+rw(s.Ee);return ey(c)&&ey(s.Ee)?yA(d):rv(s.serializer,d)})(n,e)}function WP(n,e,t){return n instanceof iu?_A(n,e):n instanceof Hc?bA(n,e):t}function vA(n,e){return n instanceof Ad?(function(i){return ey(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class qc extends Yd{}class iu extends Yd{constructor(e){super(),this.elements=e}}function _A(n,e){const t=EA(e);for(const i of n.elements)t.some((s=>Xi(s,i)))||t.push(i);return{arrayValue:{values:t}}}class Hc extends Yd{constructor(e){super(),this.elements=e}}function bA(n,e){let t=EA(e);for(const i of n.elements)t=t.filter((s=>!Xi(s,i)));return{arrayValue:{values:t}}}class Ad extends Yd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function rw(n){return mn(n.integerValue||n.doubleValue)}function EA(n){return ev(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.field=e,this.transform=t}}function JP(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof iu&&s instanceof iu||i instanceof Hc&&s instanceof Hc?tu(i.elements,s.elements,Xi):i instanceof Ad&&s instanceof Ad?Xi(i.Ee,s.Ee):i instanceof qc&&s instanceof qc})(n.transform,e.transform)}class ZP{constructor(e,t){this.version=e,this.transformResults=t}}class mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xd{}function wA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Wd(n.key,mr.none()):new sh(n.key,n.data,mr.none());{const t=n.data,i=Ir.empty();let s=new In(Hn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new no(n.key,i,new Gr(s.toArray()),mr.none())}}function ek(n,e,t){n instanceof sh?(function(s,l,c){const d=s.value.clone(),p=aw(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof no?(function(s,l,c){if(!sd(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=aw(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(SA(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ic(n,e,t,i){return n instanceof sh?(function(l,c,d,p){if(!sd(l.precondition,c))return d;const g=l.value.clone(),v=sw(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,i):n instanceof no?(function(l,c,d,p){if(!sd(l.precondition,c))return d;const g=sw(l.fieldTransforms,p,c),v=c.data;return v.setAll(SA(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(n,e,t,i):(function(l,c,d){return sd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function tk(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=vA(i.transform,s||null);l!=null&&(t===null&&(t=Ir.empty()),t.set(i.field,l))}return t||null}function iw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&tu(i,s,((l,c)=>JP(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sh extends Xd{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class no extends Xd{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function aw(n,e,t){const i=new Map;Tt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,WP(c,d,t[s]))}return i}function sw(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,XP(l,c,e))}return i}class Wd extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nk extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&ek(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ic(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ic(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=gA();return this.mutations.forEach((s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const p=wA(c,d);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(He.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ht())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,((t,i)=>iw(t,i)))&&tu(this.baseMutations,e.baseMutations,((t,i)=>iw(t,i)))}}class iv{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Tt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=(function(){return GP})();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new iv(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,mt;function sk(n){switch(n){case ae.OK:return Be(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function AA(n){if(n===void 0)return ka("GRPC error has no .code"),ae.UNKNOWN;switch(n){case wn.OK:return ae.OK;case wn.CANCELLED:return ae.CANCELLED;case wn.UNKNOWN:return ae.UNKNOWN;case wn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case wn.INTERNAL:return ae.INTERNAL;case wn.UNAVAILABLE:return ae.UNAVAILABLE;case wn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case wn.NOT_FOUND:return ae.NOT_FOUND;case wn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case wn.ABORTED:return ae.ABORTED;case wn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case wn.DATA_LOSS:return ae.DATA_LOSS;default:return Be(39323,{code:n})}}(mt=wn||(wn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new qs([4294967295,4294967295],0);function ow(n){const e=QS().encode(n),t=new US;return t.update(e),new Uint8Array(t.digest())}function lw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qs([t,i],0),new qs([s,l],0)]}class av{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new bc(`Invalid padding: ${t}`);if(i<0)throw new bc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new bc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=qs.fromNumber(this.fe)}pe(e,t,i){let s=e.add(t.multiply(qs.fromNumber(i)));return s.compare(ok)===1&&(s=new qs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=ow(e),[i,s]=lw(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);if(!this.ye(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new av(l,s,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.fe===0)return;const t=ow(e),[i,s]=lw(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);this.we(c)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,oh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Jd(He.min(),s,new tn(et),Va(),ht())}}class oh{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new oh(i,t,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=s}}class RA{constructor(e,t){this.targetId=e,this.De=t}}class CA{constructor(e,t,i=Gn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class uw{constructor(){this.ve=0,this.Ce=cw(),this.Fe=Gn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ht(),t=ht(),i=ht();return this.Ce.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Be(38017,{changeType:l})}})),new oh(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=cw()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class lk{constructor(e){this.We=e,this.Ge=new Map,this.ze=Va(),this.je=Qf(),this.Je=Qf(),this.He=new tn(et)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((i,s)=>{this.nt(s)&&t(s)}))}it(e){const t=e.targetId,i=e.De.count,s=this.st(t);if(s){const l=s.target;if(ny(l))if(i===0){const c=new Ue(l.path);this.Xe(t,c,nr.newNoDocument(c,He.min()))}else Tt(i===1,20013,{expectedCount:i});else{const c=this.ot(t);if(c!==i){const d=this._t(e),p=d?this.ut(d,e,c):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=Xs(i).toUint8Array()}catch(p){if(p instanceof WS)return Ks("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new av(c,s,l)}catch(p){return Ks(p instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let s=0;return i.forEach((l=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,l,null),s++)})),s}Pt(e){const t=new Map;this.Ge.forEach(((l,c)=>{const d=this.st(c);if(d){if(l.current&&ny(d.target)){const p=new Ue(d.target.path);this.Tt(p).has(c)||this.It(c,p)||this.Xe(c,p,nr.newNoDocument(p,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}}));let i=ht();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.ze.forEach(((l,c)=>c.setReadTime(e)));const s=new Jd(e,t,this.He,this.ze,i);return this.ze=Va(),this.je=Qf(),this.Je=Qf(),this.He=new tn(et),s}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new uw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new In(et),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new In(et),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new uw),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Qf(){return new tn(Ue.comparator)}function cw(){return new tn(Ue.comparator)}const uk={asc:"ASCENDING",desc:"DESCENDING"},ck={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hk={and:"AND",or:"OR"};class fk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ay(n,e){return n.useProto3Json||Hd(e)?e:{value:e}}function Rd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dk(n,e){return Rd(n,e.toTimestamp())}function Qi(n){return Tt(!!n,49232),He.fromTimestamp((function(t){const i=Ys(t);return new Xt(i.seconds,i.nanos)})(n))}function sv(n,e){return sy(n,e).canonicalString()}function sy(n,e){const t=(function(s){return new zt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function xA(n){const e=zt.fromString(n);return Tt(PA(e),10190,{key:e.toString()}),e}function oy(n,e){return sv(n.databaseId,e.path)}function Rg(n,e){const t=xA(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(OA(t))}function DA(n,e){return sv(n.databaseId,e)}function mk(n){const e=xA(n);return e.length===4?zt.emptyPath():OA(e)}function ly(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OA(n){return Tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hw(n,e,t){return{name:oy(n,e),fields:t.value.mapValue.fields}}function pk(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Tt(v===void 0||typeof v=="string",58123),Gn.fromBase64String(v||"")):(Tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Gn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ae.UNKNOWN:AA(g.code);return new Se(v,g.message||"")})(c);t=new CA(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Rg(n,i.document.name),l=Qi(i.document.updateTime),c=i.document.createTime?Qi(i.document.createTime):He.min(),d=new Ir({mapValue:{fields:i.document.fields}}),p=nr.newFoundDocument(s,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new od(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Rg(n,i.document),l=i.readTime?Qi(i.readTime):He.min(),c=nr.newNoDocument(s,l),d=i.removedTargetIds||[];t=new od([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Rg(n,i.document),l=i.removedTargetIds||[];t=new od([],l,s,null)}else{if(!("filter"in e))return Be(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new ak(s,l),d=i.targetId;t=new RA(d,c)}}return t}function gk(n,e){let t;if(e instanceof sh)t={update:hw(n,e.key,e.value)};else if(e instanceof Wd)t={delete:oy(n,e.key)};else if(e instanceof no)t={update:hw(n,e.key,e.data),updateMask:Ak(e.fieldMask)};else{if(!(e instanceof nk))return Be(16599,{Rt:e.type});t={verify:oy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof qc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Hc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ad)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Be(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:dk(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Be(27497)})(n,e.precondition)),t}function yk(n,e){return n&&n.length>0?(Tt(e!==void 0,14353),n.map((t=>(function(s,l){let c=s.updateTime?Qi(s.updateTime):Qi(l);return c.isEqual(He.min())&&(c=Qi(l)),new ZP(c,s.transformResults||[])})(t,e)))):[]}function vk(n,e){return{documents:[DA(n,e.path)]}}function _k(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=DA(n,s);const l=(function(g){if(g.length!==0)return MA(Si.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:Ll(T.field),direction:Tk(T.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=ay(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:t,parent:s}}function bk(n){let e=mk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Tt(i===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const T=NA(b);return T instanceof Si&&oA(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((T=>(function(k){return new Fc(Ul(k.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let T;return T=typeof b=="object"?b.value:b,Hd(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(b){const T=!!b.before,S=b.values||[];return new Sd(S,T)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const T=!b.before,S=b.values||[];return new Sd(S,T)})(t.endAt)),jP(e,s,c,l,d,"F",p,g)}function Ek(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ul(t.unaryFilter.field);return Sn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ul(t.unaryFilter.field);return Sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ul(t.unaryFilter.field);return Sn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ul(t.unaryFilter.field);return Sn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Sn.create(Ul(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Si.create(t.compositeFilter.filters.map((i=>NA(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(t.compositeFilter.op))})(n):Be(30097,{filter:n})}function Tk(n){return uk[n]}function wk(n){return ck[n]}function Sk(n){return hk[n]}function Ll(n){return{fieldPath:n.canonicalString()}}function Ul(n){return Hn.fromServerFormat(n.fieldPath)}function MA(n){return n instanceof Sn?(function(t){if(t.op==="=="){if(JT(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NAN"}};if(WT(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(JT(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NOT_NAN"}};if(WT(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(t.field),op:wk(t.op),value:t.value}}})(n):n instanceof Si?(function(t){const i=t.getFilters().map((s=>MA(s)));return i.length===1?i[0]:{compositeFilter:{op:Sk(t.op),filters:i}}})(n):Be(54877,{filter:n})}function Ak(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function PA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t,i,s,l=He.min(),c=He.min(),d=Gn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.gt=e}}function Ck(n){const e=bk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?iy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.Dn=new xk}addToCollectionParentIndex(e,t){return this.Dn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve($s.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class xk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new In(zt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new In(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kA=41943040;class Rr{static withCacheSize(e){return new Rr(e,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(kA,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new au(0)}static ur(){return new au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="LruGarbageCollector",Dk=1048576;function mw([n,e],[t,i]){const s=et(n,t);return s===0?et(e,i):s}class Ok{constructor(e){this.Tr=e,this.buffer=new In(mw),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();mw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Nk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ae(dw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hu(t)?Ae(dw,"Ignoring IndexedDB error during garbage collection: ",t):await cu(t)}await this.Rr(3e5)}))}}class Mk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(qd.ue);const i=new Ok(t);return this.Vr.forEachTarget(e,(s=>i.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>i.Er(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(fw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fw):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,s,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,c=Date.now(),this.nthSequenceNumber(e,s)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,t)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(g=Date.now(),kl()<=ct.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:b}))))}}function Pk(n,e){return new Mk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.changes=new Xo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&Ic(i.mutation,s,Gr.empty(),Xt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,ht()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=ht()){const s=No();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((l=>{let c=_c();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=No();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,ht())))}populateOverlays(e,t,i){const s=[];return i.forEach((l=>{t.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,s){let l=Va();const c=Cc(),d=(function(){return Cc()})();return t.forEach(((p,g)=>{const v=i.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof no)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ic(v.mutation,g,v.mutation.getFieldMask(),Xt.now())):c.set(g.key,Gr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>{var b;return d.set(g,new Vk(v,(b=c.get(g))!==null&&b!==void 0?b:null))})),d)))}recalculateAndSaveOverlays(e,t){const i=Cc();let s=new tn(((c,d)=>c-d)),l=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||Gr.empty();v=d.applyToLocalView(g,v),i.set(p,v);const b=(s.get(d.batchId)||ht()).add(p);s=s.insert(d.batchId,b)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=gA();v.forEach((T=>{if(!l.has(T)){const S=wA(t.get(T),i.get(T));S!==null&&b.set(T,S),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ue.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return(function(c){return Ue.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):ue.resolve(No());let d=Uc,p=l;return c.next((g=>ue.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{p=p.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,ht()))).next((v=>({batchId:d,changes:pA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next((i=>{let s=_c();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=_c();return this.indexManager.getCollectionParents(e,l).next((d=>ue.forEach(d,(p=>{const g=(function(b,T){return new fu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next((v=>{v.forEach(((b,T)=>{c=c.insert(b,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,nr.newInvalidDocument(v)))}));let d=_c();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Ic(v.mutation,g,Gr.empty(),Xt.now()),$d(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Qi(s.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(s){return{name:s.name,query:Ck(s.bundledQuery),readTime:Qi(s.readTime)}})(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.overlays=new tn(Ue.comparator),this.kr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=No();return ue.forEach(t,(s=>this.getOverlay(e,s).next((l=>{l!==null&&i.set(s,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,l)=>{this.wt(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.kr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const s=No(),l=t.length+1,c=new Ue(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new tn(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=No(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=No(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=s)););return ue.resolve(d)}wt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ik(t,i));let l=this.kr.get(t);l===void 0&&(l=ht(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.qr=new In(Pn.Qr),this.$r=new In(Pn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Pn(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new Pn(e,t))}Gr(e,t){e.forEach((i=>this.removeReference(i,t)))}zr(e){const t=new Ue(new zt([])),i=new Pn(t,e),s=new Pn(t,e+1),l=[];return this.$r.forEachInRange([i,s],(c=>{this.Wr(c),l.push(c.key)})),l}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ue(new zt([])),i=new Pn(t,e),s=new Pn(t,e+1);let l=ht();return this.$r.forEachInRange([i,s],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Pn(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ue.comparator(e.key,t.key)||et(e.Hr,t.Hr)}static Ur(e,t){return et(e.Hr,t.Hr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new In(Pn.Qr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rk(l,t,i,s);this.mutationQueue.push(c);for(const d of s)this.Yr=this.Yr.add(new Pn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),l=s<0?0:s;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Jy:this.er-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pn(t,0),s=new Pn(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,s],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(et);return t.forEach((s=>{const l=new Pn(s,0),c=new Pn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),ue.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;Ue.isDocumentKey(l)||(l=l.child(""));const c=new Pn(new Ue(l),0);let d=new In(et);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(p.Hr)),!0)}),c),ue.resolve(this.ei(d))}ei(e){const t=[];return e.forEach((i=>{const s=this.Zr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Tt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ue.forEach(t.mutations,(s=>{const l=new Pn(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,t){const i=new Pn(t,0),s=this.Yr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.ni=e,this.docs=(function(){return new tn(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let i=Va();return t.forEach((s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():nr.newInvalidDocument(s))})),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Va();const c=t.path,d=new Ue(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||vP(yP(v),i)<=0||(s.has(v.key)||$d(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,i,s){Be(9500)}ri(e,t){return ue.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new qk(this)}getSize(e){return ue.resolve(this.size)}}class qk extends kk{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)})),ue.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.persistence=e,this.ii=new Xo((t=>tv(t)),nv),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.si=0,this.oi=new ov,this.targetCount=0,this._i=au.ar()}forEachTarget(e,t){return this.ii.forEach(((i,s)=>t(s))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),ue.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new au(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.hr(t),ue.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.ii.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ue.waitFor(l).next((()=>s))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach((c=>{l.push(s.markPotentiallyOrphaned(e,c))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t){this.ai={},this.overlays={},this.ui=new qd(0),this.ci=!1,this.ci=!0,this.li=new jk,this.referenceDelegate=e(this),this.hi=new Hk(this),this.indexManager=new Ik,this.remoteDocumentCache=(function(s){return new Fk(s)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new Rk(t),this.Ti=new Uk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new Bk(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Ae("MemoryPersistence","Starting transaction:",e);const s=new Gk(this.ui.next());return this.referenceDelegate.Ii(),i(s).next((l=>this.referenceDelegate.di(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ei(e,t){return ue.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,t))))}}class Gk extends bP{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.Ai=new ov,this.Ri=null}static Vi(e){return new lv(e)}get mi(){if(this.Ri)return this.Ri;throw Be(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((s=>this.mi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((l=>this.mi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.mi,(i=>{const s=Ue.fromPath(i);return this.fi(e,s).next((l=>{l||t.removeEntry(s,He.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return ue.or([()=>ue.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Cd{constructor(e,t){this.persistence=e,this.gi=new Xo((i=>wP(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=Pk(this,t)}static Vi(e,t){return new Cd(e,t)}Ii(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}yr(e){let t=0;return this.gr(e,(i=>{t++})).next((()=>t))}gr(e,t){return ue.forEach(this.gi,((i,s)=>this.Sr(e,i,s).next((l=>l?ue.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ri(e,(c=>this.Sr(e,c,t).next((d=>{d||(i++,l.removeEntry(c,He.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ue.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=id(e.data.value)),t}Sr(e,t,i){return ue.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return ue.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=s}static Es(e,t){let i=ht(),s=ht();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new uv(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return RO()?8:EP(rr())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ps(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ys(e,t,s,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Qk;return this.ws(e,t,c).next((d=>{if(l.result=d,this.Rs)return this.Ss(e,t,c,d.size)}))})).next((()=>l.result))}Ss(e,t,i,s){return i.documentReadCount<this.Vs?(kl()<=ct.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(kl()<=ct.DEBUG&&Ae("QueryEngine","Query:",Vl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(kl()<=ct.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(t))):ue.resolve())}ps(e,t){if(nw(t))return ue.resolve(null);let i=Gi(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=iy(t,null,"F"),i=Gi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=ht(...l);return this.gs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.bs(t,d);return this.Ds(t,g,c,p.readTime)?this.ps(e,iy(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ys(e,t,i,s){return nw(t)||s.isEqual(He.min())?ue.resolve(null):this.gs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ds(t,c,i,s)?ue.resolve(null):(kl()<=ct.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vl(t)),this.vs(e,c,t,gP(s,Uc)).next((d=>d)))}))}bs(e,t){let i=new In(dA(e));return t.forEach(((s,l)=>{$d(e,l)&&(i=i.add(l))})),i}Ds(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ws(e,t,i){return kl()<=ct.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Vl(t)),this.gs.getDocumentsMatchingQuery(e,t,$s.min(),i)}vs(e,t,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LocalStore",$k=3e8;class Yk{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new tn(et),this.Ms=new Xo((l=>tv(l)),nv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function Xk(n,e,t,i){return new Yk(n,e,t,i)}async function LA(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((l=>(s=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=ht();for(const g of s){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((g=>({Bs:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function Wk(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const b=g.batch,T=b.keys();let S=ue.resolve();return T.forEach((k=>{S=S.next((()=>v.getEntry(p,k))).next((M=>{const D=g.docVersions.get(k);Tt(D!==null,48541),M.version.compareTo(D)<0&&(b.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),v.addEntry(M)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(p,b)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=ht();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function UA(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function Jk(n,e){const t=$e(n),i=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const d=[];e.targetChanges.forEach(((v,b)=>{const T=s.get(b);if(!T)return;d.push(t.hi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.hi.addMatchingKeys(l,v.addedDocuments,b))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(Gn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),s=s.insert(b,S),(function(M,D,$){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=$k?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(T,S,v)&&d.push(t.hi.updateTargetData(l,S))}));let p=Va(),g=ht();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(Zk(l,c,e.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!i.isEqual(He.min())){const v=t.hi.getLastRemoteSnapshotVersion(l).next((b=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ue.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Fs=s,l)))}function Zk(n,e,t){let i=ht(),s=ht();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Va();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(He.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Ae(cv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Ls:c,ks:s}}))}function eV(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Jy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function tV(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.hi.getTargetData(i,e).next((l=>l?(s=l,ue.resolve(s)):t.hi.allocateTargetId(i).next((c=>(s=new js(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i}))}async function uy(n,e,t){const i=$e(n),s=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!hu(c))throw c;Ae(cv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function pw(n,e,t){const i=$e(n);let s=He.min(),l=ht();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const b=$e(p),T=b.Ms.get(v);return T!==void 0?ue.resolve(b.Fs.get(T)):b.hi.getTargetData(g,v)})(i,c,Gi(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?s:He.min(),t?l:ht()))).next((d=>(nV(i,FP(e),d),{documents:d,qs:l})))))}function nV(n,e,t){let i=n.xs.get(e)||He.min();t.forEach(((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.xs.set(e,i)}class gw{constructor(){this.activeTargetIds=$P()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rV{constructor(){this.Fo=new gw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new gw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="ConnectivityMonitor";class vw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ae(yw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ae(yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf=null;function cy(){return Kf===null?Kf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kf++,"0x"+Kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="RestConnection",aV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sV{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===Td?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,l){const c=cy(),d=this.Go(e,t.toUriEncodedString());Ae(Cg,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,s,l);const{host:g}=new URL(d),v=eo(g);return this.jo(e,d,p,i,v).then((b=>(Ae(Cg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Ks(Cg,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}Jo(e,t,i,s,l,c){return this.Wo(e,t,i,s,l)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,l)=>e[l]=s)),i&&i.headers.forEach(((s,l)=>e[l]=s))}Go(e,t){const i=aV[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class lV extends sV{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,s,l){const c=cy();return new Promise(((d,p)=>{const g=new zS;g.setWithCredentials(!0),g.listenOnce(jS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case rd.NO_ERROR:const b=g.getResponseJson();Ae(Jn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case rd.TIMEOUT:Ae(Jn,`RPC '${e}' ${c} timed out`),p(new Se(ae.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const T=g.getStatus();if(Ae(Jn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const M=(function($){const W=$.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(W)>=0?W:ae.UNKNOWN})(k.status);p(new Se(M,k.message))}else p(new Se(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Se(ae.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{c_:e,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Ae(Jn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(s);Ae(Jn,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",v,i,15)}))}P_(e,t,i){const s=cy(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qS(),d=FS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");Ae(Jn,`Creating RPC '${e}' stream ${s}: ${v}`,p);const b=c.createWebChannel(v,p);this.T_(b);let T=!1,S=!1;const k=new oV({Ho:D=>{S?Ae(Jn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(T||(Ae(Jn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),T=!0),Ae(Jn,`RPC '${e}' stream ${s} sending:`,D),b.send(D))},Yo:()=>b.close()}),M=(D,$,W)=>{D.listen($,(J=>{try{W(J)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return M(b,vc.EventType.OPEN,(()=>{S||(Ae(Jn,`RPC '${e}' stream ${s} transport opened.`),k.s_())})),M(b,vc.EventType.CLOSE,(()=>{S||(S=!0,Ae(Jn,`RPC '${e}' stream ${s} transport closed`),k.__(),this.I_(b))})),M(b,vc.EventType.ERROR,(D=>{S||(S=!0,Ks(Jn,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),k.__(new Se(ae.UNAVAILABLE,"The operation could not be completed")))})),M(b,vc.EventType.MESSAGE,(D=>{var $;if(!S){const W=D.data[0];Tt(!!W,16349);const J=W,ce=(J==null?void 0:J.error)||(($=J[0])===null||$===void 0?void 0:$.error);if(ce){Ae(Jn,`RPC '${e}' stream ${s} received error:`,ce);const se=ce.status;let pe=(function(C){const I=wn[C];if(I!==void 0)return AA(I)})(se),x=ce.message;pe===void 0&&(pe=ae.INTERNAL,x="Unknown error status: "+se+" with message "+ce.message),S=!0,k.__(new Se(pe,x)),b.close()}else Ae(Jn,`RPC '${e}' stream ${s} received:`,W),k.a_(W)}})),M(d,BS.STAT_EVENT,(D=>{D.stat===Wg.PROXY?Ae(Jn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===Wg.NOPROXY&&Ae(Jn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.o_()}),0),k}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){return new fk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=s,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-i);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="PersistentStream";class jA{constructor(e,t,i,s,l,c,d,p){this.Fi=e,this.w_=i,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new zA(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(ka(t.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.b_===t&&this.W_(i,s)}),(i=>{e((()=>{const s=new Se(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)}))}))}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{i((()=>this.G_(s)))})),this.stream.onMessage((s=>{i((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ae(_w,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(Ae(_w,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uV extends jA{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=pk(this.serializer,e),i=(function(l){if(!("targetChange"in l))return He.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?He.min():c.readTime?Qi(c.readTime):He.min()})(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=ly(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=ny(p)?{documents:vk(l,p)}:{query:_k(l,p).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=IA(l,c.resumeToken);const g=ay(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(He.min())>0){d.readTime=Rd(l,c.snapshotVersion.toTimestamp());const g=ay(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=Ek(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=ly(this.serializer),t.removeTarget=e,this.k_(t)}}class cV extends jA{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=yk(e.writeResults,e.commitTime),i=Qi(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=ly(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>gk(this.serializer,i)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{}class fV extends hV{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,sy(t,i),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ae.UNKNOWN,l.toString())}))}Jo(e,t,i,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Jo(e,sy(t,i),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ae.UNKNOWN,c.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class dV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ka(t),this._a=!1):Ae("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="RemoteStore";class mV{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo((c=>{i.enqueueAndForget((async()=>{Wo(this)&&(Ae(Qo,"Restarting streams for network reachability change."),await(async function(p){const g=$e(p);g.Ia.add(4),await lh(g),g.Aa.set("Unknown"),g.Ia.delete(4),await em(g)})(this))}))})),this.Aa=new dV(i,s)}}async function em(n){if(Wo(n))for(const e of n.da)await e(!0)}async function lh(n){for(const e of n.da)await e(!1)}function BA(n,e){const t=$e(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),mv(t)?dv(t):du(t).x_()&&fv(t,e))}function hv(n,e){const t=$e(n),i=du(t);t.Ta.delete(e),i.x_()&&FA(t,e),t.Ta.size===0&&(i.x_()?i.B_():Wo(t)&&t.Aa.set("Unknown"))}function fv(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}du(n).H_(e)}function FA(n,e){n.Ra.$e(e),du(n).Y_(e)}function dv(n){n.Ra=new lk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),du(n).start(),n.Aa.aa()}function mv(n){return Wo(n)&&!du(n).M_()&&n.Ta.size>0}function Wo(n){return $e(n).Ia.size===0}function qA(n){n.Ra=void 0}async function pV(n){n.Aa.set("Online")}async function gV(n){n.Ta.forEach(((e,t)=>{fv(n,e)}))}async function yV(n,e){qA(n),mv(n)?(n.Aa.la(e),dv(n)):n.Aa.set("Unknown")}async function vV(n,e,t){if(n.Aa.set("Online"),e instanceof CA&&e.state===2&&e.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ta.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ta.delete(d),s.Ra.removeTarget(d))})(n,e)}catch(i){Ae(Qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Id(n,i)}else if(e instanceof od?n.Ra.Ye(e):e instanceof RA?n.Ra.it(e):n.Ra.et(e),!t.isEqual(He.min()))try{const i=await UA(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Ra.Pt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ta.get(g);v&&l.Ta.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ta.get(p);if(!v)return;l.Ta.set(p,v.withResumeToken(Gn.EMPTY_BYTE_STRING,v.snapshotVersion)),FA(l,p);const b=new js(v.target,p,g,v.sequenceNumber);fv(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){Ae(Qo,"Failed to raise snapshot:",i),await Id(n,i)}}async function Id(n,e,t){if(!hu(e))throw e;n.Ia.add(1),await lh(n),n.Aa.set("Offline"),t||(t=()=>UA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ae(Qo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await em(n)}))}function HA(n,e){return e().catch((t=>Id(n,t,e)))}async function tm(n){const e=$e(n),t=Js(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Jy;for(;_V(e);)try{const s=await eV(e.localStore,i);if(s===null){e.Pa.length===0&&t.B_();break}i=s.batchId,bV(e,s)}catch(s){await Id(e,s)}GA(e)&&QA(e)}function _V(n){return Wo(n)&&n.Pa.length<10}function bV(n,e){n.Pa.push(e);const t=Js(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function GA(n){return Wo(n)&&!Js(n).M_()&&n.Pa.length>0}function QA(n){Js(n).start()}async function EV(n){Js(n).na()}async function TV(n){const e=Js(n);for(const t of n.Pa)e.X_(t.mutations)}async function wV(n,e,t){const i=n.Pa.shift(),s=iv.from(i,e,t);await HA(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await tm(n)}async function SV(n,e){e&&Js(n).Z_&&await(async function(i,s){if((function(c){return sk(c)&&c!==ae.ABORTED})(s.code)){const l=i.Pa.shift();Js(i).N_(),await HA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s))),await tm(i)}})(n,e),GA(n)&&QA(n)}async function bw(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Ae(Qo,"RemoteStore received new credentials");const i=Wo(t);t.Ia.add(3),await lh(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await em(t)}async function AV(n,e){const t=$e(n);e?(t.Ia.delete(2),await em(t)):e||(t.Ia.add(2),await lh(t),t.Aa.set("Unknown"))}function du(n){return n.Va||(n.Va=(function(t,i,s){const l=$e(t);return l.ia(),new uV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:pV.bind(null,n),e_:gV.bind(null,n),n_:yV.bind(null,n),J_:vV.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),mv(n)?dv(n):n.Aa.set("Unknown")):(await n.Va.stop(),qA(n))}))),n.Va}function Js(n){return n.ma||(n.ma=(function(t,i,s){const l=$e(t);return l.ia(),new cV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:EV.bind(null,n),n_:SV.bind(null,n),ea:TV.bind(null,n),ta:wV.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await tm(n)):(await n.ma.stop(),n.Pa.length>0&&(Ae(Qo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,d=new pv(e,t,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(n,e){if(ka("AsyncQueue",`${e}: ${n}`),hu(n))return new Se(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ue.comparator(t.key,i.key):(t,i)=>Ue.comparator(t.key,i.key),this.keyedMap=_c(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Hl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.fa=new tn(Ue.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Be(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,i)=>{e.push(i)})),e}}class su{constructor(e,t,i,s,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new su(e,t,Hl.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class CV{constructor(){this.queries=Tw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const s=$e(t),l=s.queries;s.queries=Tw(),l.forEach(((c,d)=>{for(const p of d.wa)p.onError(i)}))})(this,new Se(ae.ABORTED,"Firestore shutting down"))}}function Tw(){return new Xo((n=>fA(n)),Kd)}async function yv(n,e){const t=$e(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.ba()&&(i=2):(l=new RV,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(s,!0);break;case 1:l.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=gv(c,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&_v(t)}async function vv(n,e){const t=$e(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?s=e.ba()?0:1:!l.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function IV(n,e){const t=$e(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.wa)d.Ca(s)&&(i=!0);c.ya=s}}i&&_v(t)}function xV(n,e,t){const i=$e(n),s=i.queries.get(e);if(s)for(const l of s.wa)l.onError(t);i.queries.delete(e)}function _v(n){n.Da.forEach((e=>{e.next()}))}var hy,ww;(ww=hy||(hy={})).Fa="default",ww.Cache="cache";class bv{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new su(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==hy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.key=e}}class $A{constructor(e){this.key=e}}class DV{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ht(),this.mutatedKeys=ht(),this.Xa=dA(e),this.eu=new Hl(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new Ew,s=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,b)=>{const T=s.get(v),S=$d(this.query,b)?b:null,k=!!T&&this.mutatedKeys.has(T.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;T&&S?T.data.isEqual(S.data)?k!==M&&(i.track({type:3,doc:S}),D=!0):this.iu(T,S)||(i.track({type:2,doc:S}),D=!0,(p&&this.Xa(S,p)>0||g&&this.Xa(S,g)<0)&&(d=!0)):!T&&S?(i.track({type:0,doc:S}),D=!0):T&&!S&&(i.track({type:1,doc:T}),D=!0,(p||g)&&(d=!0)),D&&(S?(c=c.add(S),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{eu:c,ru:i,Ds:d,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort(((v,b)=>(function(S,k){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{At:D})}};return M(S)-M(k)})(v.type,b.type)||this.Xa(v.doc,b.doc))),this.su(i),s=s!=null&&s;const d=t&&!s?this.ou():[],p=this.Za.size===0&&this.current&&!s?1:0,g=p!==this.Ya;return this.Ya=p,c.length!==0||g?{snapshot:new su(this.query,e.eu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ew,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ht(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const t=[];return e.forEach((i=>{this.Za.has(i)||t.push(new $A(i))})),this.Za.forEach((i=>{e.has(i)||t.push(new KA(i))})),t}uu(e){this.Ha=e.qs,this.Za=ht();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return su.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ev="SyncEngine";class OV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NV{constructor(e){this.key=e,this.lu=!1}}class MV{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Xo((d=>fA(d)),Kd),this.Tu=new Map,this.Iu=new Set,this.du=new tn(Ue.comparator),this.Eu=new Map,this.Au=new ov,this.Ru={},this.Vu=new Map,this.mu=au.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function PV(n,e,t=!0){const i=eR(n);let s;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.cu()):s=await YA(i,e,t,!0),s}async function kV(n,e){const t=eR(n);await YA(t,e,!0,!1)}async function YA(n,e,t,i){const s=await tV(n.localStore,Gi(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await VV(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&BA(n.remoteStore,s),d}async function VV(n,e,t,i,s){n.gu=(b,T,S)=>(async function(M,D,$,W){let J=D.view.nu($);J.Ds&&(J=await pw(M.localStore,D.query,!1).then((({documents:x})=>D.view.nu(x,J))));const ce=W&&W.targetChanges.get(D.targetId),se=W&&W.targetMismatches.get(D.targetId)!=null,pe=D.view.applyChanges(J,M.isPrimaryClient,ce,se);return Aw(M,D.targetId,pe._u),pe.snapshot})(n,b,T,S);const l=await pw(n.localStore,e,!0),c=new DV(e,l.qs),d=c.nu(l.documents),p=oh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,p);Aw(n,t,g._u);const v=new OV(e,t,c);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function LV(n,e,t){const i=$e(n),s=i.Pu.get(e),l=i.Tu.get(s.targetId);if(l.length>1)return i.Tu.set(s.targetId,l.filter((c=>!Kd(c,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await uy(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&hv(i.remoteStore,s.targetId),fy(i,s.targetId)})).catch(cu)):(fy(i,s.targetId),await uy(i.localStore,s.targetId,!0))}async function UV(n,e){const t=$e(n),i=t.Pu.get(e),s=t.Tu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),hv(t.remoteStore,i.targetId))}async function zV(n,e,t){const i=QV(n);try{const s=await(function(c,d){const p=$e(c),g=Xt.now(),v=d.reduce(((S,k)=>S.add(k.key)),ht());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let k=Va(),M=ht();return p.Os.getEntries(S,v).next((D=>{k=D,k.forEach((($,W)=>{W.isValidDocument()||(M=M.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,k))).next((D=>{b=D;const $=[];for(const W of d){const J=tk(W,b.get(W.key).overlayedDocument);J!=null&&$.push(new no(W.key,J,iA(J.value.mapValue),mr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,g,$,d)})).next((D=>{T=D;const $=D.applyToLocalDocumentSet(b,M);return p.documentOverlayCache.saveOverlays(S,D.batchId,$)}))})).then((()=>({batchId:T.batchId,changes:pA(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(c,d,p){let g=c.Ru[c.currentUser.toKey()];g||(g=new tn(et)),g=g.insert(d,p),c.Ru[c.currentUser.toKey()]=g})(i,s.batchId,t),await uh(i,s.changes),await tm(i.remoteStore)}catch(s){const l=gv(s,"Failed to persist write");t.reject(l)}}async function XA(n,e){const t=$e(n);try{const i=await Jk(t.localStore,e);e.targetChanges.forEach(((s,l)=>{const c=t.Eu.get(l);c&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?Tt(c.lu,14607):s.removedDocuments.size>0&&(Tt(c.lu,42227),c.lu=!1))})),await uh(t,i,e)}catch(i){await cu(i)}}function Sw(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Pu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const p=$e(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,b)=>{for(const T of b.wa)T.va(d)&&(g=!0)})),g&&_v(p)})(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jV(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new tn(Ue.comparator);c=c.insert(l,nr.newNoDocument(l,He.min()));const d=ht().add(l),p=new Jd(He.min(),new Map,new tn(et),c,d);await XA(i,p),i.du=i.du.remove(l),i.Eu.delete(e),Tv(i)}else await uy(i.localStore,e,!1).then((()=>fy(i,e,t))).catch(cu)}async function BV(n,e){const t=$e(n),i=e.batch.batchId;try{const s=await Wk(t.localStore,e);JA(t,i,null),WA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await uh(t,s)}catch(s){await cu(s)}}async function FV(n,e,t){const i=$e(n);try{const s=await(function(c,d){const p=$e(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((b=>(Tt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);JA(i,e,t),WA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await uh(i,s)}catch(s){await cu(s)}}function WA(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function JA(n,e,t){const i=$e(n);let s=i.Ru[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function fy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((i=>{n.Au.containsKey(i)||ZA(n,i)}))}function ZA(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(hv(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Tv(n))}function Aw(n,e,t){for(const i of t)i instanceof KA?(n.Au.addReference(i.key,e),qV(n,i)):i instanceof $A?(Ae(Ev,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||ZA(n,i.key)):Be(19791,{yu:i})}function qV(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Ae(Ev,"New document in limbo: "+t),n.Iu.add(i),Tv(n))}function Tv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ue(zt.fromString(e)),i=n.mu.next();n.Eu.set(i,new NV(t)),n.du=n.du.insert(t,i),BA(n.remoteStore,new js(Gi(Qd(t.path)),i,"TargetPurposeLimboResolution",qd.ue))}}async function uh(n,e,t){const i=$e(n),s=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach(((d,p)=>{c.push(i.gu(p,e,t).then((g=>{var v;if((g||t)&&i.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){s.push(g);const b=uv.Es(p.targetId,g);l.push(b)}})))})),await Promise.all(c),i.hu.J_(s),await(async function(p,g){const v=$e(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ue.forEach(g,(T=>ue.forEach(T.Is,(S=>v.persistence.referenceDelegate.addReference(b,T.targetId,S))).next((()=>ue.forEach(T.ds,(S=>v.persistence.referenceDelegate.removeReference(b,T.targetId,S)))))))))}catch(b){if(!hu(b))throw b;Ae(cv,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const S=v.Fs.get(T),k=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(k);v.Fs=v.Fs.insert(T,M)}}})(i.localStore,l))}async function HV(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ae(Ev,"User change. New user:",e.toKey());const i=await LA(t.localStore,e);t.currentUser=e,(function(l,c){l.Vu.forEach((d=>{d.forEach((p=>{p.reject(new Se(ae.CANCELLED,c))}))})),l.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await uh(t,i.Bs)}}function GV(n,e){const t=$e(n),i=t.Eu.get(e);if(i&&i.lu)return ht().add(i.key);{let s=ht();const l=t.Tu.get(e);if(!l)return s;for(const c of l){const d=t.Pu.get(c);s=s.unionWith(d.view.tu)}return s}}function eR(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jV.bind(null,e),e.hu.J_=IV.bind(null,e.eventManager),e.hu.pu=xV.bind(null,e.eventManager),e}function QV(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FV.bind(null,e),e}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Xk(this.persistence,new Kk,e.initialUser,this.serializer)}Du(e){return new VA(lv.Vi,this.serializer)}bu(e){return new rV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class KV extends xd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Tt(this.persistence.referenceDelegate instanceof Cd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Nk(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new VA((i=>Cd.Vi(i,t)),this.serializer)}}class dy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Sw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=HV.bind(null,this.syncEngine),await AV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CV})()}createDatastore(e){const t=Zd(e.databaseInfo.databaseId),i=(function(l){return new lV(l)})(e.databaseInfo);return(function(l,c,d,p){return new fV(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,l,c,d){return new mV(i,s,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Sw(this.syncEngine,t,0)),(function(){return vw.C()?new vw:new iV})())}createSyncEngine(e,t){return(function(s,l,c,d,p,g,v){const b=new MV(s,l,c,d,p,g);return v&&(b.fu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const l=$e(s);Ae(Qo,"RemoteStore shutting down."),l.Ia.add(5),await lh(l),l.Ea.shutdown(),l.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dy.provider={build:()=>new dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ka("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class $V{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=tr.UNAUTHENTICATED,this.clientId=Wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Ae(Zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ae(Zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=gv(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function xg(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(Zs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await LA(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>{Ks("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{Ae("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((s=>{Ks("Terminating Firestore due to IndexedDb database deletion failed",s)}))})),n._offlineComponents=e}async function Rw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await YV(n);Ae(Zs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>bw(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>bw(e.remoteStore,s))),n._onlineComponents=e}async function YV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(Zs,"Using user provided OfflineComponentProvider");try{await xg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ks("Error using user provided cache. Falling back to memory cache: "+t),await xg(n,new xd)}}else Ae(Zs,"Using default OfflineComponentProvider"),await xg(n,new KV(void 0));return n._offlineComponents}async function tR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(Zs,"Using user provided OnlineComponentProvider"),await Rw(n,n._uninitializedComponentsProvider._online)):(Ae(Zs,"Using default OnlineComponentProvider"),await Rw(n,new dy))),n._onlineComponents}function XV(n){return tR(n).then((e=>e.syncEngine))}async function Dd(n){const e=await tR(n),t=e.eventManager;return t.onListen=PV.bind(null,e.syncEngine),t.onUnlisten=LV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UV.bind(null,e.syncEngine),t}function WV(n,e,t={}){const i=new Na;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new wv({next:T=>{v.Ou(),c.enqueueAndForget((()=>vv(l,b)));const S=T.docs.has(d);!S&&T.fromCache?g.reject(new Se(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&p&&p.source==="server"?g.reject(new Se(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new bv(Qd(d.path),v,{includeMetadataChanges:!0,ka:!0});return yv(l,b)})(await Dd(n),n.asyncQueue,e,t,i))),i.promise}function JV(n,e,t={}){const i=new Na;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new wv({next:T=>{v.Ou(),c.enqueueAndForget((()=>vv(l,b))),T.fromCache&&p.source==="server"?g.reject(new Se(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new bv(d,v,{includeMetadataChanges:!0,ka:!0});return yv(l,b)})(await Dd(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firestore.googleapis.com",Iw=!0;class xw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rR,this.ssl=Iw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Iw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dk)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new sP;switch(i.type){case"firstParty":return new cP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Cw.get(t);i&&(Ae("ComponentProvider","Removing Datastore"),Cw.delete(t),i.terminate())})(this),Promise.resolve()}}function ZV(n,e,t,i={}){var s;n=dr(n,nm);const l=eo(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(Py(`https://${p}`),ky("Firestore",!0)),c.host!==rR&&c.host!==p&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!Gs(g,d)&&(n._setSettings(g),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=tr.MOCK_USER;else{v=Z1(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Se(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tr(T)}n._authCredentials=new oP(new GS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class ln{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ah(t,ln._jsonSchema))return new ln(e,i||null,new Ue(zt.fromString(t.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:An("string",ln._jsonSchemaVersion),referencePath:An("string")};class Hs extends ro{constructor(e,t,i){super(e,t,Qd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Ue(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function E6(n,e,...t){if(n=Pt(n),KS("collection","path",e),n instanceof nm){const i=zt.fromString(e,...t);return FT(i),new Hs(n,null,i)}{if(!(n instanceof ln||n instanceof Hs))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zt.fromString(e,...t));return FT(i),new Hs(n.firestore,null,i)}}function my(n,e,...t){if(n=Pt(n),arguments.length===1&&(e=Wy.newId()),KS("doc","path",e),n instanceof nm){const i=zt.fromString(e,...t);return BT(i),new ln(n,null,new Ue(i))}{if(!(n instanceof ln||n instanceof Hs))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zt.fromString(e,...t));return BT(i),new ln(n.firestore,n instanceof Hs?n.converter:null,new Ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="AsyncQueue";class Ow{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zA(this,"async_queue_retry"),this.oc=()=>{const i=Ig();i&&Ae(Dw,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=Ig();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Ig();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Na;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!hu(e))throw e;Ae(Dw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,ka("INTERNAL UNHANDLED ERROR: ",Nw(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=pv.createAndSchedule(this,e,t,i,(l=>this.lc(l)));return this.ec.push(s),s}ac(){this.tc&&Be(47125,{hc:Nw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Nw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Wi extends nm{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new Ow,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ow(e),this._firestoreClient=void 0,await e}}}function eL(n,e){const t=typeof n=="object"?n:Uy(),i=typeof n=="string"?n:Td,s=Ud(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=X1("firestore");l&&ZV(s,...l)}return s}function ch(n){if(n._terminated)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tL(n),n._firestoreClient}function tL(n){var e,t,i;const s=n._freezeSettings(),l=(function(d,p,g,v){return new RP(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,nR(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new $V(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(Gn.fromBase64String(e))}catch(t){throw new Se(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new li(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ah(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:An("string",li._jsonSchemaVersion),bytes:An("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(ah(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:An("string",Ki._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ah(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new $i(e.vectorValues);throw new Se(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:An("string",$i._jsonSchemaVersion),vectorValues:An("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=/^__.*__$/;class rL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,t,this.fieldTransforms):new sh(e,this.data,t,this.fieldTransforms)}}class iR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new no(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ec:n})}}class rm{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Od(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(aR(this.Ec)&&nL.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class iL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Zd(e)}Dc(e,t,i,s=!1){return new rm({Ec:e,methodName:t,bc:i,path:Hn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dh(n){const e=n._freezeSettings(),t=Zd(n._databaseId);return new iL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sv(n,e,t,i,s,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,s);Cv("Data must be an object, but it was:",c,i);const d=lR(i,c);let p,g;if(l.merge)p=new Gr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=py(e,b,t);if(!c.contains(T))throw new Se(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);cR(v,T)||v.push(T)}p=new Gr(v),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new rL(new Ir(d),p,g)}class im extends fh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof im}}function aL(n,e,t){return new rm({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Av extends fh{_toFieldTransform(e){return new TA(e.path,new qc)}isEqual(e){return e instanceof Av}}class Rv extends fh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=aL(this,e,!0),i=this.vc.map((l=>mu(l,t))),s=new iu(i);return new TA(e.path,s)}isEqual(e){return e instanceof Rv&&Gs(this.vc,e.vc)}}function sR(n,e,t,i){const s=n.Dc(1,e,t);Cv("Data must be an object, but it was:",s,i);const l=[],c=Ir.empty();to(i,((p,g)=>{const v=Iv(e,p,t);g=Pt(g);const b=s.gc(v);if(g instanceof im)l.push(v);else{const T=mu(g,b);T!=null&&(l.push(v),c.set(v,T))}}));const d=new Gr(l);return new iR(c,d,s.fieldTransforms)}function oR(n,e,t,i,s,l){const c=n.Dc(1,e,t),d=[py(e,i,t)],p=[s];if(l.length%2!=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(py(e,l[T])),p.push(l[T+1]);const g=[],v=Ir.empty();for(let T=d.length-1;T>=0;--T)if(!cR(g,d[T])){const S=d[T];let k=p[T];k=Pt(k);const M=c.gc(S);if(k instanceof im)g.push(S);else{const D=mu(k,M);D!=null&&(g.push(S),v.set(S,D))}}const b=new Gr(g);return new iR(v,b,c.fieldTransforms)}function sL(n,e,t,i=!1){return mu(t,n.Dc(i?4:3,e))}function mu(n,e){if(uR(n=Pt(n)))return Cv("Unsupported field value:",e,n),lR(n,e);if(n instanceof fh)return(function(i,s){if(!aR(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,s){const l=[];let c=0;for(const d of i){let p=mu(d,s.yc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,s){if((i=Pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YP(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Xt.fromDate(i);return{timestampValue:Rd(s.serializer,l)}}if(i instanceof Xt){const l=new Xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rd(s.serializer,l)}}if(i instanceof Ki)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof li)return{bytesValue:IA(s.serializer,i._byteString)};if(i instanceof ln){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:sv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof $i)return(function(c,d){return{mapValue:{fields:{[nA]:{stringValue:rA},[wd]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return rv(d.serializer,g)}))}}}}}})(i,s);throw s.wc(`Unsupported field value: ${Fd(i)}`)})(n,e)}function lR(n,e){const t={};return XS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(n,((i,s)=>{const l=mu(s,e.Vc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function uR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xt||n instanceof Ki||n instanceof li||n instanceof ln||n instanceof fh||n instanceof $i)}function Cv(n,e,t){if(!uR(t)||!$S(t)){const i=Fd(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function py(n,e,t){if((e=Pt(e))instanceof hh)return e._internalPath;if(typeof e=="string")return Iv(n,e);throw Od("Field path arguments must be of type string or ",n,!1,void 0,t)}const oL=new RegExp("[~\\*/\\[\\]]");function Iv(n,e,t){if(e.search(oL)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hh(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Od(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new Se(ae.INVALID_ARGUMENT,d+n+p)}function cR(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(am("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lL extends hR{data(){return super.data()}}function am(n,e){return typeof e=="string"?Iv(n,e):e instanceof hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xv{}class dR extends xv{}function T6(n,e,...t){let i=[];e instanceof xv&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof Dv)).length,d=l.filter((p=>p instanceof sm)).length;if(c>1||c>0&&d>0)throw new Se(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)n=s._apply(n);return n}class sm extends dR{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new sm(e,t,i)}_apply(e){const t=this._parse(e);return mR(e._query,t),new ro(e.firestore,e.converter,ry(e._query,t))}_parse(e){const t=dh(e.firestore);return(function(l,c,d,p,g,v,b){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){kw(b,v);const k=[];for(const M of b)k.push(Pw(p,l,M));T={arrayValue:{values:k}}}else T=Pw(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||kw(b,v),T=sL(d,c,b,v==="in"||v==="not-in");return Sn.create(g,v,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function w6(n,e,t){const i=e,s=am("where",n);return sm._create(s,i,t)}class Dv extends xv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dv(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Si.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,l){let c=s;const d=l.getFlattenedFilters();for(const p of d)mR(c,p),c=ry(c,p)})(e._query,t),new ro(e.firestore,e.converter,ry(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ov extends dR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ov(e,t)}_apply(e){const t=(function(s,l,c){if(s.startAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fc(l,c)})(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,(function(s,l){const c=s.explicitOrderBy.concat([l]);return new fu(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function S6(n,e="asc"){const t=e,i=am("orderBy",n);return Ov._create(i,t)}function Pw(n,e,t){if(typeof(t=Pt(t))=="string"){if(t==="")throw new Se(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hA(e)&&t.indexOf("/")!==-1)throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(zt.fromString(t));if(!Ue.isDocumentKey(i))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return XT(n,new Ue(i))}if(t instanceof ln)return XT(n,t._key);throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(t)}.`)}function kw(n,e){if(!Array.isArray(n)||n.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mR(n,e){const t=(function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uL{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return to(e,((s,l)=>{i[s]=this.convertValue(l,t)})),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[wd].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map((c=>mn(c.doubleValue)));return new $i(l)}convertGeoPoint(e){return new Ki(mn(e.latitude),mn(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Gd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new Xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=zt.fromString(e);Tt(PA(i),9688,{name:e});const s=new jc(i.get(1),i.get(3)),l=new Ue(i.popFirst(5));return s.isEqual(t)||ka(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends hR{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(am("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=zo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:An("string",zo._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class ld extends zo{data(e={}){return super.data(e)}}class jo{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ec(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new ld(this._firestore,this._userDataWriter,i.key,i,new Ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const p=new ld(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Ec(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new ld(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Ec(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:cL(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n){n=dr(n,ln);const e=dr(n.firestore,Wi);return WV(ch(e),n._key).then((t=>pR(e,n,t)))}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:An("string",jo._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};class Mv extends uL{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}function A6(n){n=dr(n,ro);const e=dr(n.firestore,Wi),t=ch(e),i=new Mv(e);return fR(n._query),JV(t,n._query).then((s=>new jo(e,i,n,s)))}function R6(n,e,t){n=dr(n,ln);const i=dr(n.firestore,Wi),s=Nv(n.converter,e,t);return mh(i,[Sv(dh(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,mr.none())])}function C6(n,e,t,...i){n=dr(n,ln);const s=dr(n.firestore,Wi),l=dh(s);let c;return c=typeof(e=Pt(e))=="string"||e instanceof hh?oR(l,"updateDoc",n._key,e,t,i):sR(l,"updateDoc",n._key,e),mh(s,[c.toMutation(n._key,mr.exists(!0))])}function I6(n){return mh(dr(n.firestore,Wi),[new Wd(n._key,mr.none())])}function x6(n,e){const t=dr(n.firestore,Wi),i=my(n),s=Nv(n.converter,e);return mh(t,[Sv(dh(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,mr.exists(!1))]).then((()=>i))}function D6(n,...e){var t,i,s;n=Pt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Mw(e[c])||(l=e[c++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Mw(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[c+2]=(s=b.complete)===null||s===void 0?void 0:s.bind(b)}let p,g,v;if(n instanceof ln)g=dr(n.firestore,Wi),v=Qd(n._key.path),p={next:b=>{e[c]&&e[c](pR(g,n,b))},error:e[c+1],complete:e[c+2]};else{const b=dr(n,ro);g=dr(b.firestore,Wi),v=b._query;const T=new Mv(g);p={next:S=>{e[c]&&e[c](new jo(g,T,b,S))},error:e[c+1],complete:e[c+2]},fR(n._query)}return(function(T,S,k,M){const D=new wv(M),$=new bv(S,D,k);return T.asyncQueue.enqueueAndForget((async()=>yv(await Dd(T),$))),()=>{D.Ou(),T.asyncQueue.enqueueAndForget((async()=>vv(await Dd(T),$)))}})(ch(g),v,d,p)}function mh(n,e){return(function(i,s){const l=new Na;return i.asyncQueue.enqueueAndForget((async()=>zV(await XV(i),s,l))),l.promise})(ch(n),e)}function pR(n,e,t){const i=t.docs.get(e._key),s=new Mv(n);return new zo(n,s,e._key,i,new Ec(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dh(e)}set(e,t,i){this._verifyNotCommitted();const s=Dg(e,this._firestore),l=Nv(s.converter,t,i),c=Sv(this._dataReader,"WriteBatch.set",s._key,l,s.converter!==null,i);return this._mutations.push(c.toMutation(s._key,mr.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const l=Dg(e,this._firestore);let c;return c=typeof(t=Pt(t))=="string"||t instanceof hh?oR(this._dataReader,"WriteBatch.update",l._key,t,i,s):sR(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Dg(e,this._firestore);return this._mutations=this._mutations.concat(new Wd(t._key,mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dg(n,e){if((n=Pt(n)).firestore!==e)throw new Se(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function O6(){return new Av("serverTimestamp")}function N6(...n){return new Rv("arrayUnion",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(n){return ch(n=dr(n,Wi)),new hL(n,(e=>mh(n,e)))}(function(e,t=!0){(function(s){uu=s})(Yo),Fo(new Qs("firestore",((i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Wi(new lP(i.getProvider("auth-internal")),new hP(c,i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Se(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(g.options.projectId,v)})(c,s),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),qi(VT,LT,e),qi(VT,LT,"esm2017")})();var fL="firebase",dL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(fL,dL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebasestorage.googleapis.com",yR="storageBucket",mL=120*1e3,pL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends Zi{constructor(e,t,i=0){super(Og(e),`Firebase Storage: ${t} (${Og(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var un;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(un||(un={}));function Og(n){return"storage/"+n}function Pv(){const n="An unknown error occurred, please check the error payload for server response.";return new cn(un.UNKNOWN,n)}function gL(n){return new cn(un.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function yL(n){return new cn(un.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(un.UNAUTHENTICATED,n)}function _L(){return new cn(un.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bL(n){return new cn(un.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function EL(){return new cn(un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TL(){return new cn(un.CANCELED,"User canceled the upload/download.")}function wL(n){return new cn(un.INVALID_URL,"Invalid URL '"+n+"'.")}function SL(n){return new cn(un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function AL(){return new cn(un.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yR+"' property when initializing the app?")}function RL(){return new cn(un.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function CL(){return new cn(un.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function IL(n){return new cn(un.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gy(n){return new cn(un.INVALID_ARGUMENT,n)}function vR(){return new cn(un.APP_DELETED,"The Firebase app was deleted.")}function xL(n){return new cn(un.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xc(n,e){return new cn(un.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function hc(n){throw new cn(un.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Qr.makeFromUrl(e,t)}catch{return new Qr(e,"")}if(i.path==="")return i;throw SL(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function l(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),p={bucket:1,path:3};function g(ce){ce.path_=decodeURIComponent(ce.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${s}/o${T}`,"i"),k={bucket:1,path:3},M=t===gR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",$=new RegExp(`^https?://${M}/${s}/${D}`,"i"),J=[{regex:d,indices:p,postModify:l},{regex:S,indices:k,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let ce=0;ce<J.length;ce++){const se=J[ce],pe=se.regex.exec(e);if(pe){const x=pe[se.indices.bucket];let w=pe[se.indices.path];w||(w=""),i=new Qr(x,w),se.postModify(i);break}}if(i==null)throw wL(e);return i}}class DL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(n,e,t){let i=1,s=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function v(...D){g||(g=!0,e.apply(null,D))}function b(D){s=setTimeout(()=>{s=null,n(S,p())},D)}function T(){l&&clearTimeout(l)}function S(D,...$){if(g){T();return}if(D){T(),v.call(null,D,...$);return}if(p()||c){T(),v.call(null,D,...$);return}i<64&&(i*=2);let J;d===1?(d=2,J=0):J=(i+Math.random())*1e3,b(J)}let k=!1;function M(D){k||(k=!0,T(),!g&&(s!==null?(D||(d=2),clearTimeout(s),b(0)):D||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,M(!0)},t),M}function NL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(n){return n!==void 0}function PL(n){return typeof n=="object"&&!Array.isArray(n)}function kv(n){return typeof n=="string"||n instanceof String}function Lw(n){return Vv()&&n instanceof Blob}function Vv(){return typeof Blob<"u"}function Uw(n,e,t,i){if(i<e)throw gy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw gy(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function _R(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var Bo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Bo||(Bo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t,i,s,l,c,d,p,g,v,b,T=!0,S=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=T,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,M)=>{this.resolve_=k,this.reject_=M,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new $f(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Bo.NO_ERROR,p=l.getStatus();if(!d||kL(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Bo.ABORT;i(!1,new $f(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new $f(g,l))})},t=(i,s)=>{const l=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());ML(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Pv();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(s.canceled){const p=this.appDelete_?vR():TL();c(p)}else{const p=EL();c(p)}};this.canceled_?t(!1,new $f(!1,null,!0)):this.backoffId_=OL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $f{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function LL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function UL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function jL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function BL(n,e,t,i,s,l,c=!0,d=!1){const p=_R(n.urlParams),g=n.url+p,v=Object.assign({},n.headers);return zL(v,e),LL(v,t),UL(v,l),jL(v,i),new VL(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qL(...n){const e=FL();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Vv())return new Blob(n);throw new cn(un.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n){if(typeof atob>"u")throw IL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ng{constructor(e,t){this.data=e,this.contentType=t||null}}function QL(n,e){switch(n){case Fi.RAW:return new Ng(bR(e));case Fi.BASE64:case Fi.BASE64URL:return new Ng(ER(n,e));case Fi.DATA_URL:return new Ng($L(e),YL(e))}throw Pv()}function bR(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function KL(n){let e;try{e=decodeURIComponent(n)}catch{throw xc(Fi.DATA_URL,"Malformed data URL.")}return bR(e)}function ER(n,e){switch(n){case Fi.BASE64:{const s=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(s||l)throw xc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Fi.BASE64URL:{const s=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(s||l)throw xc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=GL(e)}catch(s){throw s.message.includes("polyfill")?s:xc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}class TR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw xc(Fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=XL(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function $L(n){const e=new TR(n);return e.base64?ER(Fi.BASE64,e.rest):KL(e.rest)}function YL(n){return new TR(n).contentType}function XL(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){let i=0,s="";Lw(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Lw(this.data_)){const i=this.data_,s=HL(i,e,t);return s===null?null:new Ns(s)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ns(i,!0)}}static getBlob(...e){if(Vv()){const t=e.map(i=>i instanceof Ns?i.data_:i);return new Ns(qL.apply(null,t))}else{const t=e.map(c=>kv(c)?QL(Fi.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const s=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)s[l++]=c[d]}),new Ns(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){let e;try{e=JSON.parse(n)}catch{return null}return PL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function JL(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function SR(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(n,e){return e}class hr{constructor(e,t,i,s){this.server=e,this.local=t||e,this.writable=!!i,this.xform=s||ZL}}let Yf=null;function e3(n){return!kv(n)||n.length<2?n:SR(n)}function AR(){if(Yf)return Yf;const n=[];n.push(new hr("bucket")),n.push(new hr("generation")),n.push(new hr("metageneration")),n.push(new hr("name","fullPath",!0));function e(l,c){return e3(c)}const t=new hr("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const s=new hr("size");return s.xform=i,n.push(s),n.push(new hr("timeCreated")),n.push(new hr("updated")),n.push(new hr("md5Hash",null,!0)),n.push(new hr("cacheControl",null,!0)),n.push(new hr("contentDisposition",null,!0)),n.push(new hr("contentEncoding",null,!0)),n.push(new hr("contentLanguage",null,!0)),n.push(new hr("contentType",null,!0)),n.push(new hr("metadata","customMetadata",!0)),Yf=n,Yf}function t3(n,e){function t(){const i=n.bucket,s=n.fullPath,l=new Qr(i,s);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function n3(n,e,t){const i={};i.type="file";const s=t.length;for(let l=0;l<s;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return t3(i,n),i}function RR(n,e,t){const i=wR(e);return i===null?null:n3(n,i,t)}function r3(n,e,t,i){const s=wR(e);if(s===null||!kv(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=n.bucket,b=n.fullPath,T="/b/"+c(v)+"/o/"+c(b),S=om(T,t,i),k=_R({alt:"media",token:g});return S+k})[0]}function i3(n,e){const t={},i=e.length;for(let s=0;s<i;s++){const l=e[s];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class Lv{constructor(e,t,i,s){this.url=e,this.method=t,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n){if(!n)throw Pv()}function a3(n,e){function t(i,s){const l=RR(n,s,e);return CR(l!==null),l}return t}function s3(n,e){function t(i,s){const l=RR(n,s,e);return CR(l!==null),r3(l,s,n.host,n._protocol)}return t}function IR(n){function e(t,i){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=_L():s=vL():t.getStatus()===402?s=yL(n.bucket):t.getStatus()===403?s=bL(n.path):s=i,s.status=t.getStatus(),s.serverResponse=i.serverResponse,s}return e}function xR(n){const e=IR(n);function t(i,s){let l=e(i,s);return i.getStatus()===404&&(l=gL(n.path)),l.serverResponse=s.serverResponse,l}return t}function o3(n,e,t){const i=e.fullServerUrl(),s=om(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new Lv(s,l,s3(n,t),c);return d.errorHandler=xR(e),d}function l3(n,e){const t=e.fullServerUrl(),i=om(t,n.host,n._protocol),s="DELETE",l=n.maxOperationRetryTime;function c(p,g){}const d=new Lv(i,s,c,l);return d.successCodes=[200,204],d.errorHandler=xR(e),d}function u3(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function c3(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=u3(null,e)),i}function h3(n,e,t,i,s){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let J="";for(let ce=0;ce<2;ce++)J=J+Math.random().toString().slice(2);return J}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=c3(e,i,s),v=i3(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",S=Ns.getBlob(b,i,T);if(S===null)throw RL();const k={name:g.fullPath},M=om(l,n.host,n._protocol),D="POST",$=n.maxUploadRetryTime,W=new Lv(M,D,a3(n,t),$);return W.urlParams=k,W.headers=c,W.body=S.uploadData(),W.errorHandler=IR(e),W}class f3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,s,l){if(this.sent_)throw hc("cannot .send() more than once");if(eo(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class d3 extends f3{initXhr(){this.xhr_.responseType="text"}}function Uv(){return new d3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t){this._service=e,t instanceof Qr?this._location=t:this._location=Qr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ko(e,t)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SR(this._location.path)}get storage(){return this._service}get parent(){const e=WL(this._location.path);if(e===null)return null;const t=new Qr(this._location.bucket,e);return new Ko(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw xL(e)}}function m3(n,e,t){n._throwIfRoot("uploadBytes");const i=h3(n.storage,n._location,AR(),new Ns(e,!0),t);return n.storage.makeRequestWithTokens(i,Uv).then(s=>({metadata:s,ref:n}))}function p3(n){n._throwIfRoot("getDownloadURL");const e=o3(n.storage,n._location,AR());return n.storage.makeRequestWithTokens(e,Uv).then(t=>{if(t===null)throw CL();return t})}function g3(n){n._throwIfRoot("deleteObject");const e=l3(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Uv)}function y3(n,e){const t=JL(n._location.path,e),i=new Qr(n._location.bucket,t);return new Ko(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n){return/^[A-Za-z]+:\/\//.test(n)}function _3(n,e){return new Ko(n,e)}function DR(n,e){if(n instanceof zv){const t=n;if(t._bucket==null)throw AL();const i=new Ko(t,t._bucket);return e!=null?DR(i,e):i}else return e!==void 0?y3(n,e):n}function b3(n,e){if(e&&v3(e)){if(n instanceof zv)return _3(n,e);throw gy("To use ref(service, url), the first argument must be a Storage instance.")}else return DR(n,e)}function zw(n,e){const t=e==null?void 0:e[yR];return t==null?null:Qr.makeFromBucketSpec(t,n)}function E3(n,e,t,i={}){n.host=`${e}:${t}`;const s=eo(e);s&&(Py(`https://${n.host}/b`),ky("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:Z1(l,n.app.options.projectId))}class zv{constructor(e,t,i,s,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=gR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mL,this._maxUploadRetryTime=pL,this._requests=new Set,s!=null?this._bucket=Qr.makeFromBucketSpec(s,this._host):this._bucket=zw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=zw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Uw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Uw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ko(this,e)}_makeRequest(e,t,i,s,l=!0){if(this._deleted)return new DL(vR());{const c=BL(e,this._appId,i,s,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const jw="@firebase/storage",Bw="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="storage";function P6(n,e,t){return n=Pt(n),m3(n,e,t)}function k6(n){return n=Pt(n),p3(n)}function V6(n){return n=Pt(n),g3(n)}function L6(n,e){return n=Pt(n),b3(n,e)}function T3(n=Uy(),e){n=Pt(n);const i=Ud(n,OR).getImmediate({identifier:e}),s=X1("storage");return s&&w3(i,...s),i}function w3(n,e,t,i={}){E3(n,e,t,i)}function S3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new zv(t,i,s,e,Yo)}function A3(){Fo(new Qs(OR,S3,"PUBLIC").setMultipleInstances(!0)),qi(jw,Bw,""),qi(jw,Bw,"esm2017")}A3();const R3={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},jv=nS(R3),NR=iP(jv),Fw=eL(jv),U6=T3(jv);function MR(){const[n,e]=B.useState({user:null,userData:null,organization:null,loading:!0});return B.useEffect(()=>KM(NR,async i=>{if(!i){e({user:null,userData:null,organization:null,loading:!1});return}try{const s=my(Fw,"users",i.uid),l=await Vw(s);if(!l.exists()){e({user:i,userData:null,organization:null,loading:!1});return}const c={uid:i.uid,...l.data()},d=my(Fw,"organizations",c.orgId),p=await Vw(d),g=p.exists()?{id:p.id,...p.data()}:null;e({user:i,userData:c,organization:g,loading:!1})}catch(s){console.error("Error loading user data:",s),e({user:i,userData:null,organization:null,loading:!1})}}),[]),n}const qw=n=>{let e;const t=new Set,i=(g,v)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const T=e;e=v??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(S=>S(e,T))}},s=()=>e,d={setState:i,getState:s,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=n(i,s,d);return d},C3=(n=>n?qw(n):qw),I3=n=>n;function x3(n,e=I3){const t=ve.useSyncExternalStore(n.subscribe,ve.useCallback(()=>e(n.getState()),[n,e]),ve.useCallback(()=>e(n.getInitialState()),[n,e]));return ve.useDebugValue(t),t}const Hw=n=>{const e=C3(n),t=i=>x3(e,i);return Object.assign(t,e),t},D3=(n=>n?Hw(n):Hw),Bv=D3(n=>({userData:null,organization:null,setUserData:e=>n({userData:e}),setOrganization:e=>n({organization:e}),sidebarOpen:!0,setSidebarOpen:e=>n({sidebarOpen:e}),toggleSidebar:()=>n(e=>({sidebarOpen:!e.sidebarOpen})),notifPanelOpen:!1,setNotifPanelOpen:e=>n({notifPanelOpen:e}),searchQuery:"",setSearchQuery:e=>n({searchQuery:e})}));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PR=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:c,...d},p)=>B.createElement("svg",{ref:p,...N3,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:PR("lucide",s),...d},[...c.map(([g,v])=>B.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=(n,e)=>{const t=B.forwardRef(({className:i,...s},l)=>B.createElement(M3,{ref:l,iconNode:e,className:PR(`lucide-${O3(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],k3=hi("Bot",P3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],L3=hi("Database",V3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],z3=hi("LayoutDashboard",U3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],B3=hi("LogOut",j3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],q3=hi("Menu",F3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],kR=hi("MessageSquare",H3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Q3=hi("Puzzle",G3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$3=hi("Settings",K3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],X3=hi("ShoppingBag",Y3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],J3=hi("UserCog",W3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],eU=hi("Users",Z3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nU=hi("X",tU);function VR(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=VR(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function LR(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=VR(n))&&(i&&(i+=" "),i+=e);return i}const Fv="-",rU=n=>{const e=aU(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const d=c.split(Fv);return d[0]===""&&d.length!==1&&d.shift(),UR(d,e)||iU(c)},getConflictingClassGroupIds:(c,d)=>{const p=t[c]||[];return d&&i[c]?[...p,...i[c]]:p}}},UR=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),s=i?UR(n.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;const l=n.join(Fv);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},Gw=/^\[(.+)\]$/,iU=n=>{if(Gw.test(n)){const e=Gw.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},aU=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return oU(Object.entries(n.classGroups),t).forEach(([l,c])=>{yy(c,i,l,e)}),i},yy=(n,e,t,i)=>{n.forEach(s=>{if(typeof s=="string"){const l=s===""?e:Qw(e,s);l.classGroupId=t;return}if(typeof s=="function"){if(sU(s)){yy(s(i),e,t,i);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([l,c])=>{yy(c,Qw(e,l),t,i)})})},Qw=(n,e)=>{let t=n;return e.split(Fv).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},sU=n=>n.isThemeGetter,oU=(n,e)=>e?n.map(([t,i])=>{const s=i.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[t,s]}):n,lU=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const s=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return s(l,c),c},set(l,c){t.has(l)?t.set(l,c):s(l,c)}}},zR="!",uU=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,s=e[0],l=e.length,c=d=>{const p=[];let g=0,v=0,b;for(let D=0;D<d.length;D++){let $=d[D];if(g===0){if($===s&&(i||d.slice(D,D+l)===e)){p.push(d.slice(v,D)),v=D+l;continue}if($==="/"){b=D;continue}}$==="["?g++:$==="]"&&g--}const T=p.length===0?d:d.substring(v),S=T.startsWith(zR),k=S?T.substring(1):T,M=b&&b>v?b-v:void 0;return{modifiers:p,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:M}};return t?d=>t({className:d,parseClassName:c}):c},cU=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},hU=n=>({cache:lU(n.cacheSize),parseClassName:uU(n),...rU(n)}),fU=/\s+/,dU=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:s}=e,l=[],c=n.trim().split(fU);let d="";for(let p=c.length-1;p>=0;p-=1){const g=c[p],{modifiers:v,hasImportantModifier:b,baseClassName:T,maybePostfixModifierPosition:S}=t(g);let k=!!S,M=i(k?T.substring(0,S):T);if(!M){if(!k){d=g+(d.length>0?" "+d:d);continue}if(M=i(T),!M){d=g+(d.length>0?" "+d:d);continue}k=!1}const D=cU(v).join(":"),$=b?D+zR:D,W=$+M;if(l.includes(W))continue;l.push(W);const J=s(M,k);for(let ce=0;ce<J.length;++ce){const se=J[ce];l.push($+se)}d=g+(d.length>0?" "+d:d)}return d};function mU(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=jR(e))&&(i&&(i+=" "),i+=t);return i}const jR=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=jR(n[i]))&&(t&&(t+=" "),t+=e);return t};function pU(n,...e){let t,i,s,l=c;function c(p){const g=e.reduce((v,b)=>b(v),n());return t=hU(g),i=t.cache.get,s=t.cache.set,l=d,d(p)}function d(p){const g=i(p);if(g)return g;const v=dU(p,t);return s(p,v),v}return function(){return l(mU.apply(null,arguments))}}const Yt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},BR=/^\[(?:([a-z-]+):)?(.+)\]$/i,gU=/^\d+\/\d+$/,yU=new Set(["px","full","screen"]),vU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_U=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,EU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Aa=n=>Gl(n)||yU.has(n)||gU.test(n),ws=n=>pu(n,"length",DU),Gl=n=>!!n&&!Number.isNaN(Number(n)),Mg=n=>pu(n,"number",Gl),fc=n=>!!n&&Number.isInteger(Number(n)),wU=n=>n.endsWith("%")&&Gl(n.slice(0,-1)),Je=n=>BR.test(n),Ss=n=>vU.test(n),SU=new Set(["length","size","percentage"]),AU=n=>pu(n,SU,FR),RU=n=>pu(n,"position",FR),CU=new Set(["image","url"]),IU=n=>pu(n,CU,NU),xU=n=>pu(n,"",OU),dc=()=>!0,pu=(n,e,t)=>{const i=BR.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},DU=n=>_U.test(n)&&!bU.test(n),FR=()=>!1,OU=n=>EU.test(n),NU=n=>TU.test(n),MU=()=>{const n=Yt("colors"),e=Yt("spacing"),t=Yt("blur"),i=Yt("brightness"),s=Yt("borderColor"),l=Yt("borderRadius"),c=Yt("borderSpacing"),d=Yt("borderWidth"),p=Yt("contrast"),g=Yt("grayscale"),v=Yt("hueRotate"),b=Yt("invert"),T=Yt("gap"),S=Yt("gradientColorStops"),k=Yt("gradientColorStopPositions"),M=Yt("inset"),D=Yt("margin"),$=Yt("opacity"),W=Yt("padding"),J=Yt("saturate"),ce=Yt("scale"),se=Yt("sepia"),pe=Yt("skew"),x=Yt("space"),w=Yt("translate"),C=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Je,e],P=()=>[Je,e],O=()=>["",Aa,ws],Pe=()=>["auto",Gl,Je],Fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>["start","end","center","between","around","evenly","stretch"],de=()=>["","0",Je],Ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Gl,Je];return{cacheSize:500,separator:":",theme:{colors:[dc],spacing:[Aa,ws],blur:["none","",Ss,Je],brightness:L(),borderColor:[n],borderRadius:["none","","full",Ss,Je],borderSpacing:P(),borderWidth:O(),contrast:L(),grayscale:de(),hueRotate:L(),invert:de(),gap:P(),gradientColorStops:[n],gradientColorStopPositions:[wU,ws],inset:U(),margin:U(),opacity:L(),padding:P(),saturate:L(),scale:L(),sepia:de(),skew:L(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Ss]}],"break-after":[{"break-after":Ce()}],"break-before":[{"break-before":Ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Fe(),Je]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[M]}],"inset-x":[{"inset-x":[M]}],"inset-y":[{"inset-y":[M]}],start:[{start:[M]}],end:[{end:[M]}],top:[{top:[M]}],right:[{right:[M]}],bottom:[{bottom:[M]}],left:[{left:[M]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fc,Je]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",fc,Je]}],"grid-cols":[{"grid-cols":[dc]}],"col-start-end":[{col:["auto",{span:["full",fc,Je]},Je]}],"col-start":[{"col-start":Pe()}],"col-end":[{"col-end":Pe()}],"grid-rows":[{"grid-rows":[dc]}],"row-start-end":[{row:["auto",{span:[fc,Je]},Je]}],"row-start":[{"row-start":Pe()}],"row-end":[{"row-end":Pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...Te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[W]}],px:[{px:[W]}],py:[{py:[W]}],ps:[{ps:[W]}],pe:[{pe:[W]}],pt:[{pt:[W]}],pr:[{pr:[W]}],pb:[{pb:[W]}],pl:[{pl:[W]}],m:[{m:[D]}],mx:[{mx:[D]}],my:[{my:[D]}],ms:[{ms:[D]}],me:[{me:[D]}],mt:[{mt:[D]}],mr:[{mr:[D]}],mb:[{mb:[D]}],ml:[{ml:[D]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[Ss]},Ss]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ss,ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mg]}],"font-family":[{font:[dc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",Gl,Mg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Aa,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[$]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Aa,ws]}],"underline-offset":[{"underline-offset":["auto",Aa,Je]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[$]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Fe(),RU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IU]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[$]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[$]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Aa,Je]}],"outline-w":[{outline:[Aa,ws]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[$]}],"ring-offset-w":[{"ring-offset":[Aa,ws]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ss,xU]}],"shadow-color":[{shadow:[dc]}],opacity:[{opacity:[$]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Ss,Je]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[b]}],saturate:[{saturate:[J]}],sepia:[{sepia:[se]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[$]}],"backdrop-saturate":[{"backdrop-saturate":[J]}],"backdrop-sepia":[{"backdrop-sepia":[se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ce]}],"scale-x":[{"scale-x":[ce]}],"scale-y":[{"scale-y":[ce]}],rotate:[{rotate:[fc,Je]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[pe]}],"skew-y":[{"skew-y":[pe]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Aa,ws,Mg]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PU=pU(MU);function ud(...n){return PU(LR(n))}function z6(n){if(!n)return"";const t=Math.floor((new Date().getTime()-n.getTime())/1e3);return t<60?"Ahora":t<3600?`${Math.floor(t/60)}m`:t<86400?`${Math.floor(t/3600)}h`:`${Math.floor(t/86400)}d`}function j6(n,e="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:e}).format(n)}const kU=[{to:"/dashboard",icon:z3,label:"Panel Principal"},{to:"/conversations",icon:kR,label:"Conversaciones"},{to:"/contacts",icon:eU,label:"Contactos"},{to:"/orders",icon:X3,label:"Pedidos"}],VU=[{to:"/knowledge-base",icon:L3,label:"Bases de Datos"},{to:"/agents",icon:k3,label:"Agentes IA",restricted:!0},{to:"/integrations",icon:Q3,label:"Integraciones",restricted:!0},{to:"/team",icon:J3,label:"Equipo"},{to:"/settings",icon:$3,label:"Configuracin"}];function LU({className:n}){var v,b;const{userData:e,organization:t,sidebarOpen:i,setSidebarOpen:s}=Bv(),l=Iy();async function c(){try{await $M(NR),l("/login")}catch{T2.error("Error al cerrar sesin")}}const d=(e==null?void 0:e.role)==="agent"||(e==null?void 0:e.role)==="agente",p=((b=(v=e==null?void 0:e.name)==null?void 0:v.charAt(0))==null?void 0:b.toUpperCase())??"U",g=(t==null?void 0:t.brandName)??(t==null?void 0:t.name)??"MessageHub";return he.jsxs(he.Fragment,{children:[i&&he.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>s(!1)}),he.jsxs("aside",{className:ud("fixed left-0 top-0 z-40 flex h-full w-60 flex-col bg-gray-900/95 backdrop-blur border-r border-white/8 transition-transform duration-200",i?"translate-x-0":"-translate-x-full","lg:translate-x-0",n),children:[he.jsxs("div",{className:"flex h-14 items-center justify-between px-4 border-b border-white/8",children:[he.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[he.jsx("div",{className:"h-7 w-7 rounded-lg bg-brand-600 flex items-center justify-center shrink-0",children:he.jsx(kR,{size:14,className:"text-white"})}),he.jsx("span",{className:"font-semibold text-sm text-white truncate",children:g})]}),he.jsx("button",{onClick:()=>s(!1),className:"lg:hidden p-1 rounded text-gray-400 hover:text-white hover:bg-white/8",children:he.jsx(nU,{size:16})})]}),he.jsxs("nav",{className:"flex-1 overflow-y-auto px-2 py-3 space-y-0.5",children:[kU.map(({to:T,icon:S,label:k})=>he.jsxs(Fg,{to:T,onClick:()=>s(!1),className:({isActive:M})=>ud("flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors",M?"bg-brand-600/20 text-brand-300 font-medium":"text-gray-400 hover:bg-white/8 hover:text-white"),children:[he.jsx(S,{size:16}),k]},T)),he.jsx("div",{className:"px-3 pt-4 pb-1",children:he.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Configuracin"})}),VU.map(({to:T,icon:S,label:k,restricted:M})=>M&&d?null:he.jsxs(Fg,{to:T,onClick:()=>s(!1),className:({isActive:D})=>ud("flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors",D?"bg-brand-600/20 text-brand-300 font-medium":"text-gray-400 hover:bg-white/8 hover:text-white"),children:[he.jsx(S,{size:16}),k]},T))]}),he.jsx("div",{className:"border-t border-white/8 p-3",children:he.jsxs("div",{className:"flex items-center gap-2.5",children:[he.jsx("div",{className:"h-8 w-8 rounded-full bg-brand-600 flex items-center justify-center shrink-0 text-sm font-semibold text-white",children:p}),he.jsxs("div",{className:"flex-1 min-w-0",children:[he.jsx("p",{className:"text-sm font-medium text-white truncate",children:(e==null?void 0:e.name)??""}),he.jsx("p",{className:"text-xs text-gray-500 truncate capitalize",children:(e==null?void 0:e.role)??""})]}),he.jsx("button",{onClick:c,className:"p-1.5 rounded-lg text-gray-500 hover:text-red-400 hover:bg-red-500/10 transition-colors",title:"Cerrar sesin",children:he.jsx(B3,{size:14})})]})})]})]})}function UU(){const{toggleSidebar:n}=Bv();return he.jsx("button",{onClick:n,className:"p-2 rounded-lg text-gray-400 hover:text-white hover:bg-white/8 transition-colors lg:hidden",children:he.jsx(q3,{size:18})})}const zU={"/dashboard":{title:"Panel Principal",subtitle:"Resumen de tu actividad de mensajera"},"/conversations":{title:"Conversaciones",subtitle:"Gestiona todas tus conversaciones y funnel de ventas"},"/contacts":{title:"Contactos",subtitle:"Directorio de contactos enriquecido"},"/orders":{title:"Pedidos",subtitle:"Pedidos generados desde las conversaciones"},"/knowledge-base":{title:"Bases de Datos",subtitle:"Gestiona el conocimiento de tus agentes IA"},"/agents":{title:"Agentes IA",subtitle:"Configura agentes de inteligencia artificial"},"/integrations":{title:"Integraciones",subtitle:"Conecta plataformas de mensajera y pasarelas de pago"},"/team":{title:"Equipo",subtitle:"Gestiona los miembros de tu equipo"},"/settings":{title:"Configuracin",subtitle:"Preferencias de la organizacin"}};function jU(){const n=Ji(),e=zU[n.pathname]??{title:"MessageHub",subtitle:""};return he.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-950",children:[he.jsx(LU,{}),he.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden lg:pl-60",children:[he.jsx("header",{className:"flex h-14 shrink-0 items-center justify-between border-b border-white/8 px-4 lg:px-6",children:he.jsxs("div",{className:"flex items-center gap-3",children:[he.jsx(UU,{}),he.jsxs("div",{children:[he.jsx("h1",{className:"text-base font-semibold text-white leading-none",children:e.title}),e.subtitle&&he.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:e.subtitle})]})]})}),he.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:he.jsx(Oy,{})})]})]})}function qr(){return he.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-950",children:he.jsxs("div",{className:"flex flex-col items-center gap-4",children:[he.jsxs("div",{className:"relative h-12 w-12",children:[he.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-brand-600/30"}),he.jsx("div",{className:"absolute inset-0 rounded-full border-t-2 border-brand-500 animate-spin"})]}),he.jsx("p",{className:"text-sm text-gray-500 animate-pulse",children:"Cargando..."})]})})}const Kw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,$w=LR,BU=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return $w(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:l}=e,c=Object.keys(s).map(g=>{const v=t==null?void 0:t[g],b=l==null?void 0:l[g];if(v===null)return null;const T=Kw(v)||Kw(b);return s[g][T]}),d=t&&Object.entries(t).reduce((g,v)=>{let[b,T]=v;return T===void 0||(g[b]=T),g},{}),p=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((g,v)=>{let{class:b,className:T,...S}=v;return Object.entries(S).every(k=>{let[M,D]=k;return Array.isArray(D)?D.includes({...l,...d}[M]):{...l,...d}[M]===D})?[...g,b,T]:g},[]);return $w(n,c,p,t==null?void 0:t.class,t==null?void 0:t.className)},FU=BU("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-transparent transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-brand-600 text-white hover:bg-brand-500 active:bg-brand-700",destructive:"bg-red-600 text-white hover:bg-red-500 active:bg-red-700",outline:"border border-white/15 bg-transparent text-gray-200 hover:bg-white/8 active:bg-white/12",secondary:"bg-white/10 text-gray-200 hover:bg-white/15 active:bg-white/20",ghost:"text-gray-300 hover:bg-white/8 hover:text-white active:bg-white/12",link:"text-brand-400 underline-offset-4 hover:underline p-0 h-auto"},size:{default:"h-9 px-4 py-2",sm:"h-7 rounded-md px-3 text-xs",lg:"h-11 rounded-lg px-6 text-base",icon:"h-9 w-9","icon-sm":"h-7 w-7 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),qR=B.forwardRef(({className:n,variant:e,size:t,loading:i,disabled:s,children:l,...c},d)=>he.jsxs("button",{ref:d,className:ud(FU({variant:e,size:t,className:n})),disabled:s??i,...c,children:[i&&he.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[he.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),he.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),l]}));qR.displayName="Button";function qU({error:n,resetErrorBoundary:e}){return he.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-950",children:he.jsxs("div",{className:"flex flex-col items-center gap-4 text-center max-w-sm px-4",children:[he.jsx("div",{className:"text-4xl",children:""}),he.jsx("h1",{className:"text-xl font-semibold text-white",children:"Algo sali mal"}),he.jsx("p",{className:"text-sm text-gray-400",children:n instanceof Error?n.message:"Error desconocido"}),he.jsx(qR,{onClick:e,children:"Intentar de nuevo"})]})})}const HU=B.lazy(()=>Ai(()=>import("./LoginPage-BEY9xVYF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),GU=B.lazy(()=>Ai(()=>import("./OnboardingPage-BKIM5bn-.js"),__vite__mapDeps([9,1,2,3,4,10]))),QU=B.lazy(()=>Ai(()=>import("./DashboardPage-kJrePwru.js"),__vite__mapDeps([11,12,13,14,15]))),KU=B.lazy(()=>Ai(()=>import("./ConversationsPage-n6Yg4Dfx.js"),__vite__mapDeps([16,12,17,18,1,5,6,4,7,8,19,20,21,3,22,23]))),$U=B.lazy(()=>Ai(()=>import("./ContactsPage-BKJPG2PI.js"),__vite__mapDeps([24,18,12,17,1,2,14,20,6,4,21,8,3,19,22,7,23,25]))),YU=B.lazy(()=>Ai(()=>import("./OrdersPage-_QnYdQ6I.js"),__vite__mapDeps([26,12,17,2,14,22,6,4,7,21,25,15]))),XU=B.lazy(()=>Ai(()=>import("./KnowledgeBasePage-BX-pWmUL.js"),__vite__mapDeps([27,28,12,17,2,3,4,20,6,21,8,14,23,29]))),WU=B.lazy(()=>Ai(()=>import("./AgentsPage-TWIqcK8r.js"),__vite__mapDeps([30,1,31,12,17,28,2,3,4,19,6,22,7,21,14,20,8,23]))),JU=B.lazy(()=>Ai(()=>import("./IntegrationsPage-Dru39K9N.js"),__vite__mapDeps([32,1,31,12,17,2,3,4,14,20,6,21,8,33,15]))),ZU=B.lazy(()=>Ai(()=>import("./TeamPage-XlZzcv0c.js"),__vite__mapDeps([34,31,12,17,14,33]))),e6=B.lazy(()=>Ai(()=>import("./SettingsPage-DkSma570.js"),__vite__mapDeps([35,1,2,3,4,13,29,10])));function t6(){const{user:n,userData:e,loading:t}=MR(),{setUserData:i}=Bv();return t||i(e),t?he.jsx(qr,{}):n?e?he.jsx(Oy,{}):he.jsx(kc,{to:"/onboarding",replace:!0}):he.jsx(kc,{to:"/login",replace:!0})}function n6(){const{user:n,userData:e,loading:t}=MR();return t?he.jsx(qr,{}):n&&e?he.jsx(kc,{to:"/",replace:!0}):he.jsx(Oy,{})}const r6=$D([{element:he.jsx(n6,{}),children:[{path:"/login",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(HU,{})})},{path:"/onboarding",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(GU,{})})}]},{element:he.jsx(t6,{}),children:[{element:he.jsx(jU,{}),children:[{index:!0,element:he.jsx(kc,{to:"/dashboard",replace:!0})},{path:"/dashboard",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(QU,{})})},{path:"/conversations",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(KU,{})})},{path:"/contacts",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx($U,{})})},{path:"/orders",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(YU,{})})},{path:"/knowledge-base",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(XU,{})})},{path:"/agents",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(WU,{})})},{path:"/integrations",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(JU,{})})},{path:"/team",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(ZU,{})})},{path:"/settings",element:he.jsx(B.Suspense,{fallback:he.jsx(qr,{}),children:he.jsx(e6,{})})}]}]},{path:"*",element:he.jsx(kc,{to:"/",replace:!0})}],{basename:"/message-hub/"});function i6(){return he.jsx(oO,{FallbackComponent:qU,children:he.jsx(aO,{router:r6})})}const HR=document.getElementById("root");if(!HR)throw new Error("No root element found");II.createRoot(HR).render(he.jsx(B.StrictMode,{children:he.jsxs(n2,{client:k2,children:[he.jsx(i6,{}),he.jsx(P2,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{duration:4e3,classNames:{toast:"font-sans"}}}),he.jsx(a2,{initialIsOpen:!1})]})}));export{o6 as $,Bv as A,qR as B,h6 as C,S6 as D,D6 as E,x6 as F,xs as G,I6 as H,d1 as I,z6 as J,k3 as K,j6 as L,kR as M,L3 as N,M6 as O,s2 as P,zy as Q,ve as R,X3 as S,Xt as T,eU as U,m6 as V,TI as W,nU as X,BU as Y,Nd as Z,pT as _,NR as a,Dc as a0,JI as a1,fr as a2,vi as a3,l6 as a4,qI as a5,kI as a6,kg as a7,Md as a8,MI as a9,PI as aa,Pg as ab,l1 as ac,YI as ad,UI as ae,L6 as af,U6 as ag,P6 as ah,k6 as ai,V6 as aj,Fw as b,R6 as c,my as d,O6 as e,T2 as f,Vw as g,p6 as h,y6 as i,he as j,hi as k,ud as l,g6 as m,v6 as n,E6 as o,A6 as p,T6 as q,B as r,_6 as s,C6 as t,Iy as u,N6 as v,w6 as w,s6 as x,i1 as y,LR as z};

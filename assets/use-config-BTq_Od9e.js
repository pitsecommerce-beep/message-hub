import{u as f}from"./useQuery-D47Ue_YD.js";import{C as g,f as t,t as q,d as m,b as s,F as A,o as i,e as o,H as w,p as c,q as d,w as y}from"./index-CEkNgELi.js";import{u as l}from"./useMutation-COeJoQaC.js";function D(a){return f({queryKey:["team",a],queryFn:async()=>{if(!a)return[];const n=await c(d(i(s,"users"),y("orgId","==",a))),e=await c(d(i(s,"users"),y("organizationId","==",a))),r=[...n.docs,...e.docs],p=new Set;return r.filter(u=>p.has(u.id)?!1:(p.add(u.id),!0)).map(u=>({uid:u.id,...u.data()}))},enabled:!!a})}function K(a){return f({queryKey:["ai-agents",a],queryFn:async()=>a?(await c(d(i(s,"aiAgents"),y("orgId","==",a)))).docs.map(e=>({id:e.id,...e.data()})):[],enabled:!!a})}function S(a){const n=g();return l({mutationFn:async({id:e,...r})=>{e?await q(m(s,"aiAgents",e),{...r,updatedAt:o()}):await A(i(s,"aiAgents"),{...r,createdAt:o()})},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-agents",a]}),t.success("Agente guardado")},onError:e=>t.error(e.message)})}function Q(a){const n=g();return l({mutationFn:async e=>{await w(m(s,"aiAgents",e))},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-agents",a]}),t.success("Agente eliminado")},onError:e=>t.error(e.message)})}function E(a){return f({queryKey:["integrations",a],queryFn:async()=>a?(await c(d(i(s,"integrations"),y("orgId","==",a)))).docs.map(e=>({id:e.id,...e.data()})):[],enabled:!!a})}function h(a){const n=g();return l({mutationFn:async({id:e,...r})=>{e?await q(m(s,"integrations",e),{...r,updatedAt:o()}):await A(i(s,"integrations"),{...r,updatedAt:o()})},onSuccess:()=>{n.invalidateQueries({queryKey:["integrations",a]}),t.success("Integración guardada")},onError:e=>t.error(e.message)})}function C(a){const n=g();return l({mutationFn:async e=>{await w(m(s,"integrations",e))},onSuccess:()=>{n.invalidateQueries({queryKey:["integrations",a]}),t.success("Integración eliminada")},onError:e=>t.error(e.message)})}export{Q as a,S as b,E as c,C as d,h as e,D as f,K as u};
